{"ts":1373773440381,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"// Get the lib\r\nvar irc = require(\"irc\");\r\nvar request = require('request');\r\nvar moment = require('moment');\r\nvar parseString = require('xml2js').parseString;\r\nvar googleapis = require('googleapis');\r\nvar db = require('node-persist');\r\n\r\n\r\n//Google API key\r\nvar key = 'AIzaSyDPlGenbEo8T-sbeNHx_shvJSRCwOpCESc';\r\n\r\nvar ip = 'http://198.211.99.242:8020/';\r\nvar chan = '#SonicRadioboom';\r\n\r\nvar now = new moment();\r\ndb.initSync();\r\nif (!db.getItem('ElectricErger'.substring(0,12))) {\r\n    db.setItem('ElectricErger'.substring(0,12), now);\r\n}\r\nif (!db.getItem('linaea'.substring(0,12))) {\r\n    db.setItem('linaea'.substring(0,12), now);\r\n}\r\nvar current;\r\nrequest(ip+'stats?sid=1', function (error, response, body) {\r\n    if (!error && response.statusCode == 200) {\r\n        parseString(body, function (err, result) {\r\n            current = result;\r\n        });\r\n    }\r\n});\r\n\r\n// Create the configuration\r\nvar config = {\r\n    channels: [chan],\r\n\tserver: \"irc.canternet.org\",\r\n\tbotName: \"Sonia\",\r\n    floodProtection: true,\r\n};\r\n\r\nvar notify = true;\r\n\r\n// Create the bot name\r\nvar sonia = new irc.Client(config.server, config.botName, {\r\n    channels: config.channels\r\n});\r\n\r\nsonia.addListener('message', function (from, to, message) {\r\n    // console.log(from + ' => ' + to + ': ' + message);\r\n    // if (message.match('bot')) sonia.say(from, \"I heard that!\");\r\n    if (message.match('Sonia: ')||message.match('^!')) {\r\n    // request('http://198.211.99.242:2199/api.php?xm=server.getstatus&f=json&a[username]=json&a[password]=secret', function (error, response, body) {http://198.211.99.242:8020/currentsong?sid=1\r\n        // sonia.action(chan, 'Pokes '+from);\r\n        var begin = message.match('(Sonia: |!)')[1];\r\n        message = message.match('(?:Sonia: |!)(.*)')[1];\r\n        if (message.match('^s(?:ong| |$)')) {\r\n            sonia.say(chan, 'Current Song: '+current.SHOUTCASTSERVER.SONGTITLE);\r\n        } else if (message.match('^l(?:isteners| |$)')) {\r\n            sonia.say(chan, 'Listeners: '+current.SHOUTCASTSERVER.CURRENTLISTENERS);\r\n        } else if (message.match('^lo(?:gin| |$)') && message.match(' (.*)')) {\r\n            sonia.say(chan, \"Last login by \"+message.match(' (.*)')[1]+\": \"+moment(db.getItem(message.match(' (.*)')[1].substring(0,12))).fromNow());\r\n        } else  if (message.match('^\\\\?')) {\r\n            sonia.say(chan,\r\n            'Commands: [s]ong, [l]isteners, [lo]gin, [h]ug, [p]oke, @add, [g]etdata, [n]ext, @[no]tify');\r\n        } else if (message.match('^no(?:tify| |$)')) {\r\n            sonia.whois(from, function (info) {\r\n                if (info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) {\r\n                    notify = !notify;\r\n                    sonia.say(chan, 'Notifications '+(notify?'on':'off'));\r\n                } else {\r\n                    console.log(info);\r\n                    sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n\r\n        } else if (message.match('^h(?:ug| |$)')) {\r\n            sonia.action(chan, ' hugs '+from);\r\n        } else if (message.match('^p(?:oke| |$)') && message.match(' (.*)')) {\r\n            sonia.action(chan, ' pokes '+message.match(' (.*)')[1]);\r\n        } else if (message.match('^a(?:dd| |$)') && message.match(' (.*)')) {\r\n            sonia.whois(from, function (info) {\r\n                if (info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) {\r\n                    db.setItem(current.SHOUTCASTSERVER.SONGTITLE+\"\", message.match(' (.*)')[1]);\r\n                    sonia.say(from, 'Set record for '+current.SHOUTCASTSERVER.SONGTITLE+' to '+db.getItem(current.SHOUTCASTSERVER.SONGTITLE));\r\n                } else {\r\n                    sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n        } else if (message.match('^s(?:ay| |$)') && message.match(' (.*)')) {\r\n            sonia.whois(from, function (info) {\r\n                if (info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) {\r\n                    sonia.say(chan, message.match(' (.*)')[1]);\r\n                } else {\r\n                    sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n        } else if (message.match('^g(?:etdata| |$)')) {\r\n            sonia.say(chan, from+': Does this help? '+current.SHOUTCASTSERVER.SONGTITLE+' is '+db.getItem(current.SHOUTCASTSERVER.SONGTITLE+\"\"));\r\n        } else if (message.match('^n(?:ext| |$)')) {\r\n            googleapis.discover('calendar', 'v3').execute(function(err, client) {\r\n                var moments = message.match(' (.*)');\r\n                if (moments) {\r\n                    moments = moment(moments[1]);\r\n                    moments = moments.isValid()?moments:moment();\r\n                } else {\r\n                    moments = moment();\r\n                }\r\n                var params = {\r\n                      calendarId: 'sonicradioboom2013@gmail.com',\r\n                      maxResults: 1,\r\n                      timeMin: moments,\r\n                      singleEvents: true,\r\n                      orderBy: \"startTime\",\r\n                      };\r\n                client.calendar.events.list(params).withApiKey(key).execute(function (err, response) {\r\n                    response.items.forEach(function (item,a,b) {sonia.say(chan, 'Next event is '+item.summary+' '+moment(item.start.dateTime).fromNow());});\r\n                })});\r\n        } else if (message=='PLEASE QUIT NAO') {\r\n            process.exit();\r\n        } else if (begin!='!') {\r\n            if (to!=config.botName) {\r\n                sonia.say(chan, message+' to you, too, '+from);\r\n            } else {\r\n                sonia.say(from, message+' to you, too, '+from);\r\n            }\r\n        }\r\n    }\r\n});\r\n\r\nsetInterval(function() {\r\n    request(ip+'stats?sid=1', function (error, response, body) {\r\n        if (!error && response.statusCode == 200) {\r\n            parseString(body, function (err, result) {\r\n                if (notify && current && (JSON.stringify(current.SHOUTCASTSERVER.SONGTITLE) != JSON.stringify(result.SHOUTCASTSERVER.SONGTITLE))) {\r\n                    sonia.say(chan, 'New Song: '+result.SHOUTCASTSERVER.SONGTITLE);\r\n                }\r\n                current = result;\r\n            });\r\n        }\r\n    });\r\n}, 1000);\r\n\r\nsonia.addListener('join', function(channel, nick, message) {\r\n    if (channel==chan && nick!=config.botName) {\r\n        sonia.say(chan, 'Hello '+nick+\"!\");\r\n        var record = db.getItem(nick.substring(0,12));\r\n        if (record) {\r\n            sonia.say(chan, 'Welcome back! Last login: '+moment(record).fromNow()+\".\");\r\n            \r\n        } else {\r\n            sonia.say(chan, 'Haven\\'t seen you around before, care to introduce yourself?');\r\n            sonia.say(nick, 'Welcome to #'+chan+'! The radio stream is available at http://thunderlane.ponyvillelive.com/~srb/.');\r\n        }\r\n        db.setItem(nick.substring(0,12), moment());\r\n    }\r\n});\r\n\r\nsonia.addListener('quit', function(channel, nick, message) {\r\n    if (channel==chan && nick!=config.botName) {\r\n        db.setItem(nick.substring(0,12), moment());\r\n    }\r\n});\r\n\r\nsonia.addListener('error', function(message) {\r\n    console.log('error: ', message);\r\n});\r\n"]],"start1":0,"start2":0,"length1":0,"length2":7506}]],"length":7506}
{"contributors":[],"silentsave":false,"ts":1373800904025,"patch":[[{"diffs":[[0,"t event "],[-1,"i"],[1,"start"],[0,"s '+item"]],"start1":5595,"start2":5595,"length1":17,"length2":21}]],"length":7510,"saved":false}
{"ts":1373803504653,"patch":[[{"diffs":[[0,"\n});\r\n\r\n"],[1,"setInterval(function(){client.send('PONG', 'empty');}, 5*60*1000);\r\n\r\n"],[0,"setInter"]],"start1":6032,"start2":6032,"length1":16,"length2":86}]],"length":7580,"saved":false}
{"ts":1373805806342,"patch":[[{"diffs":[[0,"ction(){"],[-1,"client"],[1,"sonia"],[0,".send('P"]],"start1":6055,"start2":6055,"length1":22,"length2":21}]],"length":7579,"saved":false}
{"ts":1373806033024,"patch":[[{"diffs":[[0,"\r\n\r\n"],[-1,"setInterval(function(){sonia.send('PONG', 'empty');}, 5*60*1000);\r\n\r\n"],[0,"setI"]],"start1":6036,"start2":6036,"length1":77,"length2":8}]],"length":7510,"saved":false}
{"contributors":[],"silentsave":false,"ts":1373808903665,"patch":[[{"diffs":[[0,"chan],\r\n"],[-1,"\t"],[1,"    "],[0,"server: "]],"start1":933,"start2":933,"length1":17,"length2":20}]],"length":7513,"saved":false}
{"ts":1373809262462,"patch":[[{"diffs":[[0,"otify = "],[-1,"tru"],[1,"fals"],[0,"e;\r\n\r\n//"]],"start1":1034,"start2":1034,"length1":19,"length2":20}]],"length":7514,"saved":false}
{"ts":1373810167710,"patch":[[{"diffs":[[0,"h('^"],[-1,"\\\\?"],[1,"(?:\\\\?|help|command)"],[0,"')) "]],"start1":2313,"start2":2313,"length1":11,"length2":28}]],"length":7531,"saved":false}
{"ts":1373810906027,"patch":[[{"diffs":[[0,"hannels\r\n});\r\n\r\n"],[1,"sonia.say('linaea', 'Started Sonia '+require('./package.json').version)\r\n\r\n"],[0,"sonia.addListene"]],"start1":1159,"start2":1159,"length1":32,"length2":107}]],"length":7606,"saved":false}
{"ts":1373811162060,"patch":[[{"diffs":[[0,"version)"],[1,";"],[0,"\r\n\r\nsoni"]],"start1":1238,"start2":1238,"length1":16,"length2":17}]],"length":7607,"saved":false}
{"ts":1373811190150,"patch":[[{"diffs":[[0," {\r\n"],[-1,"    if (channel==chan && nick!=config.botName) {\r\n    "],[0,"    "]],"start1":7395,"start2":7395,"length1":62,"length2":8},{"diffs":[[0,"2), moment());\r\n"],[-1,"    }\r\n"],[0,"});\r\n\r\nsonia.add"]],"start1":7432,"start2":7432,"length1":39,"length2":32}]],"length":7546,"saved":false}
{"ts":1373813049368,"patch":[[{"diffs":[[0,"    "],[-1,"sonia.say(chan, from+': Does this help? '+current.SHOUTCASTSERVER.SONGTITLE+' is '+db.getItem("],[1,"var data = db.getItem((message.match(' (.*)')?message.match(' (.*)')[1]:current.SHOUTCASTSERVER.SONGTITLE)+\"\");\r\n            if (!data) {\r\n                googleapis.discover('youtube', 'v3').execute(function(err, client) {\r\n                    var moments = message.match(' (.*)');\r\n                    if (moments) {\r\n                        moments = moment(moments[1]);\r\n                        moments = moments.isValid()?moments:moment();\r\n                    } else {\r\n                        moments = moment();\r\n                    }\r\n                    var params = {\r\n                          maxResults: 1,\r\n                          q: (message.match(' (.*)')?message.match(' (.*)')[1]:current.SHOUTCASTSERVER.SONGTITLE),\r\n                          order: 'rating',\r\n                          part: 'snippet',\r\n                          };\r\n                    client.youtube.list(params).withApiKey(key).execute(function (err, response) {\r\n                        response.items.forEach(function (item,a,b) {\r\n                            sonia.say(chan, from+': Does this help? '+current.SHOUTCASTSERVER.SONGTITLE+' might be http://www.youtube.com/watch?v='+item.id.videoId);\r\n                            });\r\n                    })});\r\n            } else {\r\n                sonia.say(chan, from+': Does this help? '+"],[0,"curr"]],"start1":4645,"start2":4645,"length1":102,"length2":1341},{"diffs":[[0,"TLE+"],[-1,"\"\"));"],[1,"' is '+data);\r\n            }"],[0,"\r\n  "]],"start1":6012,"start2":6012,"length1":13,"length2":36}]],"length":8808,"saved":false}
{"ts":1373813111499,"patch":[[{"diffs":[[0," client."],[-1,"youtube"],[1,"search"],[0,".list(pa"]],"start1":5524,"start2":5524,"length1":23,"length2":22}]],"length":8807,"saved":false}
{"ts":1373813212011,"patch":[[{"diffs":[[0,"            };\r\n"],[1,"                          console.log(client);\r\n"],[0,"                "]],"start1":5489,"start2":5489,"length1":32,"length2":80}]],"length":8855,"saved":false}
{"ts":1373813263961,"patch":[[{"diffs":[[0,"                "],[-1,"  "],[0,"maxResults: 1,\r\n"]],"start1":5237,"start2":5237,"length1":34,"length2":32},{"diffs":[[0,"maxResults: 1,\r\n"],[-1,"  "],[0,"                "]],"start1":5253,"start2":5253,"length1":34,"length2":32},{"diffs":[[0,"            "],[-1,"  "],[0,"order: 'rati"]],"start1":5395,"start2":5395,"length1":26,"length2":24},{"diffs":[[0," 'rating',\r\n"],[-1,"  "],[0,"            "]],"start1":5413,"start2":5413,"length1":26,"length2":24},{"diffs":[[0,"'snippet',\r\n"],[-1,"  "],[0,"            "]],"start1":5455,"start2":5455,"length1":26,"length2":24}]],"length":8845,"saved":false}
{"ts":1373813280124,"patch":[[{"diffs":[[0," client."],[1,"youtube."],[0,"search.l"]],"start1":5562,"start2":5562,"length1":16,"length2":24}]],"length":8853,"saved":false}
{"ts":1373813299838,"patch":[[{"diffs":[[0,"            "],[1," //"],[0," order: 'rat"]],"start1":5394,"start2":5394,"length1":24,"length2":27}]],"length":8856,"saved":false}
{"ts":1373813469635,"patch":[[{"diffs":[[0," current"],[1,", rem"],[0,";\r\nreque"]],"start1":641,"start2":641,"length1":16,"length2":21},{"diffs":[[0,".videoId);\r\n"],[1,"                            rem = 'http://www.youtube.com/watch?v='+item.id.videoId;\r\n"],[0,"            "]],"start1":5883,"start2":5883,"length1":24,"length2":110}]],"length":8947,"saved":false}
{"ts":1373813657007,"patch":[[{"diffs":[[0,"tch("],[-1,"'bot'"],[1,"/bot/i"],[0,")) s"]],"start1":1396,"start2":1396,"length1":13,"length2":14},{"diffs":[[0,"tch("],[-1,"'"],[1,"/"],[0,"Sonia: "],[-1,"'"],[1,"/i"],[0,")||m"]],"start1":1462,"start2":1462,"length1":17,"length2":18},{"diffs":[[0,"tch("],[-1,"'^!'"],[1,"/^!/i"],[0,")) {"]],"start1":1489,"start2":1489,"length1":12,"length2":13},{"diffs":[[0,"e.match("],[-1,"'"],[1,"/"],[0,"(Sonia: "]],"start1":1773,"start2":1773,"length1":17,"length2":17},{"diffs":[[0,"nia: |!)"],[-1,"'"],[1,"/i"],[0,")[1];\r\n "]],"start1":1785,"start2":1785,"length1":17,"length2":18},{"diffs":[[0,"e.match("],[-1,"'"],[1,"/"],[0,"(?:Sonia"]],"start1":1826,"start2":1826,"length1":17,"length2":17},{"diffs":[[0,"nia: |!)(.*)"],[-1,"'"],[1,"/i"],[0,")[1];\r\n     "]],"start1":1840,"start2":1840,"length1":25,"length2":26},{"diffs":[[0,"ssage.match("],[-1,"'"],[1,"/"],[0,"^s(?:ong| |$"]],"start1":1875,"start2":1875,"length1":25,"length2":25},{"diffs":[[0,"s(?:ong| |$)"],[-1,"'"],[1,"/i"],[0,")) {\r\n      "]],"start1":1889,"start2":1889,"length1":25,"length2":26},{"diffs":[[0,"e.match("],[-1,"'"],[1,"/"],[0,"^l(?:ist"]],"start1":2016,"start2":2016,"length1":17,"length2":17},{"diffs":[[0,"steners| |$)"],[-1,"'"],[1,"/i"],[0,")) {\r\n      "]],"start1":2031,"start2":2031,"length1":25,"length2":26},{"diffs":[[0,"e.match("],[-1,"'"],[1,"/"],[0,"^lo(?:gi"]],"start1":2162,"start2":2162,"length1":17,"length2":17},{"diffs":[[0,"o(?:gin| |$)"],[-1,"'"],[1,"/i"],[0,") && message"]],"start1":2173,"start2":2173,"length1":25,"length2":26},{"diffs":[[0,"& message.match("],[-1,"'"],[1,"/"],[0," (.*)"],[-1,"'"],[1,"/i"],[0,")) {\r\n          "]],"start1":2190,"start2":2190,"length1":39,"length2":40},{"diffs":[[0,"ssage.match("],[-1,"'"],[1,"/"],[0," (.*)"],[-1,"'"],[1,"/i"],[0,")[1]+\": \"+mo"]],"start1":2267,"start2":2267,"length1":31,"length2":32},{"diffs":[[0,"ssage.match("],[-1,"'"],[1,"/"],[0," (.*)"],[-1,"'"],[1,"/i"],[0,")[1].substri"]],"start1":2317,"start2":2317,"length1":31,"length2":32},{"diffs":[[0,"e.match("],[-1,"'"],[1,"/"],[0,"^(?:\\\\?|"]],"start1":2399,"start2":2399,"length1":17,"length2":17},{"diffs":[[0,"command)"],[-1,"'"],[1,"/i"],[0,")) {\r\n  "]],"start1":2421,"start2":2421,"length1":17,"length2":18},{"diffs":[[0,"e.match("],[-1,"'"],[1,"/"],[0,"^no(?:ti"]],"start1":2598,"start2":2598,"length1":17,"length2":17},{"diffs":[[0,"(?:tify| |$)"],[-1,"'"],[1,"/i"],[0,")) {\r\n      "]],"start1":2610,"start2":2610,"length1":25,"length2":26},{"diffs":[[0,"e.match("],[-1,"'"],[1,"/"],[0,"^h(?:ug|"]],"start1":3177,"start2":3177,"length1":17,"length2":17},{"diffs":[[0,"^h(?:ug| |$)"],[-1,"'"],[1,"/i"],[0,")) {\r\n      "]],"start1":3186,"start2":3186,"length1":25,"length2":26},{"diffs":[[0,"e.match("],[-1,"'"],[1,"/"],[0,"^p(?:oke"]],"start1":3279,"start2":3279,"length1":17,"length2":17},{"diffs":[[0,"p(?:oke| |$)"],[-1,"'"],[1,"/i"],[0,") && message"]],"start1":3289,"start2":3289,"length1":25,"length2":26},{"diffs":[[0,"& message.match("],[-1,"'"],[1,"/"],[0," (.*)"],[-1,"'"],[1,"/i"],[0,")) {\r\n          "]],"start1":3306,"start2":3306,"length1":39,"length2":40},{"diffs":[[0,"'+message.match("],[-1,"'"],[1,"/"],[0," (.*)"],[-1,"'"],[1,"/i"],[0,")[1]);\r\n        "]],"start1":3375,"start2":3375,"length1":39,"length2":40},{"diffs":[[0,"e.match("],[-1,"'"],[1,"/"],[0,"^a(?:dd|"]],"start1":3432,"start2":3432,"length1":17,"length2":17},{"diffs":[[0,"^a(?:dd| |$)"],[-1,"'"],[1,"/i"],[0,") && message"]],"start1":3441,"start2":3441,"length1":25,"length2":26},{"diffs":[[0,"& message.match("],[-1,"' (.*)'"],[1,"/ (.*)/i)) {\r\n            sonia.whois(from, function (info) {\r\n                if (info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) {\r\n                    db.setItem(current.SHOUTCASTSERVER.SONGTITLE+\"\", message.match(/ (.*)/i)[1]);\r\n                    sonia.say(from, 'Set record for '+current.SHOUTCASTSERVER.SONGTITLE+' to '+db.getItem(current.SHOUTCASTSERVER.SONGTITLE));\r\n                } else {\r\n                    sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n        } else if (message.match(/^y(?:es, add it)/i"],[0,")) {\r\n          "]],"start1":3458,"start2":3458,"length1":39,"length2":706},{"diffs":[[0,", message.match("],[-1,"'"],[1,"/"],[0," (.*)"],[-1,"'"],[1,"/i"],[0,")[1]);\r\n        "]],"start1":4441,"start2":4441,"length1":39,"length2":40},{"diffs":[[0,"e.match("],[-1,"'"],[1,"/"],[0,"^s(?:ay|"]],"start1":4787,"start2":4787,"length1":17,"length2":17},{"diffs":[[0,":ay| |$)"],[-1,"'"],[1,"/i"],[0,") && mes"]],"start1":4800,"start2":4800,"length1":17,"length2":18},{"diffs":[[0,"e.match("],[-1,"'"],[1,"/"],[0," (.*)"],[-1,"'"],[1,"/i"],[0,")) {\r\n  "]],"start1":4821,"start2":4821,"length1":23,"length2":24},{"diffs":[[0,"ssage.match("],[-1,"'"],[1,"/"],[0," (.*)"],[-1,"'"],[1,"/i"],[0,")[1]);\r\n    "]],"start1":5101,"start2":5101,"length1":31,"length2":32},{"diffs":[[0,"e.match("],[-1,"'"],[1,"/"],[0,"^g(?:etd"]],"start1":5299,"start2":5299,"length1":17,"length2":17},{"diffs":[[0,":etdata| |$)"],[-1,"'"],[1,"/i"],[0,")) {\r\n      "]],"start1":5312,"start2":5312,"length1":25,"length2":26},{"diffs":[[0,"((message.match("],[-1,"'"],[1,"/"],[0," (.*)"],[-1,"'"],[1,"/i"],[0,")?message.match("]],"start1":5365,"start2":5365,"length1":39,"length2":40},{"diffs":[[0,")?message.match("],[-1,"'"],[1,"/"],[0," (.*)"],[-1,"'"],[1,"/i"],[0,")[1]:current.SHO"]],"start1":5389,"start2":5389,"length1":39,"length2":40},{"diffs":[[0,"= message.match("],[-1,"'"],[1,"/"],[0," (.*)"],[-1,"'"],[1,"/i"],[0,");\r\n            "]],"start1":5603,"start2":5603,"length1":39,"length2":40},{"diffs":[[0,"e.match("],[-1,"'"],[1,"/"],[0," (.*)"],[-1,"'"],[1,"/i"],[0,")?messag"]],"start1":6001,"start2":6001,"length1":23,"length2":24},{"diffs":[[0,"e.match("],[-1,"'"],[1,"/"],[0," (.*)"],[-1,"'"],[1,"/i"],[0,")[1]:cur"]],"start1":6025,"start2":6025,"length1":23,"length2":24},{"diffs":[[0,"e.match("],[-1,"'"],[1,"/"],[0,"^n(?:ext"]],"start1":6905,"start2":6905,"length1":17,"length2":17},{"diffs":[[0,"ext| |$)"],[-1,"'"],[1,"/i"],[0,")) {\r\n  "]],"start1":6919,"start2":6919,"length1":17,"length2":18},{"diffs":[[0,"tch("],[-1,"'"],[1,"/"],[0," (.*)"],[-1,"'"],[1,"/i"],[0,");\r\n"]],"start1":7058,"start2":7058,"length1":15,"length2":16}]],"length":9644,"saved":false}
{"ts":1373813821297,"patch":[[{"diffs":[[0,"match(/^"],[-1,"(?:"],[0,"\\\\?|help"]],"start1":2401,"start2":2401,"length1":19,"length2":16},{"diffs":[[0,"|command"],[-1,")"],[0,"/i)) {\r\n"]],"start1":2417,"start2":2417,"length1":17,"length2":16}]],"length":9640,"saved":false}
{"ts":1373813892574,"patch":[[{"diffs":[[0,")/i)"],[-1," && message.match(/ (.*)/i"],[0,")) {"]],"start1":3448,"start2":3448,"length1":34,"length2":8},{"diffs":[[0,"R.SONGTITLE+\"\", "],[1,"(message.match(/ (.*)/i)?"],[0,"message.match(/ "]],"start1":3731,"start2":3731,"length1":32,"length2":57},{"diffs":[[0,"tch(/ (.*)/i)[1]"],[1,":rem)"],[0,");\r\n            "]],"start1":3782,"start2":3782,"length1":32,"length2":37}]],"length":9644,"saved":false}
{"ts":1373813909478,"patch":[[{"diffs":[[0," |$)/i))"],[-1,")"],[0," {\r\n    "]],"start1":3445,"start2":3445,"length1":17,"length2":16}]],"length":9643,"saved":false}
{"ts":1373814005136,"patch":[[{"diffs":[[0,"h(/^"],[-1,"\\\\?"],[0,"|hel"]],"start1":2405,"start2":2405,"length1":11,"length2":8},{"diffs":[[0,"mmand/i)"],[1," || message == '?'"],[0,") {\r\n   "]],"start1":2417,"start2":2417,"length1":16,"length2":34}]],"length":9658,"saved":false}
{"ts":1373814110561,"patch":[[{"diffs":[[0,"match(/^"],[-1,"|"],[0,"help|com"]],"start1":2401,"start2":2401,"length1":17,"length2":16}]],"length":9657,"saved":false}
{"ts":1373814257060,"patch":[[{"diffs":[[0,"\"\", "],[-1,"message.match(/ (.*)/i)[1]"],[1,"rem"],[0,");\r\n"]],"start1":4452,"start2":4452,"length1":34,"length2":11}]],"length":9634,"saved":false}
{"ts":1373814705736,"patch":[[{"diffs":[[0,"in!='!') {\r\n"],[1,"            if (message.match(/thank you/i)) {\r\n                message = 'No problem!';\r\n            } else {\r\n                message = message+' you, too, '+from;\r\n            }\r\n"],[0,"            "]],"start1":7982,"start2":7982,"length1":24,"length2":206},{"diffs":[[0," message"],[-1,"+' to you, too, '+from"],[0,");\r\n    "]],"start1":8246,"start2":8246,"length1":38,"length2":16},{"diffs":[[0,"sage"],[-1,"+' to you, too, '+from"],[0,");\r\n"]],"start1":8315,"start2":8315,"length1":30,"length2":8}]],"length":9772,"saved":false}
{"ts":1373814997340,"patch":[[{"diffs":[[0,"      } else {\r\n"],[1,"                var match = false;\r\n                db.get('calls').keys.forEach(function (item, a, b) {\r\n                    if (message.match(item)) {\r\n                        match = true;\r\n                        var response = db.get('calls').getItem(item);\r\n                        message.replace(/<from>/g, from);\r\n                        message.replace(/<feeling>/g, feeling);\r\n                    }\r\n                }\r\n                if (!match) {\r\n    "],[0,"                "]],"start1":8090,"start2":8090,"length1":32,"length2":497},{"diffs":[[0,"+from;\r\n"],[1,"                }\r\n"],[0,"        "]],"start1":8618,"start2":8618,"length1":16,"length2":35}]],"length":10256,"saved":false}
{"ts":1373815013488,"patch":[[{"diffs":[[0,"               }"],[1,");"],[0,"\r\n              "]],"start1":8518,"start2":8518,"length1":32,"length2":34}]],"length":10258,"saved":false}
{"ts":1373815020486,"patch":[[{"diffs":[[0,"    "],[-1,"var respons"],[1,"messag"],[0,"e = "]],"start1":8319,"start2":8319,"length1":19,"length2":14}]],"length":10253,"saved":false}
{"ts":1373815498043,"patch":[[{"diffs":[[0,", rem;\r\n"],[1,"var feeling = 'like a robot';\r\n"],[0,"request("]],"start1":649,"start2":649,"length1":16,"length2":47},{"diffs":[[0,"           });\r\n"],[1,"        } else if (message.match(/^w(?:hen) \\[(.*?)\\],? s(?:ay) ? \\[(.*?)\\]/i)) {\r\n            var match = message.match(/^w(?:hen) \\[(.*?)\\],? s(?:ay) ? \\[(.*?)\\]/i);\r\n            db.getItem('calls')[match[1]] = match[2];\r\n"],[0,"        } else i"]],"start1":5279,"start2":5279,"length1":32,"length2":256},{"diffs":[[0,"      db.get"],[1,"Item"],[0,"('calls').ke"]],"start1":8407,"start2":8407,"length1":24,"length2":28}]],"length":10512,"saved":false}
{"ts":1373815551249,"patch":[[{"diffs":[[0,"ar match"],[1,"ed"],[0," = false"]],"start1":8378,"start2":8378,"length1":16,"length2":18},{"diffs":[[0,"   match"],[1,"ed"],[0," = true;"]],"start1":8542,"start2":8542,"length1":16,"length2":18},{"diffs":[[0," (!match"],[1,"ed"],[0,") {\r\n   "]],"start1":8814,"start2":8814,"length1":16,"length2":18}]],"length":10518,"saved":false}
{"ts":1373815587481,"patch":[[{"diffs":[[0,"w);\r\n}\r\n"],[1,"if (!db.getItem('calls')) {\r\n    db.setItem('calls'.substring(0,12), {});\r\n}\r\n"],[0,"var curr"]],"start1":630,"start2":630,"length1":16,"length2":94}]],"length":10596,"saved":false}
{"ts":1373815649446,"patch":[[{"diffs":[[0," {\r\n"],[-1,"                    console.log(info);\r\n"],[0,"    "]],"start1":3106,"start2":3106,"length1":48,"length2":8},{"diffs":[[0,"};\r\n"],[-1,"                          console.log(client);\r\n"],[0,"    "]],"start1":6477,"start2":6477,"length1":56,"length2":8}]],"length":10508,"saved":false}
{"ts":1373815772772,"patch":[[{"diffs":[[0,"                "],[1,"Object.keys("],[0,"db.getItem('call"]],"start1":8389,"start2":8389,"length1":32,"length2":44},{"diffs":[[0,"'calls')"],[-1,".keys"],[1,")"],[0,".forEach"]],"start1":8428,"start2":8428,"length1":21,"length2":17},{"diffs":[[0,"ls')"],[-1,".getItem("],[1,"["],[0,"item"],[-1,")"],[1,"]"],[0,";\r\n "]],"start1":8605,"start2":8605,"length1":22,"length2":14}]],"length":10508,"saved":false}
{"ts":1373815836201,"patch":[[{"diffs":[[0,"= db.get"],[1,"Item"],[0,"('calls'"]],"start1":8592,"start2":8592,"length1":16,"length2":20}]],"length":10512,"saved":false}
{"ts":1373816134273,"patch":[[{"diffs":[[0,".match(/"],[1,"^(?:!|"],[0,"Sonia: "],[1,")"],[0,"/i)||mes"]],"start1":1568,"start2":1568,"length1":23,"length2":30},{"diffs":[[0,"ch(/"],[-1,"^!"],[1,", Sonia$"],[0,"/i))"]],"start1":1606,"start2":1606,"length1":10,"length2":16},{"diffs":[[0,")/i)"],[-1,"[1];\r\n        message = message.match(/(?:Sonia: |!)(.*)"],[1,"?message.match(/(Sonia: |!)/i)[1]:message.match(/(, Sonia)$/i)[1];\r\n        message = message.match(/(Sonia: |!)/i)?message.match(/(?:Sonia: |!)(.*)/i)[1]:message.match(/(.*)(?:, Sonia)$"],[0,"/i)["]],"start1":1914,"start2":1914,"length1":64,"length2":194}]],"length":10655,"saved":false}
{"ts":1373816290978,"patch":[[{"diffs":[[0,".say(from, '"],[-1,"Set record for"],[1,"I know that"],[0," '+current.S"]],"start1":4057,"start2":4057,"length1":38,"length2":35},{"diffs":[[0,"VER.SONGTITLE+' "],[-1,"to"],[1,"is"],[0," '+db.getItem(cu"]],"start1":4103,"start2":4103,"length1":34,"length2":34},{"diffs":[[0,"m, '"],[-1,"Set record for"],[1,"I know that"],[0," '+c"]],"start1":4705,"start2":4705,"length1":22,"length2":19},{"diffs":[[0,"TITLE+' "],[-1,"to"],[1,"is"],[0," '+db.ge"]],"start1":4751,"start2":4751,"length1":18,"length2":18}]],"length":10649,"saved":false}
{"ts":1373816502547,"patch":[[{"diffs":[[0,"  sonia.say("],[-1,"chan"],[1,"to==chan?chan:from"],[0,", 'Notificat"]],"start1":3169,"start2":3169,"length1":28,"length2":42},{"diffs":[[0,"      sonia.say("],[1,"to==chan?chan:"],[0,"from, 'I know th"]],"start1":4060,"start2":4060,"length1":32,"length2":46},{"diffs":[[0,"  sonia.say("],[1,"to==chan?chan:"],[0,"from, 'I kno"]],"start1":4718,"start2":4718,"length1":24,"length2":38},{"diffs":[[0,"ow()+\".\");\r\n"],[1,"            if (db.getItem(nick.substring(0,12)+'[c')) {\r\n                sonia.say(chan, db.getItem(nick.substring(0,12)+'[c'))\r\n            }\r\n"],[0,"            "]],"start1":10134,"start2":10134,"length1":24,"length2":169}]],"length":10836,"saved":false}
{"ts":1373816846188,"patch":[[{"diffs":[[0,"if ("],[-1,"notify && "],[0,"curr"]],"start1":9499,"start2":9499,"length1":18,"length2":8},{"diffs":[[0,"TITLE))) {\r\n"],[1,"                    if (notify) {\r\n    "],[0,"            "]],"start1":9610,"start2":9610,"length1":24,"length2":63},{"diffs":[[0,"ER.SONGTITLE);\r\n"],[1,"                    }\r\n"],[0,"                "]],"start1":9730,"start2":9730,"length1":32,"length2":55}]],"length":10888,"saved":false}
{"ts":1373816964065,"patch":[[{"diffs":[[0,"      sonia.say("],[1,"("],[0,"to==chan?chan:fr"]],"start1":3165,"start2":3165,"length1":32,"length2":33},{"diffs":[[0,"han:from"],[1,")"],[0,", 'Notif"]],"start1":3192,"start2":3192,"length1":16,"length2":17},{"diffs":[[0,"      sonia.say("],[1,"("],[0,"to==chan?chan:fr"]],"start1":4062,"start2":4062,"length1":32,"length2":33},{"diffs":[[0,"==chan?chan:from"],[1,")"],[0,", 'I know that '"]],"start1":4081,"start2":4081,"length1":32,"length2":33},{"diffs":[[0,"nia.say("],[1,"("],[0,"to==chan"]],"start1":4726,"start2":4726,"length1":16,"length2":17},{"diffs":[[0,"han:from"],[1,")"],[0,", 'I kno"]],"start1":4745,"start2":4745,"length1":16,"length2":17}]],"length":10894,"saved":false}
{"ts":1373817011473,"patch":[[{"diffs":[[0,"             }\r\n"],[1,"                    if (db.getItem(result.SHOUTCASTSERVER.SONGTITLE+'[s')) {\r\n                        sonia.say(chan, db.getItem(result.SHOUTCASTSERVER.SONGTITLE+'[c'))\r\n                    }\r\n"],[0,"                "]],"start1":9759,"start2":9759,"length1":32,"length2":225}]],"length":11087,"saved":false}
{"ts":1373817014341,"patch":[[{"diffs":[[0,"TITLE+'[c'))"],[1,";"],[0,"\r\n          "]],"start1":9931,"start2":9931,"length1":24,"length2":25}]],"length":11088,"saved":false}
{"ts":1373817016401,"patch":[[{"diffs":[[0,")+'[c'))"],[1,";"],[0,"\r\n      "]],"start1":10518,"start2":10518,"length1":16,"length2":17}]],"length":11089,"saved":false}
{"ts":1373817490571,"patch":[[{"diffs":[[0," match[2];\r\n"],[1,"            sonia.say(chan, 'Got it!');\r\n"],[0,"        } el"]],"start1":5730,"start2":5730,"length1":24,"length2":65}]],"length":11130,"saved":false}
{"ts":1373817968229,"patch":[[{"diffs":[[0," match[2];\r\n"],[1,"            db.persistSync();\r\n"],[0,"            "]],"start1":5730,"start2":5730,"length1":24,"length2":55}]],"length":11161,"saved":false}
{"ts":1373818249819,"patch":[[{"diffs":[[0,"});\r\n}\r\n"],[1,"var calls= db.getItem('calls');\r\n"],[0,"var curr"]],"start1":708,"start2":708,"length1":16,"length2":49},{"diffs":[[0,"        "],[-1,"db.getItem('"],[0,"calls"],[-1,"')"],[0,"[match[1"]],"start1":5724,"start2":5724,"length1":35,"length2":21},{"diffs":[[0," db."],[-1,"persistSync("],[1,"setItem('calls', calls"],[0,");\r\n"]],"start1":5772,"start2":5772,"length1":20,"length2":30}]],"length":11190,"saved":false}
{"ts":1373818519781,"patch":[[{"diffs":[[0,"ct.keys("],[-1,"db.getItem('"],[0,"calls"],[-1,"')"],[0,").forEac"]],"start1":8695,"start2":8695,"length1":35,"length2":21},{"diffs":[[0,"ssage = "],[-1,"db.getItem('"],[0,"calls"],[-1,"')"],[0,"[item];\r"]],"start1":8858,"start2":8858,"length1":35,"length2":21}]],"length":11162,"saved":false}
{"ts":1373818538519,"patch":[[{"diffs":[[0,"ar calls"],[1," "],[0,"= db.get"]],"start1":717,"start2":717,"length1":16,"length2":17}]],"length":11163,"saved":false}
{"ts":1373818661157,"patch":[[{"diffs":[[0,"essage+'"],[1," to"],[0," you, to"]],"start1":9113,"start2":9113,"length1":16,"length2":19}]],"length":11166,"saved":false}
{"ts":1373819065957,"patch":[[{"diffs":[[0,"', calls);\r\n"],[1,"            console.log(db.getItem('calls'));\r\n"],[0,"            "]],"start1":5791,"start2":5791,"length1":24,"length2":71}]],"length":11213,"saved":false}
{"ts":1373819161091,"patch":[[{"diffs":[[0,"nitSync("],[1,"{dir: '../data/'}"],[0,");\r\nif ("]],"start1":418,"start2":418,"length1":16,"length2":33}]],"length":11230,"saved":false}
{"ts":1373819391499,"patch":[[{"diffs":[[0,"ss.exit();\r\n"],[1,"        } else if (message=='sync') {\r\n            db.persistSync();\r\n"],[0,"        } el"]],"start1":8544,"start2":8544,"length1":24,"length2":94}]],"length":11300,"saved":false}
{"ts":1373819795275,"patch":[[{"diffs":[[0,"\n}\r\n"],[-1,"if (!db.getItem('calls')) {\r\n    db.setItem('calls'.substring(0,12), {});\r\n}\r\n"],[0,"var "]],"start1":651,"start2":651,"length1":86,"length2":8}]],"length":11222,"saved":false}
{"ts":1373820285494,"patch":[[{"diffs":[[0,");\r\n"],[-1,"            console.log(db.getItem('calls'));\r\n"],[0,"    "]],"start1":5738,"start2":5738,"length1":55,"length2":8}]],"length":11175,"saved":false}
{"ts":1373820457144,"patch":[[{"diffs":[[0,":!|Sonia"],[-1,":"],[1,"[:,]"],[0," )/i)||m"]],"start1":1552,"start2":1552,"length1":17,"length2":20},{"diffs":[[0,"match(/,"],[1,"?"],[0," Sonia$/"]],"start1":1579,"start2":1579,"length1":16,"length2":17},{"diffs":[[0,"ge.match(/(Sonia"],[-1,":"],[1,"[:,]"],[0," |!)/i)?message."]],"start1":1871,"start2":1871,"length1":33,"length2":36},{"diffs":[[0,"atch(/(,"],[1,"?"],[0," Sonia)$"]],"start1":1941,"start2":1941,"length1":16,"length2":17},{"diffs":[[0,"atch(/(Sonia"],[-1,":"],[1,"[:,]"],[0," |"],[-1,"!"],[0,")/i)?message"]],"start1":1994,"start2":1994,"length1":28,"length2":30},{"diffs":[[0,"ch(/(?:Sonia"],[-1,":"],[1,"[:,]"],[0," |!)(.*)/i)["]],"start1":2028,"start2":2028,"length1":25,"length2":28},{"diffs":[[0,"(.*)(?:,"],[1,"?"],[0," Sonia)$"]],"start1":2074,"start2":2074,"length1":16,"length2":17}]],"length":11189,"saved":false}
{"ts":1373820562678,"patch":[[{"diffs":[[0,"message);\r\n});\r\n"],[1,"\r\nprocess.on('uncaughtException', function(err) {\r\n  sonia.say(chan, 'Caught exception: ' + err);\r\n});"]],"start1":11173,"start2":11173,"length1":16,"length2":118}]],"length":11291,"saved":false}
{"ts":1373820855816,"patch":[[{"diffs":[[0,"d = false;\r\n"],[1,"                sonia.say('linaea', calls);\r\n"],[0,"            "]],"start1":8687,"start2":8687,"length1":24,"length2":69}]],"length":11336,"saved":false}
{"ts":1373820923005,"patch":[[{"diffs":[[0," {\r\n"],[-1,"            if (message.match(/thank you/i)) {\r\n                message = 'No problem!';\r\n            } else {\r\n    "],[0,"    "]],"start1":8545,"start2":8545,"length1":124,"length2":8},{"diffs":[[0,"d = false;\r\n"],[-1,"    "],[0,"            "]],"start1":8571,"start2":8571,"length1":28,"length2":24},{"diffs":[[0,"naea', calls);\r\n"],[-1,"    "],[0,"            Obje"]],"start1":8608,"start2":8608,"length1":36,"length2":32},{"diffs":[[0,"            "],[-1,"    "],[0,"if (message."]],"start1":8692,"start2":8692,"length1":28,"length2":24},{"diffs":[[0,"        "],[-1,"    "],[0,"matched "]],"start1":8744,"start2":8744,"length1":20,"length2":16},{"diffs":[[0,"                "],[-1,"   "],[-1," "],[0,"message = calls["]],"start1":8773,"start2":8773,"length1":36,"length2":32},{"diffs":[[0,"lls[item];\r\n"],[-1,"    "],[0,"            "]],"start1":8801,"start2":8801,"length1":28,"length2":24},{"diffs":[[0,"                "],[-1," "],[-1,"   "],[0,"message.replace("]],"start1":8872,"start2":8872,"length1":36,"length2":32},{"diffs":[[0,"            "],[-1,"  "],[-1,"  "],[0,"}\r\n"],[-1,"    "],[0,"            "]],"start1":8933,"start2":8933,"length1":35,"length2":27},{"diffs":[[0,"            "],[-1,"    "],[0,"if (!matched"]],"start1":8965,"start2":8965,"length1":28,"length2":24},{"diffs":[[0,"                "],[-1," "],[-1,"   "],[0,"message = messag"]],"start1":8994,"start2":8994,"length1":36,"length2":32},{"diffs":[[0,"+from;\r\n"],[-1,"                }\r\n"],[0,"        "]],"start1":9044,"start2":9044,"length1":35,"length2":16}]],"length":11157,"saved":false}
{"ts":1373821048894,"patch":[[{"diffs":[[0,"in!='!') {\r\n"],[1,"            console.log(calls);\r\n"],[0,"            "]],"start1":8537,"start2":8537,"length1":24,"length2":57}]],"length":11190,"saved":false}
{"ts":1373821121133,"patch":[[{"diffs":[[0," {\r\n"],[-1,"            console.log(calls);\r\n"],[0,"    "]],"start1":8545,"start2":8545,"length1":41,"length2":8}]],"length":11157,"saved":false}
{"ts":1373821129660,"patch":[[{"diffs":[[0,"e;\r\n"],[-1,"            sonia.say('linaea', calls);\r\n"],[0,"    "]],"start1":8579,"start2":8579,"length1":49,"length2":8}]],"length":11116,"saved":false}
{"ts":1373821150789,"patch":[[{"diffs":[[0,"'calls')"],[1," || {};\r\ndb.setItem('calls', calls)"],[0,";\r\nvar c"]],"start1":678,"start2":678,"length1":16,"length2":51}]],"length":11151,"saved":false}
{"ts":1373821262016,"patch":[[{"diffs":[[0,"' to you"],[-1,","],[0," too, '+"]],"start1":9022,"start2":9022,"length1":17,"length2":16}]],"length":11150,"saved":false}
{"ts":1373821592223,"patch":[[{"diffs":[[0,"calls = "],[1,"JSON.parse("],[0,"db.getIt"]],"start1":659,"start2":659,"length1":16,"length2":27},{"diffs":[[0," || "],[1,"'"],[0,"{}"],[1,"')"],[0,";\r\nd"]],"start1":697,"start2":697,"length1":10,"length2":13},{"diffs":[[0,"calls', "],[1,"JSON.stringify("],[0,"calls)"],[1,")"],[0,";\r\n     "]],"start1":5788,"start2":5788,"length1":22,"length2":38}]],"length":11180,"saved":false}
{"ts":1373821662611,"patch":[[{"diffs":[[0,"'calls')"],[-1," || "],[1,"?db.getItem('calls'):"],[0,"'{}');\r\n"]],"start1":689,"start2":689,"length1":20,"length2":37}]],"length":11197,"saved":false}
{"ts":1373821679949,"patch":[[{"diffs":[[0,"'calls')"],[1,"!=undefined"],[0,"?db.getI"]],"start1":689,"start2":689,"length1":16,"length2":27}]],"length":11208,"saved":false}
{"ts":1373821803610,"patch":[[{"diffs":[[0,"s = "],[-1,"JSON.parse("],[0,"db.g"]],"start1":663,"start2":663,"length1":19,"length2":8},{"diffs":[[0,"ls')"],[-1,"!=undefined?db.getItem('calls'):'{}')"],[1," || {}"],[0,";\r\nd"]],"start1":682,"start2":682,"length1":45,"length2":14},{"diffs":[[0,"s', "],[-1,"JSON.stringify("],[0,"calls)"],[-1,")"],[0,";\r\n "]],"start1":5778,"start2":5778,"length1":30,"length2":14}]],"length":11150,"saved":false}
{"ts":1373822199060,"patch":[[{"diffs":[[0," ' + err);\r\n"],[1,"  sonia.say(chan, 'Caught exception: ' + err.stack);\r\n"],[0,"});"]],"start1":11135,"start2":11135,"length1":15,"length2":69}]],"length":11204,"saved":false}
{"ts":1373822378289,"patch":[[{"diffs":[[0," {\r\n"],[-1,"  sonia.say(chan, 'Caught exception: ' + err);\r\n"],[0,"  so"]],"start1":11095,"start2":11095,"length1":56,"length2":8}]],"length":11156,"saved":false}
{"ts":1373822499971,"patch":[[{"diffs":[[0,"2];\r\n           "],[1," //"],[0," db.setItem('cal"]],"start1":5745,"start2":5745,"length1":32,"length2":35}]],"length":11159,"saved":false}
{"ts":1373822537107,"patch":[[{"diffs":[[0,"        "],[-1," //"],[0," db.setI"]],"start1":5753,"start2":5753,"length1":19,"length2":16}]],"length":11156,"saved":false}
{"ts":1373822555458,"patch":[[{"diffs":[[0,"),\r\n"],[-1,"                        // order: 'rating',\r\n"],[0,"    "]],"start1":6637,"start2":6637,"length1":53,"length2":8}]],"length":11111,"saved":false}
{"ts":1373822561317,"patch":[[{"diffs":[[0,"\n           "],[1," //"],[0," calls[match"]],"start1":5708,"start2":5708,"length1":24,"length2":27}]],"length":11114,"saved":false}
{"ts":1373822581306,"patch":[[{"diffs":[[0,"        "],[-1," //"],[0," calls[m"]],"start1":5712,"start2":5712,"length1":19,"length2":16}]],"length":11111,"saved":false}
{"ts":1373822623705,"patch":[[{"diffs":[[0,"s') || {"],[1,"'hello': 'Hi there'"],[0,"};\r\ndb.s"]],"start1":683,"start2":683,"length1":16,"length2":35}]],"length":11130,"saved":false}
{"ts":1373822821909,"patch":[[{"diffs":[[0,"d = false;\r\n"],[1,"            console.log(calls);\r\n"],[0,"            "]],"start1":8580,"start2":8580,"length1":24,"length2":57}]],"length":11163,"saved":false}
{"ts":1373822835351,"patch":[[{"diffs":[[0,"  sonia.say("],[-1,"chan"],[1,"'linaea'"],[0,", 'Caught ex"]],"start1":11106,"start2":11106,"length1":28,"length2":32}]],"length":11167,"saved":false}
{"ts":1373822983338,"patch":[[{"diffs":[[0,".*?)\\]/i);\r\n"],[1,"            console.log(match);\r\n"],[0,"            "]],"start1":5716,"start2":5716,"length1":24,"length2":57}]],"length":11200,"saved":false}
{"ts":1373823147828,"patch":[[{"diffs":[[0,"[(.*?)\\]/i)) {\r\n"],[1,"            console.log(message);\r\n"],[0,"            var "]],"start1":5626,"start2":5626,"length1":32,"length2":67},{"diffs":[[0,");\r\n"],[-1,"            console.log(match);\r\n"],[0,"    "]],"start1":5759,"start2":5759,"length1":41,"length2":8}]],"length":11202,"saved":false}
{"ts":1373823162459,"patch":[[{"diffs":[[0," {\r\n"],[-1,"            console.log(message);\r\n"],[0,"    "]],"start1":5638,"start2":5638,"length1":43,"length2":8}]],"length":11167,"saved":false}
{"ts":1373823200036,"patch":[[{"diffs":[[0,": \"Sonia"],[1,"Beta"],[0,"\",\r\n    "]],"start1":1124,"start2":1124,"length1":16,"length2":20}]],"length":11171,"saved":false}
{"ts":1373823336487,"patch":[[{"diffs":[[0,"els\r\n});\r\n\r\n"],[1,"sonia.addListenet('registered', function() {"],[0,"sonia.say('l"]],"start1":1308,"start2":1308,"length1":24,"length2":68},{"diffs":[[0,"version)"],[1,"})"],[0,";\r\n\r\nson"]],"start1":1427,"start2":1427,"length1":16,"length2":18}]],"length":11217,"saved":false}
{"ts":1373823361030,"patch":[[{"diffs":[[0,"e;\r\n"],[-1,"            console.log(calls);\r\n"],[0,"    "]],"start1":8638,"start2":8638,"length1":41,"length2":8}]],"length":11184,"saved":false}
{"ts":1373823389058,"patch":[[{"diffs":[[0,"dListene"],[-1,"t"],[1,"r"],[0,"('regist"]],"start1":1328,"start2":1328,"length1":17,"length2":17}]],"length":11184,"saved":false}
{"ts":1373823489193,"patch":[[{"diffs":[[0,"ent();\r\n"],[1,"// "],[0,"db.initS"]],"start1":406,"start2":406,"length1":16,"length2":19},{"diffs":[[0,"ata/'});"],[1," PRODUCTION CODE\r\ndb.initSync();"],[0,"\r\nif (!d"]],"start1":440,"start2":440,"length1":16,"length2":48}]],"length":11219,"saved":false}
{"ts":1373823525793,"patch":[[{"diffs":[[0,"   });\r\n"],[-1,"\r\n"],[0,"        "]],"start1":3506,"start2":3506,"length1":18,"length2":16}]],"length":11217,"saved":false}
{"ts":1373823694516,"patch":[[{"diffs":[[0,"\n           "],[1," //"],[0," calls[match"]],"start1":5810,"start2":5810,"length1":24,"length2":27}]],"length":11220,"saved":false}
{"ts":1373823743579,"patch":[[{"diffs":[[0,"        "],[-1," //"],[0," calls[m"]],"start1":5814,"start2":5814,"length1":19,"length2":16}]],"length":11217,"saved":false}
{"ts":1373823768452,"patch":[[{"diffs":[[0,"1];\r\n       "],[1," //"],[0," message = m"]],"start1":2101,"start2":2101,"length1":24,"length2":27}]],"length":11220,"saved":false}
{"ts":1373823796961,"patch":[[{"diffs":[[0,"\n       "],[-1," //"],[0," message"]],"start1":2105,"start2":2105,"length1":19,"length2":16}]],"length":11217,"saved":false}
{"ts":1373823844437,"patch":[[{"diffs":[[0,"*?)\\]/i)"],[1," && console.log('matching')"],[0,") {\r\n   "]],"start1":5712,"start2":5712,"length1":16,"length2":43}]],"length":11244,"saved":false}
{"ts":1373823907413,"patch":[[{"diffs":[[0," } else "],[-1," "],[0,"if (mess"]],"start1":2758,"start2":2758,"length1":17,"length2":16},{"diffs":[[0,"]/i)"],[-1," && console.log('matching')"],[0,") {\r"]],"start1":5715,"start2":5715,"length1":35,"length2":8}]],"length":11216,"saved":false}
{"ts":1373824035427,"patch":[[{"diffs":[[0,"age.match(/ (.*)"],[1,"$"],[0,"/i)) {\r\n        "]],"start1":2574,"start2":2574,"length1":32,"length2":33},{"diffs":[[0,"age.match(/ (.*)"],[1,"$"],[0,"/i)) {\r\n        "]],"start1":3674,"start2":3674,"length1":32,"length2":33}]],"length":11218,"saved":false}
{"ts":1373824250568,"patch":[[{"diffs":[[0,"    });\r\n       "],[1," //"],[0," } else if (mess"]],"start1":5634,"start2":5634,"length1":32,"length2":35},{"diffs":[[0,"]/i)) {\r\n       "],[1," //"],[0,"     var match ="]],"start1":5720,"start2":5720,"length1":32,"length2":35},{"diffs":[[0,"        "],[1,"//"],[0,"    "],[1," "],[0,"calls[ma"]],"start1":5818,"start2":5818,"length1":20,"length2":23},{"diffs":[[0,"tch[2];\r\n       "],[1," //"],[0,"     db.setItem("]],"start1":5853,"start2":5853,"length1":32,"length2":35},{"diffs":[[0,"calls);\r\n       "],[1," //"],[0,"     sonia.say(c"]],"start1":5897,"start2":5897,"length1":32,"length2":35}]],"length":11233,"saved":false}
{"ts":1373824287913,"patch":[[{"diffs":[[0,"\n       "],[-1," //"],[0," } else "]],"start1":5642,"start2":5642,"length1":19,"length2":16},{"diffs":[[0,") {\r\n       "],[-1," //"],[0,"     var mat"]],"start1":5721,"start2":5721,"length1":27,"length2":24},{"diffs":[[0,"        "],[-1,"//"],[0,"    "],[-1," "],[0,"calls[ma"]],"start1":5812,"start2":5812,"length1":23,"length2":20},{"diffs":[[0,"2];\r\n       "],[-1," //"],[0,"     db.setI"]],"start1":5848,"start2":5848,"length1":27,"length2":24},{"diffs":[[0,"\n       "],[-1," //"],[0,"     son"]],"start1":5893,"start2":5893,"length1":19,"length2":16},{"diffs":[[0,"ync();\r\n        "],[1," "],[0,"} else if (begin"]],"start1":8600,"start2":8600,"length1":32,"length2":33},{"diffs":[[0,"egin!='!') {"],[1,"}"],[0,"\r\n          "]],"start1":8629,"start2":8629,"length1":24,"length2":25},{"diffs":[[0,"!') {}\r\n        "],[1,"//"],[0,"    "],[1," "],[0,"var matched = fa"]],"start1":8636,"start2":8636,"length1":36,"length2":39},{"diffs":[[0,"        "],[1,"//"],[0,"    "],[1," "],[0,"Object.k"]],"start1":8681,"start2":8681,"length1":20,"length2":23},{"diffs":[[0,"a, b) {\r\n       "],[1," //"],[0,"         if (mes"]],"start1":8739,"start2":8739,"length1":32,"length2":35},{"diffs":[[0,"tem)) {\r\n       "],[1," //"],[0,"             mat"]],"start1":8786,"start2":8786,"length1":32,"length2":35},{"diffs":[[0,"= true;\r\n       "],[1," //"],[0,"             mes"]],"start1":8826,"start2":8826,"length1":32,"length2":35},{"diffs":[[0,"[item];\r\n       "],[1," //"],[0,"             mes"]],"start1":8873,"start2":8873,"length1":32,"length2":35},{"diffs":[[0," from);\r\n       "],[1," //"],[0,"             mes"]],"start1":8931,"start2":8931,"length1":32,"length2":35},{"diffs":[[0,"eling);\r\n       "],[1," //"],[0,"         }\r\n    "]],"start1":8995,"start2":8995,"length1":32,"length2":35},{"diffs":[[0,"     }\r\n        "],[1,"//"],[0,"    "],[1," "],[0,"});\r\n           "]],"start1":9018,"start2":9018,"length1":36,"length2":39},{"diffs":[[0,"    });\r\n       "],[1," //"],[0,"     if (!matche"]],"start1":9037,"start2":9037,"length1":32,"length2":35},{"diffs":[[0,"ched) {\r\n       "],[1," //"],[0,"         message"]],"start1":9069,"start2":9069,"length1":32,"length2":35},{"diffs":[[0,"'+from;\r\n       "],[1," //"],[0,"     }\r\n        "]],"start1":9129,"start2":9129,"length1":32,"length2":35},{"diffs":[[0,"/     }\r\n       "],[1," //"],[0,"     if (to!=con"]],"start1":9147,"start2":9147,"length1":32,"length2":35},{"diffs":[[0,"Name) {\r\n       "],[1," //"],[0,"         sonia.s"]],"start1":9189,"start2":9189,"length1":32,"length2":35},{"diffs":[[0,"ssage);\r\n       "],[1," //"],[0,"     } else {\r\n "]],"start1":9235,"start2":9235,"length1":32,"length2":35},{"diffs":[[0," {\r\n        "],[1,"//"],[0,"        "],[1," "],[0,"sonia.say(fr"]],"start1":9265,"start2":9265,"length1":32,"length2":35},{"diffs":[[0,"ssage);\r\n       "],[1," //"],[0,"     }\r\n        "]],"start1":9306,"start2":9306,"length1":32,"length2":35},{"diffs":[[0,"/     }\r\n       "],[1," //"],[0," }\r\n    }\r\n});\r\n"]],"start1":9324,"start2":9324,"length1":32,"length2":35}]],"length":11274,"saved":false}
{"ts":1373824305058,"patch":[[{"diffs":[[0,");\r\n        "],[-1," "],[0,"} else if (b"]],"start1":8604,"start2":8604,"length1":25,"length2":24},{"diffs":[[0,"!='!') {"],[-1,"}"],[0,"\r\n      "]],"start1":8632,"start2":8632,"length1":17,"length2":16},{"diffs":[[0,"        "],[-1,"//"],[0,"    "],[-1," "],[0,"var matc"]],"start1":8642,"start2":8642,"length1":23,"length2":20},{"diffs":[[0,"        "],[-1,"//"],[0,"    "],[-1," "],[0,"Object.k"]],"start1":8676,"start2":8676,"length1":23,"length2":20},{"diffs":[[0,"a, b) {\r\n       "],[-1," //"],[0,"         if (mes"]],"start1":8731,"start2":8731,"length1":35,"length2":32},{"diffs":[[0,"tem)) {\r\n       "],[-1," //"],[0,"             mat"]],"start1":8775,"start2":8775,"length1":35,"length2":32},{"diffs":[[0,"= true;\r\n       "],[-1," //"],[0,"             mes"]],"start1":8812,"start2":8812,"length1":35,"length2":32},{"diffs":[[0,"[item];\r\n       "],[-1," //"],[0,"             mes"]],"start1":8856,"start2":8856,"length1":35,"length2":32},{"diffs":[[0," from);\r\n       "],[-1," //"],[0,"             mes"]],"start1":8911,"start2":8911,"length1":35,"length2":32},{"diffs":[[0,"eling);\r\n       "],[-1," //"],[0,"         }\r\n    "]],"start1":8972,"start2":8972,"length1":35,"length2":32},{"diffs":[[0,"        "],[-1,"//"],[0,"    "],[-1," "],[0,"});\r\n   "]],"start1":9000,"start2":9000,"length1":23,"length2":20},{"diffs":[[0,"    });\r\n       "],[-1," //"],[0,"     if (!matche"]],"start1":9008,"start2":9008,"length1":35,"length2":32},{"diffs":[[0,"ched) {\r\n       "],[-1," //"],[0,"         message"]],"start1":9037,"start2":9037,"length1":35,"length2":32},{"diffs":[[0,"'+from;\r\n       "],[-1," //"],[0,"     }\r\n        "]],"start1":9094,"start2":9094,"length1":35,"length2":32},{"diffs":[[0,"  }\r\n       "],[-1," //"],[0,"     if (to!"]],"start1":9113,"start2":9113,"length1":27,"length2":24},{"diffs":[[0,"Name) {\r\n       "],[-1," //"],[0,"         sonia.s"]],"start1":9148,"start2":9148,"length1":35,"length2":32},{"diffs":[[0,"e);\r\n       "],[-1," //"],[0,"     } else "]],"start1":9195,"start2":9195,"length1":27,"length2":24},{"diffs":[[0,"    "],[-1,"//"],[0,"        "],[-1," "],[0,"soni"]],"start1":9226,"start2":9226,"length1":19,"length2":16},{"diffs":[[0,"\n       "],[-1," //"],[0,"     }\r\n"]],"start1":9264,"start2":9264,"length1":19,"length2":16},{"diffs":[[0,"\n       "],[-1," //"],[0," }\r\n    "]],"start1":9279,"start2":9279,"length1":19,"length2":16}]],"length":11218,"saved":false}
{"ts":1373824375134,"patch":[[{"diffs":[[0,"*?)\\]/i)"],[1," == undefined"],[0,") {\r\n   "]],"start1":5713,"start2":5713,"length1":16,"length2":29}]],"length":11231,"saved":false}
{"ts":1373824393935,"patch":[[{"diffs":[[0,"]/i)"],[-1," == undefined"],[0,") {\r"]],"start1":5717,"start2":5717,"length1":21,"length2":8}]],"length":11218,"saved":false}
{"ts":1373824465685,"patch":[[{"diffs":[[0,"d = false;\r\n"],[1,"            console.log(calls);\r\n"],[0,"            "]],"start1":8664,"start2":8664,"length1":24,"length2":57}]],"length":11251,"saved":false}
{"ts":1373824483768,"patch":[[{"diffs":[[0,"e;\r\n"],[-1,"            console.log(calls);\r\n"],[0,"    "]],"start1":8672,"start2":8672,"length1":41,"length2":8}]],"length":11218,"saved":false}
{"ts":1373824527743,"patch":[[{"diffs":[[0,"  })});\r\n       "],[1," //"],[0," } else if (mess"]],"start1":8450,"start2":8450,"length1":32,"length2":35},{"diffs":[[0,") {\r\n       "],[1," //"],[0,"     process"]],"start1":8507,"start2":8507,"length1":24,"length2":27},{"diffs":[[0,"exit();\r\n       "],[1," //"],[0," } else if (mess"]],"start1":8535,"start2":8535,"length1":32,"length2":35},{"diffs":[[0,"ync') {\r\n       "],[1," //"],[0,"     db.persistS"]],"start1":8577,"start2":8577,"length1":32,"length2":35}]],"length":11230,"saved":false}
{"ts":1373824556778,"patch":[[{"diffs":[[0," it!');\r\n       "],[1," //"],[0," } else if (mess"]],"start1":5926,"start2":5926,"length1":32,"length2":35},{"diffs":[[0,")/i)) {\r\n       "],[1," //"],[0,"     var data = "]],"start1":5987,"start2":5987,"length1":32,"length2":35},{"diffs":[[0,"E)+\"\");\r\n       "],[1," //"],[0,"     if (!data) "]],"start1":6117,"start2":6117,"length1":32,"length2":35},{"diffs":[[0,"data) {\r\n       "],[1," //"],[0,"         googlea"]],"start1":6146,"start2":6146,"length1":32,"length2":35},{"diffs":[[0,"ient) {\r\n       "],[1," //"],[0,"             var"]],"start1":6235,"start2":6235,"length1":32,"length2":35},{"diffs":[[0,"*)/i);\r\n        "],[1,"//"],[0,"            if ("]],"start1":6299,"start2":6299,"length1":32,"length2":34},{"diffs":[[0,"  //            "],[1," "],[0,"if (moments) {\r\n"]],"start1":6313,"start2":6313,"length1":32,"length2":33},{"diffs":[[0,"ents) {\r\n       "],[1," //"],[0,"                "]],"start1":6337,"start2":6337,"length1":32,"length2":35},{"diffs":[[0,"ts[1]);\r\n       "],[1," //"],[0,"                "]],"start1":6395,"start2":6395,"length1":32,"length2":35},{"diffs":[[0,"ment();\r\n       "],[1," //"],[0,"             } e"]],"start1":6469,"start2":6469,"length1":32,"length2":35},{"diffs":[[0," else {\r\n       "],[1," //"],[0,"                "]],"start1":6502,"start2":6502,"length1":32,"length2":35},{"diffs":[[0,"ment();\r\n       "],[1," //"],[0,"             }\r\n"]],"start1":6550,"start2":6550,"length1":32,"length2":35},{"diffs":[[0,"      }\r\n       "],[1," //"],[0,"             var"]],"start1":6576,"start2":6576,"length1":32,"length2":35},{"diffs":[[0,"ms = {\r\n        "],[1,"//"],[0,"                "]],"start1":6616,"start2":6616,"length1":32,"length2":34},{"diffs":[[0,"                "],[1," "],[0,"maxResults: 1,\r\n"]],"start1":6634,"start2":6634,"length1":32,"length2":33},{"diffs":[[0,"lts: 1,\r\n       "],[1," //"],[0,"                "]],"start1":6658,"start2":6658,"length1":32,"length2":35},{"diffs":[[0,"TITLE),\r\n       "],[1," //"],[0,"                "]],"start1":6777,"start2":6777,"length1":32,"length2":35},{"diffs":[[0,"ippet',\r\n       "],[1," //"],[0,"                "]],"start1":6822,"start2":6822,"length1":32,"length2":35},{"diffs":[[0,"    };\r\n        "],[1,"//"],[0,"            clie"]],"start1":6854,"start2":6854,"length1":32,"length2":34},{"diffs":[[0,"            "],[1," "],[0,"client.youtu"]],"start1":6872,"start2":6872,"length1":24,"length2":25},{"diffs":[[0,"onse) {\r\n       "],[1," //"],[0,"                "]],"start1":6963,"start2":6963,"length1":32,"length2":35},{"diffs":[[0,",a,b) {\r\n       "],[1," //"],[0,"                "]],"start1":7036,"start2":7036,"length1":32,"length2":35},{"diffs":[[0,"deoId);\r\n       "],[1," //"],[0,"                "]],"start1":7206,"start2":7206,"length1":32,"length2":35},{"diffs":[[0,"ideoId;\r\n       "],[1," //"],[0,"                "]],"start1":7295,"start2":7295,"length1":32,"length2":35},{"diffs":[[0,"    });\r\n       "],[1," //"],[0,"             })}"]],"start1":7331,"start2":7331,"length1":32,"length2":35},{"diffs":[[0,"  })});\r\n       "],[1," //"],[0,"     } else {\r\n "]],"start1":7361,"start2":7361,"length1":32,"length2":35},{"diffs":[[0," else {\r\n       "],[1," //"],[0,"         sonia.s"]],"start1":7386,"start2":7386,"length1":32,"length2":35},{"diffs":[[0,"+data);\r\n       "],[1," //"],[0,"     }\r\n        "]],"start1":7496,"start2":7496,"length1":32,"length2":35},{"diffs":[[0,"/     }\r\n       "],[1," //"],[0," } else if (mess"]],"start1":7514,"start2":7514,"length1":32,"length2":35},{"diffs":[[0,") {\r\n       "],[1," //"],[0,"     googlea"]],"start1":7576,"start2":7576,"length1":24,"length2":27},{"diffs":[[0," {\r\n        "],[1,"//"],[0,"        "],[1," "],[0,"var moments "]],"start1":7663,"start2":7663,"length1":32,"length2":35},{"diffs":[[0,".*)/i);\r\n       "],[1," //"],[0,"         if (mom"]],"start1":7717,"start2":7717,"length1":32,"length2":35},{"diffs":[[0,"ents) {\r\n       "],[1," //"],[0,"             mom"]],"start1":7752,"start2":7752,"length1":32,"length2":35},{"diffs":[[0,"ts[1]);\r\n       "],[1," //"],[0,"             mom"]],"start1":7806,"start2":7806,"length1":32,"length2":35},{"diffs":[[0,"ment();\r\n       "],[1," //"],[0,"         } else "]],"start1":7876,"start2":7876,"length1":32,"length2":35},{"diffs":[[0," else {\r\n       "],[1," //"],[0,"             mom"]],"start1":7905,"start2":7905,"length1":32,"length2":35},{"diffs":[[0,"ment();\r\n       "],[1," //"],[0,"         }\r\n    "]],"start1":7949,"start2":7949,"length1":32,"length2":35},{"diffs":[[0,"      }\r\n       "],[1," //"],[0,"         var par"]],"start1":7971,"start2":7971,"length1":32,"length2":35},{"diffs":[[0,"ams = {\r\n       "],[1," //"],[0,"               c"]],"start1":8006,"start2":8006,"length1":32,"length2":35},{"diffs":[[0,"l.com',\r\n       "],[1," //"],[0,"               m"]],"start1":8076,"start2":8076,"length1":32,"length2":35},{"diffs":[[0,"lts: 1,\r\n       "],[1," //"],[0,"               t"]],"start1":8117,"start2":8117,"length1":32,"length2":35},{"diffs":[[0,"ments,\r\n        "],[1,"//"],[0,"              si"]],"start1":8162,"start2":8162,"length1":32,"length2":34},{"diffs":[[0,"        "],[1," "],[0,"singleEv"]],"start1":8186,"start2":8186,"length1":16,"length2":17},{"diffs":[[0,": true,\r\n       "],[1," //"],[0,"               o"]],"start1":8207,"start2":8207,"length1":32,"length2":35},{"diffs":[[0,"tTime\",\r\n       "],[1," //"],[0,"               }"]],"start1":8255,"start2":8255,"length1":32,"length2":35},{"diffs":[[0,"     };\r\n       "],[1," //"],[0,"         client."]],"start1":8284,"start2":8284,"length1":32,"length2":35},{"diffs":[[0,"onse) {\r\n       "],[1," //"],[0,"             res"]],"start1":8391,"start2":8391,"length1":32,"length2":35},{"diffs":[[0,"());});\r\n       "],[1," //"],[0,"         })});\r\n"]],"start1":8556,"start2":8556,"length1":32,"length2":35}]],"length":11362,"saved":false}
{"ts":1373824579010,"patch":[[{"diffs":[[0,"    });\r\n       "],[1," //"],[0," } else if (mess"]],"start1":5122,"start2":5122,"length1":32,"length2":35},{"diffs":[[0,")/i)) {\r\n       "],[1," //"],[0,"     sonia.whois"]],"start1":5206,"start2":5206,"length1":32,"length2":35},{"diffs":[[0,"info) {\r\n       "],[1," //"],[0,"         if (inf"]],"start1":5258,"start2":5258,"length1":32,"length2":35},{"diffs":[[0,">= 0) {\r\n       "],[1," //"],[0,"             son"]],"start1":5432,"start2":5432,"length1":32,"length2":35},{"diffs":[[0,"i)[1]);\r\n       "],[1," //"],[0,"         } else "]],"start1":5501,"start2":5501,"length1":32,"length2":35},{"diffs":[[0," else {\r\n       "],[1," //"],[0,"             son"]],"start1":5530,"start2":5530,"length1":32,"length2":35},{"diffs":[[0,");\r\n        "],[1,"//"],[0,"        "],[1," "],[0,"}\r\n         "]],"start1":5621,"start2":5621,"length1":32,"length2":35},{"diffs":[[0,"      }\r\n       "],[1," //"],[0,"     });\r\n      "]],"start1":5638,"start2":5638,"length1":32,"length2":35},{"diffs":[[0,"    });\r\n       "],[1," //"],[0," } else if (mess"]],"start1":5658,"start2":5658,"length1":32,"length2":35},{"diffs":[[0,"]/i)) {\r\n       "],[1," //"],[0,"     var match ="]],"start1":5744,"start2":5744,"length1":32,"length2":35},{"diffs":[[0,"i);\r\n       "],[1," //"],[0,"     calls[m"]],"start1":5837,"start2":5837,"length1":24,"length2":27},{"diffs":[[0,"ch[2];\r\n        "],[1,"//"],[0,"    "],[1," "],[0,"db.setItem('call"]],"start1":5878,"start2":5878,"length1":36,"length2":39},{"diffs":[[0,"calls);\r\n       "],[1," //"],[0,"     sonia.say(c"]],"start1":5921,"start2":5921,"length1":32,"length2":35}]],"length":11401,"saved":false}
{"ts":1373824598408,"patch":[[{"diffs":[[0,"i)[1]);\r\n       "],[1," //"],[0," } else if (mess"]],"start1":3761,"start2":3761,"length1":32,"length2":35},{"diffs":[[0,")/i)) {\r\n       "],[1," //"],[0,"     sonia.whois"]],"start1":3818,"start2":3818,"length1":32,"length2":35},{"diffs":[[0,"info) {\r\n       "],[1," //"],[0,"         if (inf"]],"start1":3870,"start2":3870,"length1":32,"length2":35},{"diffs":[[0,">= 0) {\r\n       "],[1," //"],[0,"             db."]],"start1":4044,"start2":4044,"length1":32,"length2":35},{"diffs":[[0,"rem));\r\n        "],[1,"//"],[0,"            soni"]],"start1":4177,"start2":4177,"length1":32,"length2":34},{"diffs":[[0,"  //            "],[1," "],[0,"sonia.say((to==c"]],"start1":4191,"start2":4191,"length1":32,"length2":33},{"diffs":[[0,"ITLE));\r\n       "],[1," //"],[0,"         } else "]],"start1":4336,"start2":4336,"length1":32,"length2":35},{"diffs":[[0," else {\r\n       "],[1," //"],[0,"             son"]],"start1":4365,"start2":4365,"length1":32,"length2":35},{"diffs":[[0," ...');\r\n       "],[1," //"],[0,"         }\r\n    "]],"start1":4451,"start2":4451,"length1":32,"length2":35},{"diffs":[[0,"      }\r\n       "],[1," //"],[0,"     });\r\n      "]],"start1":4473,"start2":4473,"length1":32,"length2":35},{"diffs":[[0,"    });\r\n       "],[1," //"],[0," } else if (mess"]],"start1":4493,"start2":4493,"length1":32,"length2":35},{"diffs":[[0,")/i)) {\r\n       "],[1," //"],[0,"     sonia.whois"]],"start1":4554,"start2":4554,"length1":32,"length2":35},{"diffs":[[0,"info) {\r\n       "],[1," //"],[0,"         if (inf"]],"start1":4606,"start2":4606,"length1":32,"length2":35},{"diffs":[[0,">= 0) {\r\n       "],[1," //"],[0,"             db."]],"start1":4780,"start2":4780,"length1":32,"length2":35},{"diffs":[[0," rem);\r\n        "],[1,"//"],[0,"            soni"]],"start1":4860,"start2":4860,"length1":32,"length2":34},{"diffs":[[0,"  //            "],[1," "],[0,"sonia.say((to==c"]],"start1":4874,"start2":4874,"length1":32,"length2":33},{"diffs":[[0,"ITLE));\r\n       "],[1," //"],[0,"         } else "]],"start1":5019,"start2":5019,"length1":32,"length2":35},{"diffs":[[0," else {\r\n       "],[1," //"],[0,"             son"]],"start1":5048,"start2":5048,"length1":32,"length2":35},{"diffs":[[0," ...');\r\n       "],[1," //"],[0,"         }\r\n    "]],"start1":5134,"start2":5134,"length1":32,"length2":35},{"diffs":[[0,"      }\r\n       "],[1," //"],[0,"     });\r\n      "]],"start1":5156,"start2":5156,"length1":32,"length2":35}]],"length":11455,"saved":false}
{"ts":1373824641499,"patch":[[{"diffs":[[0,"    });\r\n       "],[1," //"],[0," } else if (mess"]],"start1":3505,"start2":3505,"length1":32,"length2":35},{"diffs":[[0,")/i)) {\r\n       "],[1," //"],[0,"     sonia.actio"]],"start1":3562,"start2":3562,"length1":32,"length2":35},{"diffs":[[0,"+from);\r\n       "],[1," //"],[0," } else if (mess"]],"start1":3613,"start2":3613,"length1":32,"length2":35},{"diffs":[[0,"$/i)) {\r\n       "],[1," //"],[0,"     sonia.actio"]],"start1":3699,"start2":3699,"length1":32,"length2":35}]],"length":11467,"saved":false}
{"ts":1373824663254,"patch":[[{"diffs":[[0,"Now());\r\n       "],[1," //"],[0," } else if (mess"]],"start1":2743,"start2":2743,"length1":32,"length2":35},{"diffs":[[0," '?') {\r\n       "],[1," //"],[0,"     sonia.say(c"]],"start1":2819,"start2":2819,"length1":32,"length2":35},{"diffs":[[0,"an,\r\n       "],[1," //"],[0,"     'Comman"]],"start1":2855,"start2":2855,"length1":24,"length2":27},{"diffs":[[0,"tify');\r\n       "],[1," //"],[0," } else if (mess"]],"start1":2961,"start2":2961,"length1":32,"length2":35},{"diffs":[[0,")/i)) {\r\n       "],[1," //"],[0,"     sonia.whois"]],"start1":3021,"start2":3021,"length1":32,"length2":35},{"diffs":[[0,"info) {\r\n       "],[1," //"],[0,"         if (inf"]],"start1":3073,"start2":3073,"length1":32,"length2":35},{"diffs":[[0,">= 0) {\r\n       "],[1," //"],[0,"             not"]],"start1":3247,"start2":3247,"length1":32,"length2":35},{"diffs":[[0,"notify;\r\n       "],[1," //"],[0,"             son"]],"start1":3289,"start2":3289,"length1":32,"length2":35},{"diffs":[[0,"off'));\r\n       "],[1," //"],[0,"         } else "]],"start1":3384,"start2":3384,"length1":32,"length2":35},{"diffs":[[0," else {\r\n       "],[1," //"],[0,"             son"]],"start1":3413,"start2":3413,"length1":32,"length2":35},{"diffs":[[0," ...');\r\n       "],[1," //"],[0,"         }\r\n    "]],"start1":3499,"start2":3499,"length1":32,"length2":35},{"diffs":[[0,"      }\r\n       "],[1," //"],[0,"     });\r\n      "]],"start1":3521,"start2":3521,"length1":32,"length2":35}]],"length":11503,"saved":false}
{"ts":1373824677551,"patch":[[{"diffs":[[0,"1];\r\n       "],[1," //"],[0," if (message"]],"start1":2234,"start2":2234,"length1":24,"length2":27},{"diffs":[[0,")/i)) {\r\n       "],[1," //"],[0,"     sonia.say(c"]],"start1":2281,"start2":2281,"length1":32,"length2":35},{"diffs":[[0,"TITLE);\r\n       "],[1," //"],[0," } else if (mess"]],"start1":2366,"start2":2366,"length1":32,"length2":35},{"diffs":[[0,")/i)) {\r\n       "],[1," //"],[0,"     sonia.say(c"]],"start1":2429,"start2":2429,"length1":32,"length2":35},{"diffs":[[0,"ENERS);\r\n       "],[1," //"],[0," } else if (mess"]],"start1":2518,"start2":2518,"length1":32,"length2":35},{"diffs":[[0,"$/i)) {\r\n       "],[1," //"],[0,"     sonia.say(c"]],"start1":2605,"start2":2605,"length1":32,"length2":35}]],"length":11521,"saved":false}
{"ts":1373824702180,"patch":[[{"diffs":[[0,"\n       "],[-1," //"],[0," if (mes"]],"start1":2238,"start2":2238,"length1":19,"length2":16},{"diffs":[[0,")/i)) {\r\n       "],[-1," //"],[0,"     sonia.say(c"]],"start1":2278,"start2":2278,"length1":35,"length2":32}]],"length":11515,"saved":false}
{"ts":1373824742705,"patch":[[{"diffs":[[0,"m);\r\n       "],[1," //"],[0," var begin ="]],"start1":1980,"start2":1980,"length1":24,"length2":27},{"diffs":[[0,"1];\r\n       "],[1," //"],[0," message = m"]],"start1":2104,"start2":2104,"length1":24,"length2":27}]],"length":11521,"saved":false}
{"ts":1373824905477,"patch":[[{"diffs":[[0,"Sync();\r\n       "],[1," //"],[0," } else if (begi"]],"start1":8902,"start2":8902,"length1":32,"length2":35},{"diffs":[[0,") {\r\n       "],[1," //"],[0,"     var mat"]],"start1":8943,"start2":8943,"length1":24,"length2":27},{"diffs":[[0,"se;\r\n       "],[1," //"],[0,"     Object."]],"start1":8980,"start2":8980,"length1":24,"length2":27},{"diffs":[[0,"a, b) {\r\n       "],[1," //"],[0,"         if (mes"]],"start1":9043,"start2":9043,"length1":32,"length2":35},{"diffs":[[0,"em)) {\r\n        "],[1,"//"],[0,"            matc"]],"start1":9091,"start2":9091,"length1":32,"length2":34},{"diffs":[[0,"        "],[1," "],[0,"matched "]],"start1":9113,"start2":9113,"length1":16,"length2":17},{"diffs":[[0,"= true;\r\n       "],[1," //"],[0,"             mes"]],"start1":9130,"start2":9130,"length1":32,"length2":35},{"diffs":[[0,"[item];\r\n       "],[1," //"],[0,"             mes"]],"start1":9177,"start2":9177,"length1":32,"length2":35},{"diffs":[[0," from);\r\n       "],[1," //"],[0,"             mes"]],"start1":9235,"start2":9235,"length1":32,"length2":35},{"diffs":[[0,"eling);\r\n       "],[1," //"],[0,"         }\r\n    "]],"start1":9299,"start2":9299,"length1":32,"length2":35},{"diffs":[[0,"      }\r\n       "],[1," //"],[0,"     });\r\n      "]],"start1":9321,"start2":9321,"length1":32,"length2":35},{"diffs":[[0,"    });\r\n       "],[1," //"],[0,"     if (!matche"]],"start1":9341,"start2":9341,"length1":32,"length2":35},{"diffs":[[0,"ched) {\r\n       "],[1," //"],[0,"         message"]],"start1":9373,"start2":9373,"length1":32,"length2":35},{"diffs":[[0,"'+from;\r\n       "],[1," //"],[0,"     }\r\n        "]],"start1":9433,"start2":9433,"length1":32,"length2":35},{"diffs":[[0," }\r\n        "],[1,"//"],[0,"    "],[1," "],[0,"if (to!=conf"]],"start1":9456,"start2":9456,"length1":28,"length2":31},{"diffs":[[0,"Name) {\r\n       "],[1," //"],[0,"         sonia.s"]],"start1":9493,"start2":9493,"length1":32,"length2":35},{"diffs":[[0,"e);\r\n       "],[1," //"],[0,"     } else "]],"start1":9543,"start2":9543,"length1":24,"length2":27},{"diffs":[[0," else {\r\n       "],[1," //"],[0,"         sonia.s"]],"start1":9564,"start2":9564,"length1":32,"length2":35},{"diffs":[[0,"ssage);\r\n       "],[1," //"],[0,"     }\r\n        "]],"start1":9610,"start2":9610,"length1":32,"length2":35}]],"length":11575,"saved":false}
{"ts":1373824944145,"patch":[[{"diffs":[[0,"\n       "],[-1," //"],[0," var beg"]],"start1":1984,"start2":1984,"length1":19,"length2":16},{"diffs":[[0,"\n       "],[-1," //"],[0," message"]],"start1":2105,"start2":2105,"length1":19,"length2":16},{"diffs":[[0,"Sync();\r\n       "],[-1," //"],[0," } else if (begi"]],"start1":8896,"start2":8896,"length1":35,"length2":32},{"diffs":[[0,"='!') {\r\n       "],[-1," //"],[0,"     var matched"]],"start1":8930,"start2":8930,"length1":35,"length2":32},{"diffs":[[0,"se;\r\n       "],[-1," //"],[0,"     Object."]],"start1":8968,"start2":8968,"length1":27,"length2":24},{"diffs":[[0,"a, b) {\r\n       "],[-1," //"],[0,"         if (mes"]],"start1":9028,"start2":9028,"length1":35,"length2":32},{"diffs":[[0,"em)) {\r\n        "],[-1,"//"],[0,"             mat"]],"start1":9073,"start2":9073,"length1":34,"length2":32},{"diffs":[[0,"        "],[-1," "],[0,"matched "]],"start1":9093,"start2":9093,"length1":17,"length2":16},{"diffs":[[0,"= true;\r\n       "],[-1," //"],[0,"             mes"]],"start1":9109,"start2":9109,"length1":35,"length2":32},{"diffs":[[0,"[item];\r\n       "],[-1," //"],[0,"             mes"]],"start1":9153,"start2":9153,"length1":35,"length2":32},{"diffs":[[0," from);\r\n       "],[-1," //"],[0,"             mes"]],"start1":9208,"start2":9208,"length1":35,"length2":32},{"diffs":[[0,"eling);\r\n       "],[-1," //"],[0,"         }\r\n    "]],"start1":9269,"start2":9269,"length1":35,"length2":32},{"diffs":[[0,"      }\r\n       "],[-1," //"],[0,"     });\r\n      "]],"start1":9288,"start2":9288,"length1":35,"length2":32},{"diffs":[[0,"    });\r\n       "],[-1," //"],[0,"     if (!matche"]],"start1":9305,"start2":9305,"length1":35,"length2":32},{"diffs":[[0,"ched) {\r\n       "],[-1," //"],[0,"         message"]],"start1":9334,"start2":9334,"length1":35,"length2":32},{"diffs":[[0,"'+from;\r\n       "],[-1," //"],[0,"     }\r\n        "]],"start1":9391,"start2":9391,"length1":35,"length2":32},{"diffs":[[0," }\r\n        "],[-1,"//"],[0,"    "],[-1," "],[0,"if (to!=conf"]],"start1":9411,"start2":9411,"length1":31,"length2":28},{"diffs":[[0,"Name) {\r\n       "],[-1," //"],[0,"         sonia.s"]],"start1":9445,"start2":9445,"length1":35,"length2":32},{"diffs":[[0,"ssage);\r\n       "],[-1," //"],[0,"     } else {\r\n "]],"start1":9488,"start2":9488,"length1":35,"length2":32},{"diffs":[[0," else {\r\n       "],[-1," //"],[0,"         sonia.s"]],"start1":9510,"start2":9510,"length1":35,"length2":32},{"diffs":[[0,"ssage);\r\n       "],[-1," //"],[0,"     }\r\n        "]],"start1":9553,"start2":9553,"length1":35,"length2":32}]],"length":11515,"saved":false}
{"ts":1373824982857,"patch":[[{"diffs":[[0,"        "],[1," //"],[0," Object."]],"start1":8976,"start2":8976,"length1":16,"length2":19},{"diffs":[[0,") {\r\n           "],[1," //"],[0,"     if (message"]],"start1":9035,"start2":9035,"length1":32,"length2":35},{"diffs":[[0,") {\r\n           "],[1," //"],[0,"         matched"]],"start1":9082,"start2":9082,"length1":32,"length2":35},{"diffs":[[0,"ue;\r\n           "],[1," //"],[0,"         message"]],"start1":9122,"start2":9122,"length1":32,"length2":35},{"diffs":[[0,"m];\r\n           "],[1," //"],[0,"         message"]],"start1":9169,"start2":9169,"length1":32,"length2":35},{"diffs":[[0,"m);\r\n           "],[1," //"],[0,"         message"]],"start1":9227,"start2":9227,"length1":32,"length2":35},{"diffs":[[0,"g);\r\n           "],[1," //"],[0,"     }\r\n        "]],"start1":9291,"start2":9291,"length1":32,"length2":35},{"diffs":[[0,"  }\r\n           "],[1," //"],[0," });\r\n          "]],"start1":9313,"start2":9313,"length1":32,"length2":35}]],"length":11539,"saved":false}
{"ts":1373825008204,"patch":[[{"diffs":[[0,"Sync();\r\n       "],[1," //"],[0," } else if (begi"]],"start1":8896,"start2":8896,"length1":32,"length2":35},{"diffs":[[0,") {\r\n       "],[1," //"],[0,"     var mat"]],"start1":8937,"start2":8937,"length1":24,"length2":27},{"diffs":[[0," false;\r\n       "],[1," //"],[0,"     // Object.k"]],"start1":8970,"start2":8970,"length1":32,"length2":35},{"diffs":[[0,"a, b) {\r\n       "],[1," //"],[0,"     //     if ("]],"start1":9040,"start2":9040,"length1":32,"length2":35},{"diffs":[[0,"em)) {\r\n        "],[1,"//"],[0,"    "],[1," "],[0,"//         match"]],"start1":9091,"start2":9091,"length1":36,"length2":39},{"diffs":[[0,"= true;\r\n       "],[1," //"],[0,"     //         "]],"start1":9133,"start2":9133,"length1":32,"length2":35},{"diffs":[[0,"[item];\r\n       "],[1," //"],[0,"     //         "]],"start1":9183,"start2":9183,"length1":32,"length2":35},{"diffs":[[0," from);\r\n       "],[1," //"],[0,"     //         "]],"start1":9244,"start2":9244,"length1":32,"length2":35},{"diffs":[[0,"eling);\r\n       "],[1," //"],[0,"     //     }\r\n "]],"start1":9311,"start2":9311,"length1":32,"length2":35},{"diffs":[[0,"  }\r\n       "],[1," //"],[0,"     // });\r"]],"start1":9340,"start2":9340,"length1":24,"length2":27},{"diffs":[[0," // });\r\n       "],[1," //"],[0,"     if (!matche"]],"start1":9359,"start2":9359,"length1":32,"length2":35},{"diffs":[[0,"ched) {\r\n       "],[1," //"],[0,"         message"]],"start1":9391,"start2":9391,"length1":32,"length2":35},{"diffs":[[0,"'+from;\r\n       "],[1," //"],[0,"     }\r\n        "]],"start1":9451,"start2":9451,"length1":32,"length2":35},{"diffs":[[0," }\r\n        "],[1,"//"],[0,"    "],[1," "],[0,"if (to!=conf"]],"start1":9474,"start2":9474,"length1":28,"length2":31},{"diffs":[[0,"Name) {\r\n       "],[1," //"],[0,"         sonia.s"]],"start1":9511,"start2":9511,"length1":32,"length2":35},{"diffs":[[0,"e);\r\n       "],[1," //"],[0,"     } else "]],"start1":9561,"start2":9561,"length1":24,"length2":27},{"diffs":[[0," else {\r\n       "],[1," //"],[0,"         sonia.s"]],"start1":9582,"start2":9582,"length1":32,"length2":35},{"diffs":[[0,"ssage);\r\n       "],[1," //"],[0,"     }\r\n        "]],"start1":9628,"start2":9628,"length1":32,"length2":35}]],"length":11593,"saved":false}
{"ts":1373825184820,"patch":[[{"diffs":[[0,"1];\r\n       "],[1," //"],[0," message = m"]],"start1":2101,"start2":2101,"length1":24,"length2":27}]],"length":11596,"saved":false}
{"ts":1373825291826,"patch":[[{"diffs":[[0," message.match(/"],[1,"^"],[0,"(Sonia[:,] |!)/i"]],"start1":2004,"start2":2004,"length1":32,"length2":33},{"diffs":[[0,"sage.match(/"],[1,"^"],[0,"(Sonia: |!)/"]],"start1":2042,"start2":2042,"length1":24,"length2":25}]],"length":11598,"saved":false}
{"ts":1373825364251,"patch":[[{"diffs":[[0,"rr.stack);\r\n"],[1,"  sonia.say('ElectricErger', 'Caught exception: ' + err.stack);\r\n"],[0,"});"]],"start1":11583,"start2":11583,"length1":15,"length2":80}]],"length":11663,"saved":false}
{"ts":1373825410524,"patch":[[{"diffs":[[0,"Sync();\r\n       "],[-1," //"],[0," } else if (begi"]],"start1":8901,"start2":8901,"length1":35,"length2":32},{"diffs":[[0,"='!') {\r\n       "],[-1," //"],[0,"     var matched"]],"start1":8935,"start2":8935,"length1":35,"length2":32},{"diffs":[[0," false;\r\n       "],[-1," //"],[0,"     // Object.k"]],"start1":8969,"start2":8969,"length1":35,"length2":32},{"diffs":[[0,"a, b) {\r\n       "],[-1," //"],[0,"     //     if ("]],"start1":9036,"start2":9036,"length1":35,"length2":32},{"diffs":[[0,"em)) {\r\n        "],[-1,"//"],[0,"    "],[-1," "],[0,"//         match"]],"start1":9084,"start2":9084,"length1":39,"length2":36},{"diffs":[[0,"= true;\r\n       "],[-1," //"],[0,"     //         "]],"start1":9123,"start2":9123,"length1":35,"length2":32},{"diffs":[[0,"[item];\r\n       "],[-1," //"],[0,"     //         "]],"start1":9170,"start2":9170,"length1":35,"length2":32},{"diffs":[[0," from);\r\n       "],[-1," //"],[0,"     //         "]],"start1":9228,"start2":9228,"length1":35,"length2":32},{"diffs":[[0,"eling);\r\n       "],[-1," //"],[0,"     //     }\r\n "]],"start1":9292,"start2":9292,"length1":35,"length2":32},{"diffs":[[0,"  }\r\n       "],[-1," //"],[0,"     // });\r"]],"start1":9318,"start2":9318,"length1":27,"length2":24},{"diffs":[[0," // });\r\n       "],[-1," //"],[0,"     if (!matche"]],"start1":9334,"start2":9334,"length1":35,"length2":32},{"diffs":[[0,"ched) {\r\n       "],[-1," //"],[0,"         message"]],"start1":9363,"start2":9363,"length1":35,"length2":32},{"diffs":[[0,"'+from;\r\n       "],[-1," //"],[0,"     }\r\n        "]],"start1":9420,"start2":9420,"length1":35,"length2":32},{"diffs":[[0," }\r\n        "],[-1,"//"],[0,"    "],[-1," "],[0,"if (to!=conf"]],"start1":9440,"start2":9440,"length1":31,"length2":28},{"diffs":[[0,"Name) {\r\n       "],[-1," //"],[0,"         sonia.s"]],"start1":9474,"start2":9474,"length1":35,"length2":32},{"diffs":[[0,"ssage);\r\n       "],[-1," //"],[0,"     } else {\r\n "]],"start1":9517,"start2":9517,"length1":35,"length2":32},{"diffs":[[0," else {\r\n       "],[-1," //"],[0,"         sonia.s"]],"start1":9539,"start2":9539,"length1":35,"length2":32},{"diffs":[[0,"ssage);\r\n       "],[-1," //"],[0,"     }\r\n        "]],"start1":9582,"start2":9582,"length1":35,"length2":32}]],"length":11609,"saved":false}
{"ts":1373825478065,"patch":[[{"diffs":[[0,"                "],[1," //"],[0," if (db.getItem("]],"start1":10121,"start2":10121,"length1":32,"length2":35},{"diffs":[[0,"                "],[1," //"],[0,"     sonia.say(c"]],"start1":10202,"start2":10202,"length1":32,"length2":35},{"diffs":[[0,"                "],[1," //"],[0," }\r\n            "]],"start1":10298,"start2":10298,"length1":32,"length2":35},{"diffs":[[0,"\n           "],[1," //"],[0," if (db.getI"]],"start1":10749,"start2":10749,"length1":24,"length2":27},{"diffs":[[0,") {\r\n           "],[1," //"],[0,"     sonia.say(c"]],"start1":10806,"start2":10806,"length1":32,"length2":35},{"diffs":[[0,"));\r\n           "],[1," //"],[0," }\r\n            "]],"start1":10882,"start2":10882,"length1":32,"length2":35}]],"length":11627,"saved":false}
{"ts":1373825538630,"patch":[[{"diffs":[[0,"\n       "],[-1," //"],[0," message"]],"start1":2107,"start2":2107,"length1":19,"length2":16}]],"length":11624,"saved":false}
{"ts":1373825576192,"patch":[[{"diffs":[[0,"onia[:,]"],[1,"?"],[0," )/i)||m"]],"start1":1695,"start2":1695,"length1":16,"length2":17}]],"length":11625,"saved":false}
{"ts":1373825591691,"patch":[[{"diffs":[[0,"/^(Sonia[:,]"],[1,"?"],[0," |!)/i)?mess"]],"start1":2020,"start2":2020,"length1":24,"length2":25},{"diffs":[[0,"/^(Sonia"],[-1,":"],[1,"[:,]?"],[0," |!)/i)["]],"start1":2055,"start2":2055,"length1":17,"length2":21},{"diffs":[[0,"onia[:,]"],[1,"?"],[0," |)/i)?m"]],"start1":2149,"start2":2149,"length1":16,"length2":17},{"diffs":[[0,"onia[:,]"],[1,"?"],[0," |!)(.*)"]],"start1":2184,"start2":2184,"length1":16,"length2":17}]],"length":11632,"saved":false}
{"ts":1373825604345,"patch":[[{"diffs":[[0,".match(/"],[1,"^"],[0,"(Sonia[:"]],"start1":2139,"start2":2139,"length1":16,"length2":17},{"diffs":[[0,".match(/"],[1,"^"],[0,"(?:Sonia"]],"start1":2173,"start2":2173,"length1":16,"length2":17}]],"length":11634,"saved":false}
{"ts":1373825640071,"patch":[[{"diffs":[[0,"TITLE);\r\n       "],[-1," //"],[0," } else if (mess"]],"start1":2372,"start2":2372,"length1":35,"length2":32},{"diffs":[[0,")/i)) {\r\n       "],[-1," //"],[0,"     sonia.say(c"]],"start1":2432,"start2":2432,"length1":35,"length2":32},{"diffs":[[0,"ENERS);\r\n       "],[-1," //"],[0," } else if (mess"]],"start1":2518,"start2":2518,"length1":35,"length2":32},{"diffs":[[0,"/i)) {\r\n        "],[-1,"//"],[0,"    "],[-1," "],[0,"sonia.say(chan, "]],"start1":2603,"start2":2603,"length1":39,"length2":36},{"diffs":[[0,"Now());\r\n       "],[-1," //"],[0," } else if (mess"]],"start1":2755,"start2":2755,"length1":35,"length2":32},{"diffs":[[0," '?') {\r\n       "],[-1," //"],[0,"     sonia.say(c"]],"start1":2828,"start2":2828,"length1":35,"length2":32},{"diffs":[[0,"an,\r\n       "],[-1," //"],[0,"     'Comman"]],"start1":2861,"start2":2861,"length1":27,"length2":24},{"diffs":[[0,"tify');\r\n       "],[-1," //"],[0," } else if (mess"]],"start1":2964,"start2":2964,"length1":35,"length2":32},{"diffs":[[0,")/i)) {\r\n       "],[-1," //"],[0,"     sonia.whois"]],"start1":3021,"start2":3021,"length1":35,"length2":32},{"diffs":[[0,"info) {\r\n       "],[-1," //"],[0,"         if (inf"]],"start1":3070,"start2":3070,"length1":35,"length2":32},{"diffs":[[0,">= 0) {\r\n       "],[-1," //"],[0,"             not"]],"start1":3241,"start2":3241,"length1":35,"length2":32},{"diffs":[[0,"notify;\r\n       "],[-1," //"],[0,"             son"]],"start1":3280,"start2":3280,"length1":35,"length2":32},{"diffs":[[0,"off'));\r\n       "],[-1," //"],[0,"         } else "]],"start1":3372,"start2":3372,"length1":35,"length2":32},{"diffs":[[0,"else {\r\n        "],[-1,"//"],[0,"             son"]],"start1":3399,"start2":3399,"length1":34,"length2":32},{"diffs":[[0,"                "],[-1," "],[0,"sonia.say(from, "]],"start1":3411,"start2":3411,"length1":33,"length2":32},{"diffs":[[0," ...');\r\n       "],[-1," //"],[0,"         }\r\n    "]],"start1":3481,"start2":3481,"length1":35,"length2":32},{"diffs":[[0,"     }\r\n        "],[-1,"//"],[0,"    "],[-1," "],[0,"});\r\n        // "]],"start1":3501,"start2":3501,"length1":39,"length2":36},{"diffs":[[0,"    });\r\n       "],[-1," //"],[0," } else if (mess"]],"start1":3517,"start2":3517,"length1":35,"length2":32},{"diffs":[[0,")/i)) {\r\n       "],[-1," //"],[0,"     sonia.actio"]],"start1":3571,"start2":3571,"length1":35,"length2":32},{"diffs":[[0,"+from);\r\n       "],[-1," //"],[0," } else if (mess"]],"start1":3619,"start2":3619,"length1":35,"length2":32},{"diffs":[[0,"$/i)) {\r\n       "],[-1," //"],[0,"     sonia.actio"]],"start1":3702,"start2":3702,"length1":35,"length2":32},{"diffs":[[0,"i)[1]);\r\n       "],[-1," //"],[0," } else if (mess"]],"start1":3773,"start2":3773,"length1":35,"length2":32},{"diffs":[[0,"/i)) {\r\n        "],[-1,"//"],[0,"    "],[-1," "],[0,"sonia.whois(from"]],"start1":3828,"start2":3828,"length1":39,"length2":36},{"diffs":[[0,"info) {\r\n       "],[-1," //"],[0,"         if (inf"]],"start1":3876,"start2":3876,"length1":35,"length2":32},{"diffs":[[0,"= 0) {\r\n        "],[-1,"//"],[0,"             db."]],"start1":4048,"start2":4048,"length1":34,"length2":32},{"diffs":[[0,"                "],[-1," "],[0,"db.setItem(curre"]],"start1":4060,"start2":4060,"length1":33,"length2":32},{"diffs":[[0,":rem));\r\n       "],[-1," //"],[0,"             son"]],"start1":4176,"start2":4176,"length1":35,"length2":32},{"diffs":[[0,"ITLE));\r\n       "],[-1," //"],[0,"         } else "]],"start1":4333,"start2":4333,"length1":35,"length2":32},{"diffs":[[0," else {\r\n       "],[-1," //"],[0,"             son"]],"start1":4359,"start2":4359,"length1":35,"length2":32},{"diffs":[[0," ...');\r\n       "],[-1," //"],[0,"         }\r\n    "]],"start1":4442,"start2":4442,"length1":35,"length2":32},{"diffs":[[0,"     }\r\n        "],[-1,"//"],[0,"    "],[-1," "],[0,"});\r\n        // "]],"start1":4462,"start2":4462,"length1":39,"length2":36},{"diffs":[[0,"    });\r\n       "],[-1," //"],[0," } else if (mess"]],"start1":4478,"start2":4478,"length1":35,"length2":32},{"diffs":[[0,")/i)) {\r\n       "],[-1," //"],[0,"     sonia.whois"]],"start1":4536,"start2":4536,"length1":35,"length2":32},{"diffs":[[0,"info) {\r\n       "],[-1," //"],[0,"         if (inf"]],"start1":4585,"start2":4585,"length1":35,"length2":32},{"diffs":[[0,">= 0) {\r\n       "],[-1," //"],[0,"             db."]],"start1":4756,"start2":4756,"length1":35,"length2":32},{"diffs":[[0," rem);\r\n        "],[-1,"//"],[0,"             son"]],"start1":4833,"start2":4833,"length1":34,"length2":32},{"diffs":[[0,"                "],[-1," "],[0,"sonia.say((to==c"]],"start1":4845,"start2":4845,"length1":33,"length2":32},{"diffs":[[0,"ITLE));\r\n       "],[-1," //"],[0,"         } else "]],"start1":4989,"start2":4989,"length1":35,"length2":32},{"diffs":[[0," else {\r\n       "],[-1," //"],[0,"             son"]],"start1":5015,"start2":5015,"length1":35,"length2":32},{"diffs":[[0," ...');\r\n       "],[-1," //"],[0,"         }\r\n    "]],"start1":5098,"start2":5098,"length1":35,"length2":32},{"diffs":[[0,"      }\r\n       "],[-1," //"],[0,"     });\r\n      "]],"start1":5117,"start2":5117,"length1":35,"length2":32},{"diffs":[[0,"    });\r\n       "],[-1," //"],[0," } else if (mess"]],"start1":5134,"start2":5134,"length1":35,"length2":32},{"diffs":[[0,")/i)) {\r\n       "],[-1," //"],[0,"     sonia.whois"]],"start1":5215,"start2":5215,"length1":35,"length2":32},{"diffs":[[0,"info) {\r\n       "],[-1," //"],[0,"         if (inf"]],"start1":5264,"start2":5264,"length1":35,"length2":32},{"diffs":[[0,">= 0) {\r\n       "],[-1," //"],[0,"             son"]],"start1":5435,"start2":5435,"length1":35,"length2":32},{"diffs":[[0,"i)[1]);\r\n       "],[-1," //"],[0,"         } else "]],"start1":5501,"start2":5501,"length1":35,"length2":32},{"diffs":[[0,"else {\r\n        "],[-1,"//"],[0,"             son"]],"start1":5528,"start2":5528,"length1":34,"length2":32},{"diffs":[[0,"                "],[-1," "],[0,"sonia.say(from, "]],"start1":5540,"start2":5540,"length1":33,"length2":32},{"diffs":[[0," ...');\r\n       "],[-1," //"],[0,"         }\r\n    "]],"start1":5610,"start2":5610,"length1":35,"length2":32},{"diffs":[[0,"        "],[-1,"//"],[0,"    "],[-1," "],[0,"});\r\n   "]],"start1":5638,"start2":5638,"length1":23,"length2":20},{"diffs":[[0,"    });\r\n       "],[-1," //"],[0," } else if (mess"]],"start1":5646,"start2":5646,"length1":35,"length2":32},{"diffs":[[0,"]/i)) {\r\n       "],[-1," //"],[0,"     var match ="]],"start1":5729,"start2":5729,"length1":35,"length2":32},{"diffs":[[0,"        "],[-1,"//"],[0,"    "],[-1," "],[0,"calls[ma"]],"start1":5824,"start2":5824,"length1":23,"length2":20},{"diffs":[[0,"tch[2];\r\n       "],[-1," //"],[0,"     db.setItem("]],"start1":5856,"start2":5856,"length1":35,"length2":32},{"diffs":[[0,"s);\r\n       "],[-1," //"],[0,"     sonia.s"]],"start1":5901,"start2":5901,"length1":27,"length2":24},{"diffs":[[0," it!');\r\n       "],[-1," //"],[0," } else if (mess"]],"start1":5938,"start2":5938,"length1":35,"length2":32},{"diffs":[[0,") {\r\n       "],[-1," //"],[0,"     var dat"]],"start1":6000,"start2":6000,"length1":27,"length2":24},{"diffs":[[0,");\r\n        "],[-1,"//"],[0,"    "],[-1," "],[0,"if (!data) {"]],"start1":6128,"start2":6128,"length1":31,"length2":28},{"diffs":[[0,"data) {\r\n       "],[-1," //"],[0,"         googlea"]],"start1":6149,"start2":6149,"length1":35,"length2":32},{"diffs":[[0,"ient) {\r\n       "],[-1," //"],[0,"             var"]],"start1":6235,"start2":6235,"length1":35,"length2":32},{"diffs":[[0,".*)/i);\r\n       "],[-1," //"],[0,"             if "]],"start1":6295,"start2":6295,"length1":35,"length2":32},{"diffs":[[0,"ents) {\r\n       "],[-1," //"],[0,"                "]],"start1":6331,"start2":6331,"length1":35,"length2":32},{"diffs":[[0,"s[1]);\r\n        "],[-1,"//"],[0,"                "]],"start1":6387,"start2":6387,"length1":34,"length2":32},{"diffs":[[0,"                "],[-1," "],[0,"moments = moment"]],"start1":6403,"start2":6403,"length1":33,"length2":32},{"diffs":[[0,"ment();\r\n       "],[-1," //"],[0,"             } e"]],"start1":6457,"start2":6457,"length1":35,"length2":32},{"diffs":[[0," else {\r\n       "],[-1," //"],[0,"                "]],"start1":6487,"start2":6487,"length1":35,"length2":32},{"diffs":[[0,"ment();\r\n       "],[-1," //"],[0,"             }\r\n"]],"start1":6532,"start2":6532,"length1":35,"length2":32},{"diffs":[[0,"      }\r\n       "],[-1," //"],[0,"             var"]],"start1":6555,"start2":6555,"length1":35,"length2":32},{"diffs":[[0,"ms = {\r\n        "],[-1,"//"],[0,"                "]],"start1":6592,"start2":6592,"length1":34,"length2":32},{"diffs":[[0,"                "],[-1," "],[0,"maxResults: 1,\r\n"]],"start1":6608,"start2":6608,"length1":33,"length2":32},{"diffs":[[0,"lts: 1,\r\n       "],[-1," //"],[0,"                "]],"start1":6631,"start2":6631,"length1":35,"length2":32},{"diffs":[[0,"TITLE),\r\n       "],[-1," //"],[0,"                "]],"start1":6747,"start2":6747,"length1":35,"length2":32},{"diffs":[[0,"ippet',\r\n       "],[-1," //"],[0,"                "]],"start1":6789,"start2":6789,"length1":35,"length2":32},{"diffs":[[0,"     };\r\n       "],[-1," //"],[0,"             cli"]],"start1":6817,"start2":6817,"length1":35,"length2":32},{"diffs":[[0,"nse) {\r\n        "],[-1,"//"],[0,"                "]],"start1":6925,"start2":6925,"length1":34,"length2":32},{"diffs":[[0,"                "],[-1," "],[0,"response.items.f"]],"start1":6941,"start2":6941,"length1":33,"length2":32},{"diffs":[[0,",a,b) {\r\n       "],[-1," //"],[0,"                "]],"start1":6994,"start2":6994,"length1":35,"length2":32},{"diffs":[[0,"deoId);\r\n       "],[-1," //"],[0,"                "]],"start1":7161,"start2":7161,"length1":35,"length2":32},{"diffs":[[0,"ideoId;\r\n       "],[-1," //"],[0,"                "]],"start1":7247,"start2":7247,"length1":35,"length2":32},{"diffs":[[0,"    });\r\n       "],[-1," //"],[0,"             })}"]],"start1":7280,"start2":7280,"length1":35,"length2":32},{"diffs":[[0,"        "],[-1,"//"],[0,"    "],[-1," "],[0,"} else {"]],"start1":7316,"start2":7316,"length1":23,"length2":20},{"diffs":[[0," else {\r\n       "],[-1," //"],[0,"         sonia.s"]],"start1":7329,"start2":7329,"length1":35,"length2":32},{"diffs":[[0,"a);\r\n       "],[-1," //"],[0,"     }\r\n    "]],"start1":7440,"start2":7440,"length1":27,"length2":24},{"diffs":[[0,"      }\r\n       "],[-1," //"],[0," } else if (mess"]],"start1":7451,"start2":7451,"length1":35,"length2":32},{"diffs":[[0,") {\r\n       "],[-1," //"],[0,"     googlea"]],"start1":7510,"start2":7510,"length1":27,"length2":24},{"diffs":[[0," {\r\n        "],[-1,"//"],[0,"        "],[-1," "],[0,"var moments "]],"start1":7594,"start2":7594,"length1":35,"length2":32},{"diffs":[[0,".*)/i);\r\n       "],[-1," //"],[0,"         if (mom"]],"start1":7645,"start2":7645,"length1":35,"length2":32},{"diffs":[[0,"ents) {\r\n       "],[-1," //"],[0,"             mom"]],"start1":7677,"start2":7677,"length1":35,"length2":32},{"diffs":[[0,"ts[1]);\r\n       "],[-1," //"],[0,"             mom"]],"start1":7728,"start2":7728,"length1":35,"length2":32},{"diffs":[[0,"ment();\r\n       "],[-1," //"],[0,"         } else "]],"start1":7795,"start2":7795,"length1":35,"length2":32},{"diffs":[[0,"else {\r\n        "],[-1,"//"],[0,"             mom"]],"start1":7822,"start2":7822,"length1":34,"length2":32},{"diffs":[[0,"                "],[-1," "],[0,"moments = moment"]],"start1":7834,"start2":7834,"length1":33,"length2":32},{"diffs":[[0,"ment();\r\n       "],[-1," //"],[0,"         }\r\n    "]],"start1":7862,"start2":7862,"length1":35,"length2":32},{"diffs":[[0,"      }\r\n       "],[-1," //"],[0,"         var par"]],"start1":7881,"start2":7881,"length1":35,"length2":32},{"diffs":[[0,"ams = {\r\n       "],[-1," //"],[0,"               c"]],"start1":7913,"start2":7913,"length1":35,"length2":32},{"diffs":[[0,"l.com',\r\n       "],[-1," //"],[0,"               m"]],"start1":7980,"start2":7980,"length1":35,"length2":32},{"diffs":[[0,"ts: 1,\r\n        "],[-1,"//"],[0,"               t"]],"start1":8019,"start2":8019,"length1":34,"length2":32},{"diffs":[[0,"        "],[-1," "],[0,"timeMin:"]],"start1":8041,"start2":8041,"length1":17,"length2":16},{"diffs":[[0,"oments,\r\n       "],[-1," //"],[0,"               s"]],"start1":8059,"start2":8059,"length1":35,"length2":32},{"diffs":[[0,": true,\r\n       "],[-1," //"],[0,"               o"]],"start1":8102,"start2":8102,"length1":35,"length2":32},{"diffs":[[0,"tTime\",\r\n       "],[-1," //"],[0,"               }"]],"start1":8147,"start2":8147,"length1":35,"length2":32},{"diffs":[[0,"     };\r\n       "],[-1," //"],[0,"         client."]],"start1":8173,"start2":8173,"length1":35,"length2":32},{"diffs":[[0,"nse) {\r\n        "],[-1,"//"],[0,"             res"]],"start1":8278,"start2":8278,"length1":34,"length2":32},{"diffs":[[0,"                "],[-1," "],[0,"response.items.f"]],"start1":8290,"start2":8290,"length1":33,"length2":32},{"diffs":[[0,"});\r\n       "],[-1," //"],[0,"         })}"]],"start1":8443,"start2":8443,"length1":27,"length2":24},{"diffs":[[0,"  })});\r\n       "],[-1," //"],[0," } else if (mess"]],"start1":8462,"start2":8462,"length1":35,"length2":32},{"diffs":[[0,") {\r\n       "],[-1," //"],[0,"     process"]],"start1":8516,"start2":8516,"length1":27,"length2":24},{"diffs":[[0,"\n       "],[-1," //"],[0," } else "]],"start1":8549,"start2":8549,"length1":19,"length2":16},{"diffs":[[0,"        "],[-1,"//"],[0,"    "],[-1," "],[0,"db.persi"]],"start1":8589,"start2":8589,"length1":23,"length2":20},{"diffs":[[0,"        "],[-1," //"],[0," Object."]],"start1":8691,"start2":8691,"length1":19,"length2":16},{"diffs":[[0,"\n           "],[-1," //"],[0,"     if (mes"]],"start1":8751,"start2":8751,"length1":27,"length2":24},{"diffs":[[0,") {\r\n           "],[-1," //"],[0,"         matched"]],"start1":8791,"start2":8791,"length1":35,"length2":32},{"diffs":[[0,"ue;\r\n           "],[-1," //"],[0,"         message"]],"start1":8828,"start2":8828,"length1":35,"length2":32},{"diffs":[[0,"            "],[-1,"//"],[0,"        "],[-1," "],[0,"message.repl"]],"start1":8877,"start2":8877,"length1":35,"length2":32},{"diffs":[[0,"\n           "],[-1," //"],[0,"         mes"]],"start1":8931,"start2":8931,"length1":27,"length2":24},{"diffs":[[0,"\n           "],[-1," //"],[0,"     }\r\n    "]],"start1":8992,"start2":8992,"length1":27,"length2":24},{"diffs":[[0,"        "],[-1," //"],[0," });\r\n  "]],"start1":9015,"start2":9015,"length1":19,"length2":16}]],"length":11313,"saved":false}
{"ts":1373825823953,"patch":[[{"diffs":[[0,"ent();\r\n"],[-1,"// "],[0,"db.initS"]],"start1":406,"start2":406,"length1":19,"length2":16},{"diffs":[[0,"ata/'});"],[1," //"],[0," PRODUCT"]],"start1":437,"start2":437,"length1":16,"length2":19},{"diffs":[[0,"N CODE\r\n"],[1,"// "],[0,"db.initS"]],"start1":458,"start2":458,"length1":16,"length2":19},{"diffs":[[0,"tSync();"],[1," // DEVEL CODE"],[0,"\r\nif (!d"]],"start1":475,"start2":475,"length1":16,"length2":30},{"diffs":[[0,"org\",\r\n\t"],[1,"// "],[0,"botName:"]],"start1":1161,"start2":1161,"length1":16,"length2":19},{"diffs":[[0,"oniaBeta\",\r\n"],[1,"    botName: \"Sonia\",\r\n"],[0,"    floodPro"]],"start1":1183,"start2":1183,"length1":24,"length2":47}]],"length":11356,"saved":false}
{"ts":1373826204592,"patch":[[{"diffs":[[0,"ack);\r\n "],[1," //"],[0," sonia.s"]],"start1":11281,"start2":11281,"length1":16,"length2":19}]],"length":11359,"saved":false}
{"ts":1373826330298,"patch":[[{"diffs":[[0,"2];\r\n           "],[1," //"],[0," db.setItem('cal"]],"start1":5903,"start2":5903,"length1":32,"length2":35}]],"length":11362,"saved":false}
{"ts":1373826463765,"patch":[[{"diffs":[[0,"[(.*?)\\]/i)) {\r\n"],[1,"            console.log(message);\r\n"],[0,"            var "]],"start1":5765,"start2":5765,"length1":32,"length2":67}]],"length":11397,"saved":false}
{"ts":1373826518623,"patch":[[{"diffs":[[0," {\r\n"],[-1,"            console.log(message);\r\n"],[0,"    "]],"start1":5777,"start2":5777,"length1":43,"length2":8}]],"length":11362,"saved":false}
{"ts":1373826539112,"patch":[[{"diffs":[[0,"Sonia)$/i)[1];\r\n"],[1,"        console.log([begin, message]);\r\n"],[0,"        if (mess"]],"start1":2278,"start2":2278,"length1":32,"length2":72}]],"length":11402,"saved":false}
{"ts":1373826612530,"patch":[[{"diffs":[[0,"Sonia)$/i)[1];\r\n"],[1,"        console.log([begin, message]);\r\n"],[0,"        message "]],"start1":2141,"start2":2141,"length1":32,"length2":72},{"diffs":[[0,"];\r\n"],[-1,"        console.log([begin, message]);\r\n"],[0,"    "]],"start1":2330,"start2":2330,"length1":48,"length2":8}]],"length":11402,"saved":false}
{"ts":1373826677982,"patch":[[{"diffs":[[0,"    "],[-1,"console.log([begin, message]);\r\n        message = message.match(/^(Sonia[:,]? |)/i)?message.match(/^(?:Sonia[:,]? |!)(.*)/i)[1]:message.match(/(.*)(?:,? Sonia)$/i)[1]"],[1,"message = message.replace(begin, '')"],[0,";\r\n "]],"start1":2161,"start2":2161,"length1":174,"length2":44}]],"length":11272,"saved":false}
{"ts":1373826718872,"patch":[[{"diffs":[[0,"        "],[-1," //"],[0," db.setI"]],"start1":5821,"start2":5821,"length1":19,"length2":16}]],"length":11269,"saved":false}
{"ts":1373826819846,"patch":[[{"diffs":[[0,"                "],[-1," //"],[0," if (db.getItem("]],"start1":9760,"start2":9760,"length1":35,"length2":32},{"diffs":[[0,"                "],[-1," //"],[0,"     sonia.say(c"]],"start1":9838,"start2":9838,"length1":35,"length2":32},{"diffs":[[0,"                "],[-1," //"],[0," }\r\n            "]],"start1":9931,"start2":9931,"length1":35,"length2":32},{"diffs":[[0,"        "],[-1," //"],[0," if (db."]],"start1":10383,"start2":10383,"length1":19,"length2":16},{"diffs":[[0,"        "],[-1," //"],[0,"     son"]],"start1":10441,"start2":10441,"length1":19,"length2":16},{"diffs":[[0,"        "],[-1," //"],[0," }\r\n    "]],"start1":10514,"start2":10514,"length1":19,"length2":16}]],"length":11251,"saved":false}
{"ts":1373827086331,"patch":[[{"diffs":[[0,"ent();\r\n"],[1,"// "],[0,"db.initS"]],"start1":406,"start2":406,"length1":16,"length2":19},{"diffs":[[0,"N CODE\r\n"],[-1,"// "],[0,"db.initS"]],"start1":461,"start2":461,"length1":19,"length2":16}]],"length":11251,"saved":false}
{"ts":1373827176181,"patch":[[{"diffs":[[0,"m, a, b) {\r\n"],[1,"                sonia.say('linaea', 'item');\r\n"],[0,"            "]],"start1":8693,"start2":8693,"length1":24,"length2":70}]],"length":11297,"saved":false}
{"ts":1373827256278,"patch":[[{"diffs":[[0,"a', "],[-1,"'"],[0,"item"],[-1,"'"],[0,");\r\n"]],"start1":8737,"start2":8737,"length1":14,"length2":12}]],"length":11295,"saved":false}
{"ts":1373827660849,"patch":[[{"diffs":[[0,"GTITLE+'"],[-1,"[s"],[1,"|event=song"],[0,"')) {\r\n "]],"start1":9862,"start2":9862,"length1":18,"length2":27},{"diffs":[[0,"GTITLE+'"],[-1,"[c"],[1,"|event=song"],[0,"'));\r\n  "]],"start1":9965,"start2":9965,"length1":18,"length2":27},{"diffs":[[0,"(0,12)+'"],[-1,"[c"],[1,"|event=login"],[0,"')) {\r\n "]],"start1":10483,"start2":10483,"length1":18,"length2":28},{"diffs":[[0,"(0,12)+'"],[-1,"[c"],[1,"|event=login"],[0,"'));\r\n  "]],"start1":10567,"start2":10567,"length1":18,"length2":28}]],"length":11333,"saved":false}
{"ts":1373827831192,"patch":[[{"diffs":[[0,"ent();\r\n"],[-1,"// "],[0,"db.initS"]],"start1":406,"start2":406,"length1":19,"length2":16},{"diffs":[[0,"N CODE\r\n"],[1,"// "],[0,"db.initS"]],"start1":458,"start2":458,"length1":16,"length2":19}]],"length":11333,"saved":false}
{"ts":1373827996512,"patch":[[{"diffs":[[0,",? Sonia"],[1,"[.!?]*?"],[0,"$/i)) {\r"]],"start1":1769,"start2":1769,"length1":16,"length2":23},{"diffs":[[0,",? Sonia"],[1,"[.!?]*?"],[0,")$/i)[1]"]],"start1":2145,"start2":2145,"length1":16,"length2":23}]],"length":11347,"saved":false}
{"ts":1373828232017,"patch":[[{"diffs":[[0,"r: '"],[-1,".."],[1,"~/app-root"],[0,"/data"],[-1,"/"],[0,"'});"]],"start1":429,"start2":429,"length1":16,"length2":23}]],"length":11354,"saved":false}
{"ts":1373828343119,"patch":[[{"diffs":[[0,"ce(/"],[-1,"<"],[1,"\\{"],[0,"from"],[-1,">"],[1,"\\}"],[0,"/g, "]],"start1":8928,"start2":8928,"length1":14,"length2":16},{"diffs":[[0,"ce(/"],[-1,"<"],[1,"\\{"],[0,"feeling"],[-1,">"],[1,"\\}"],[0,"/g, "]],"start1":8985,"start2":8985,"length1":17,"length2":19}]],"length":11358,"saved":false}
{"ts":1373828472373,"patch":[[{"diffs":[[0,"ace("],[-1,"/\\{from\\}/g"],[1,"'varFrom'"],[0,", fr"]],"start1":8927,"start2":8927,"length1":19,"length2":17},{"diffs":[[0,"ace("],[-1,"/\\{f"],[1,"'varF"],[0,"eeling"],[-1,"\\}/g"],[1,"'"],[0,", fe"]],"start1":8982,"start2":8982,"length1":22,"length2":20}]],"length":11354,"saved":false}
{"ts":1373828670978,"patch":[[{"diffs":[[0,"({dir: '"],[-1,"~"],[1,"/var/lib/openshift/51e2a8655973ca16a70000bb"],[0,"/app-roo"]],"start1":425,"start2":425,"length1":17,"length2":59}]],"length":11396,"saved":false}
{"ts":1373828911179,"patch":[[{"diffs":[[0,"r: '"],[-1,"/var/lib/openshift/51e2a8655973ca16a70000bb/app-root/data"],[1,"../data/"],[0,"'});"]],"start1":429,"start2":429,"length1":65,"length2":16}]],"length":11347,"saved":false}
{"ts":1373829146069,"patch":[[{"diffs":[[0,"                "],[1," message ="],[0," message.replace"]],"start1":8891,"start2":8891,"length1":32,"length2":42},{"diffs":[[0,"                "],[1," message ="],[0," message.replace"]],"start1":8956,"start2":8956,"length1":32,"length2":42}]],"length":11367,"saved":false}
{"ts":1373830638568,"patch":[[{"diffs":[[0,"atch(/^w(?:hen) "],[1,"(?:I )?"],[0,"\\[(.*?)\\],? s(?:"]],"start1":5650,"start2":5650,"length1":32,"length2":39},{"diffs":[[0,"(?:hen) "],[1,"(?:I )?"],[0,"\\[(.*?)\\"]],"start1":5753,"start2":5753,"length1":16,"length2":23}]],"length":11381,"saved":false}
{"ts":1373830685024,"patch":[[{"diffs":[[0,"/^w(?:hen) (?:I "],[1,"say "],[0,")?\\[(.*?)\\],? s("]],"start1":5655,"start2":5655,"length1":32,"length2":36},{"diffs":[[0,"ay )?\\[(.*?)\\],?"],[1,"(?: you)?"],[0," s(?:ay) ? \\[(.*"]],"start1":5672,"start2":5672,"length1":32,"length2":41},{"diffs":[[0,"n) (?:I "],[1,"say "],[0,")?\\[(.*?"]],"start1":5771,"start2":5771,"length1":16,"length2":20},{"diffs":[[0,".*?)\\],?"],[1,"(?: you)"],[0," s(?:ay)"]],"start1":5788,"start2":5788,"length1":16,"length2":24}]],"length":11406,"saved":false}
{"ts":1373830935824,"patch":[[{"diffs":[[0,"ent, rem"],[1,", next"],[0,";\r\nvar f"]],"start1":803,"start2":803,"length1":16,"length2":22},{"diffs":[[0,"    "],[-1,"googleapis.discover('calendar', 'v3').execute(function(err, client) {\r\n                var moments = message.match(/ (.*)/i);\r\n                if (moments) {\r\n                    moments = moment(moments[1]);\r\n                    moments = moments.isValid()?moments:moment();\r\n                } else {\r\n                    moments = moment();\r\n                }\r\n                var params = {\r\n                      calendarId: 'sonicradioboom2013@gmail.com',\r\n                      maxResults: 1,\r\n                      timeMin: moments,\r\n                      singleEvents: true,\r\n                      orderBy: \"startTime\",\r\n                      };\r\n                client.calendar.events.list(params).withApiKey(key).execute(function (err, response) {\r\n                    response.items.forEach(function (item,a,b) {sonia.say(chan, 'Next event starts '+item.summary+' '+moment(item.start.dateTime).fromNow());}"],[1,"if (moment(next.start.dateTime).fromNow() > 5) {\r\n                updateNextShow("],[0,");\r\n"]],"start1":7535,"start2":7535,"length1":925,"length2":89},{"diffs":[[0,"            "],[-1,"    })});"],[1,"}"],[0,"\r\n        } "]],"start1":7624,"start2":7624,"length1":33,"length2":25},{"diffs":[[0,"\n    }\r\n"],[-1,""],[0,"});\r\n\r\n"],[1,"function updateNextShow() {\r\ngoogleapis.discover('calendar', 'v3').execute(function(err, client) {\r\nvar moments = message.match(/ (.*)/i);\r\nif (moments) {\r\n    moments = moment(moments[1]);\r\n    moments = moments.isValid()?moments:moment();\r\n} else {\r\n    moments = moment();\r\n}\r\nvar params = {\r\n      calendarId: 'sonicradioboom2013@gmail.com',\r\n      maxResults: 1,\r\n      timeMin: moments,\r\n      singleEvents: true,\r\n      orderBy: \"startTime\",\r\n      };\r\nclient.calendar.events.list(params).withApiKey(key).execute(function (err, response) {\r\n    response.items.forEach(function (item,a,b) {sonia.say(chan, 'Next event starts '+item.summary+' '+moment(item.start.dateTime).fromNow());});\r\n})});\r\n}\r\n}\r\n\r\n"],[0,"setInter"]],"start1":8534,"start2":8534,"length1":23,"length2":732}]],"length":11277,"saved":false}
{"ts":1373831059055,"patch":[[{"diffs":[[0,"extShow();\r\n"],[1,"            } else {\r\n                sonia.say(chan, 'Next event starts '+next.summary+' '+moment(next.start.dateTime).fromNow());\r\n"],[0,"            "]],"start1":7612,"start2":7612,"length1":24,"length2":157},{"diffs":[[0,"extShow("],[1,"message"],[0,") {\r\n"],[-1,""],[0,"googleap"]],"start1":8698,"start2":8698,"length1":21,"length2":28},{"diffs":[[0," {\r\n"],[-1,"var moments = message.match(/ (.*)/i);\r\nif (moments) {\r\n    moments = moment(moments[1]);\r\n    moments = moments.isValid()?moments:moment();\r\n} else {\r\n    moments = moment();\r\n}\r\n"],[0,"var "]],"start1":8785,"start2":8785,"length1":188,"length2":8},{"diffs":[[0,": moment"],[-1,"s"],[1,"()"],[0,",\r\n     "]],"start1":8891,"start2":8891,"length1":17,"length2":18},{"diffs":[[0,"m,a,b) {"],[1,"next = item; "],[0,"sonia.sa"]],"start1":9098,"start2":9098,"length1":16,"length2":29},{"diffs":[[0,")});\r\n}\r"],[-1,"\n}\r"],[0,"\n\r\nsetIn"]],"start1":9218,"start2":9218,"length1":19,"length2":16}]],"length":11248,"saved":false}
{"ts":1373831155309,"patch":[[{"diffs":[[0,") > "],[-1,"5"],[1,"0"],[0,") {\r"]],"start1":7579,"start2":7579,"length1":9,"length2":9},{"diffs":[[0,"t event "],[-1,"starts "],[0,"'+next.s"]],"start1":7682,"start2":7682,"length1":23,"length2":16},{"diffs":[[0,"'+next.summary+'"],[1," starts"],[0," '+moment(next.s"]],"start1":7690,"start2":7690,"length1":32,"length2":39},{"diffs":[[0,"t event "],[-1,"starts "],[0,"'+item.s"]],"start1":9139,"start2":9139,"length1":23,"length2":16},{"diffs":[[0,"ummary+'"],[1," starts"],[0," '+momen"]],"start1":9155,"start2":9155,"length1":16,"length2":23}]],"length":11248,"saved":false}
{"ts":1373831618532,"patch":[[{"diffs":[[0,"em, next"],[1,", djNotified"],[0,";\r\nvar f"]],"start1":809,"start2":809,"length1":16,"length2":28},{"diffs":[[0,"ow()"],[-1," > 0"],[1,".match('ago')"],[0,") {\r"]],"start1":7588,"start2":7588,"length1":12,"length2":21},{"diffs":[[0,"age) {\r\n"],[1,"    "],[0,"googleap"]],"start1":8731,"start2":8731,"length1":16,"length2":20},{"diffs":[[0,"ent) {\r\n"],[1,"    "],[0,"var para"]],"start1":8806,"start2":8806,"length1":16,"length2":20},{"diffs":[[0,"\r\n      "],[1," "],[1,"   "],[0,"calendar"]],"start1":8832,"start2":8832,"length1":16,"length2":20},{"diffs":[[0,"om',\r\n      "],[1,"    "],[0,"maxResults: "]],"start1":8883,"start2":8883,"length1":24,"length2":28},{"diffs":[[0,"\r\n      "],[1,"  "],[1,"  "],[0,"timeMin:"]],"start1":8913,"start2":8913,"length1":16,"length2":20},{"diffs":[[0,"\r\n      "],[1,"   "],[1," "],[0,"singleEv"]],"start1":8943,"start2":8943,"length1":16,"length2":20},{"diffs":[[0,"\r\n      "],[1,"   "],[1," "],[0,"orderBy:"]],"start1":8974,"start2":8974,"length1":16,"length2":20},{"diffs":[[0,"\r\n      "],[-1,"};\r\n"],[1,"    };\r\n    "],[0,"client.c"]],"start1":9007,"start2":9007,"length1":20,"length2":28},{"diffs":[[0,"esponse) {\r\n"],[1,"    "],[0,"    response"]],"start1":9103,"start2":9103,"length1":24,"length2":28},{"diffs":[[0,"));});\r\n"],[1,"    "],[0,"})});\r\n}"]],"start1":9270,"start2":9270,"length1":16,"length2":20},{"diffs":[[0,"nction() {\r\n"],[1,"    if (moment(next.start.dateTime).fromNow() == \"in 5 minutes\" && !djNotified) {\r\n        updateNextShow();\r\n        djNotified = true;\r\n        setTimeout(function() {\r\n            djNotified = false;\r\n        }, 5*60*1000)\r\n    }\r\n"],[0,"    request("]],"start1":9308,"start2":9308,"length1":24,"length2":258}]],"length":11547,"saved":false}
{"ts":1373831634206,"patch":[[{"diffs":[[0,"            if ("],[1,"!next || "],[0,"moment(next.star"]],"start1":7539,"start2":7539,"length1":32,"length2":41}]],"length":11556,"saved":false}
{"ts":1373831797612,"patch":[[{"diffs":[[0," {\r\n    if ("],[1,"!next || "],[0,"moment(next."]],"start1":9325,"start2":9325,"length1":24,"length2":33}]],"length":11565,"saved":false}
{"ts":1373832811617,"patch":[[{"diffs":[[0,");\r\nvar "],[-1,"db"],[1,"Dirtle"],[0," = requi"]],"start1":198,"start2":198,"length1":18,"length2":22},{"diffs":[[0,"re('"],[-1,"node-persist');\r\n"],[1,"dirtle');\r\nvar db = new Dirtle('../data/db.json').db;"],[0,"\r\n\r\n"]],"start1":220,"start2":220,"length1":25,"length2":61},{"diffs":[[0,");\r\n"],[-1,"db.initSync({dir: '../data/'}); // PRODUCTION CODE\r\n// db.initSync(); // DEVEL CODE\r\nif (!db.getItem('ElectricErger'.substring(0,12))) {\r\n    db.setItem('ElectricErger'.substring(0,12),"],[1,"\r\nif (!db.names) db.names = [];\r\nif (Object.keys(db.names).indexOf('ElectricErger') <= 0) {\r\n    db.names.push({'ElectricErger':"],[0," now"],[1,"}"],[0,");\r\n"]],"start1":450,"start2":450,"length1":197,"length2":141},{"diffs":[[0,"if ("],[-1,"!db.getItem('linaea'.substring(0,12))) {\r\n    db.setItem('linaea'.substring(0,12),"],[1,"Object.keys(db.names).indexOf('linaea') <= 0) {\r\n    db.names.push({'linaea':"],[0," now"],[1,"}"],[0,");\r\n"]],"start1":594,"start2":594,"length1":94,"length2":90}]],"length":11545,"saved":false}
{"ts":1373832896500,"patch":[[{"diffs":[[0," = [];\r\n"],[1,"if (!db.calls) db.calls = [];\r\n"],[0,"if (Obje"]],"start1":479,"start2":479,"length1":16,"length2":47},{"diffs":[[0,"\n}\r\n"],[-1,"var calls = db.getItem('calls') || {'hello': 'Hi there'};\r\ndb.setItem('calls', calls);"],[0,"\r\nva"]],"start1":714,"start2":714,"length1":94,"length2":8},{"diffs":[[0,"        "],[1,"db."],[0,"calls[ma"]],"start1":5777,"start2":5777,"length1":16,"length2":19},{"diffs":[[0,"];\r\n"],[-1,"            db.setItem('calls', calls);\r\n"],[0,"    "]],"start1":5813,"start2":5813,"length1":49,"length2":8},{"diffs":[[0,"ct.keys("],[1,"db."],[0,"calls).f"]],"start1":7922,"start2":7922,"length1":16,"length2":19},{"diffs":[[0,"ssage = "],[1,"db."],[0,"calls[it"]],"start1":8120,"start2":8120,"length1":16,"length2":19}]],"length":11458,"saved":false}
{"ts":1373832953277,"patch":[[{"diffs":[[0,"ment(db."],[-1,"getItem("],[1,"names["],[0,"message."]],"start1":2600,"start2":2600,"length1":24,"length2":22},{"diffs":[[0,"*)/i)[1]"],[-1,".substring(0,12))"],[1,"]"],[0,").fromNo"]],"start1":2632,"start2":2632,"length1":33,"length2":17}]],"length":11440,"saved":false}
{"ts":1373833070736,"patch":[[{"diffs":[[0,"E+' is '+db."],[-1,"getItem("],[1,"songData["],[0,"current.SHOU"]],"start1":4176,"start2":4176,"length1":32,"length2":33},{"diffs":[[0,"SERVER.SONGTITLE"],[-1,")"],[1,"]"],[0,");\r\n            "]],"start1":4214,"start2":4214,"length1":33,"length2":33},{"diffs":[[0,"is '+db."],[-1,"getItem("],[1,"songData["],[0,"current."]],"start1":4837,"start2":4837,"length1":24,"length2":25},{"diffs":[[0,"ONGTITLE"],[-1,")"],[1,"]"],[0,");\r\n    "]],"start1":4879,"start2":4879,"length1":17,"length2":17},{"diffs":[[0,"ta = db."],[-1,"getItem("],[1,"songData["],[0,"(message"]],"start1":5918,"start2":5918,"length1":24,"length2":25},{"diffs":[[0,"ITLE)+\"\""],[-1,")"],[1,"]"],[0,";\r\n     "]],"start1":6016,"start2":6016,"length1":17,"length2":17},{"diffs":[[0," if (db."],[-1,"getItem("],[1,"songData["],[0,"result.S"]],"start1":9930,"start2":9930,"length1":24,"length2":25},{"diffs":[[0,"nt=song'"],[-1,")"],[1,"]"],[0,") {\r\n   "]],"start1":9985,"start2":9985,"length1":17,"length2":17},{"diffs":[[0,"han, db."],[-1,"getItem("],[1,"say["],[0,"result.S"]],"start1":10034,"start2":10034,"length1":24,"length2":20},{"diffs":[[0,"nt=song'"],[-1,")"],[1,"]"],[0,");\r\n    "]],"start1":10084,"start2":10084,"length1":17,"length2":17},{"diffs":[[0," db."],[-1,"getItem(nick.substring(0,12))"],[1,"name[nick]"],[0,";\r\n "]],"start1":10401,"start2":10401,"length1":37,"length2":18}]],"length":11421,"saved":false}
{"ts":1373833133542,"patch":[[{"diffs":[[0,"(db."],[-1,"getItem(nick.substring(0,12)"],[1,"say[nick"],[0,"+'|e"]],"start1":10545,"start2":10545,"length1":36,"length2":16},{"diffs":[[0,"t=login'"],[-1,")"],[1,"]"],[0,") {\r\n   "]],"start1":10564,"start2":10564,"length1":17,"length2":17},{"diffs":[[0," db."],[-1,"getItem(nick.substring(0,12)"],[1,"say[nick"],[0,"+'|e"]],"start1":10609,"start2":10609,"length1":36,"length2":16},{"diffs":[[0,"t=login'"],[-1,")"],[1,"]"],[0,");\r\n    "]],"start1":10628,"start2":10628,"length1":17,"length2":17}]],"length":11381,"saved":false}
{"ts":1373833229833,"patch":[[{"diffs":[[0,"            db.s"],[-1,"etItem("],[1,"ongData["],[0,"current.SHOUTCAS"]],"start1":3956,"start2":3956,"length1":39,"length2":40},{"diffs":[[0,"TITLE+\"\""],[-1,","],[1,"] ="],[0," (messag"]],"start1":4008,"start2":4008,"length1":17,"length2":19},{"diffs":[[0,"[1]:rem)"],[-1,")"],[0,";\r\n     "]],"start1":4068,"start2":4068,"length1":17,"length2":16},{"diffs":[[0,"    db.s"],[-1,"etItem("],[1,"ongData["],[0,"current."]],"start1":4676,"start2":4676,"length1":23,"length2":24},{"diffs":[[0,"E+\"\""],[-1,","],[1,"] ="],[0," rem"],[-1,")"],[0,";\r\n "]],"start1":4724,"start2":4724,"length1":14,"length2":15},{"diffs":[[0," db."],[-1,"setItem(nick.substring(0,12),"],[1,"name[nick] ="],[0," mom"]],"start1":10936,"start2":10936,"length1":37,"length2":20},{"diffs":[[0,"moment()"],[-1,")"],[0,";\r\n    }"]],"start1":10953,"start2":10953,"length1":17,"length2":16},{"diffs":[[0," db."],[-1,"setItem(nick.substring(0,12),"],[1,"name[nick] ="],[0," mom"]],"start1":11043,"start2":11043,"length1":37,"length2":20},{"diffs":[[0,"moment()"],[-1,")"],[0,";\r\n});\r\n"]],"start1":11060,"start2":11060,"length1":17,"length2":16}]],"length":11349,"saved":false}
{"ts":1373833342824,"patch":[[{"diffs":[[0,"alls = [];\r\n"],[1,"if (!db.say) db.say = [];\r\nif (!db.song) db.song = [];\r\n"],[0,"if (Object.k"]],"start1":506,"start2":506,"length1":24,"length2":80},{"diffs":[[0,"rger') <= 0) {\r\n"],[-1,""],[0,"    db.names.pus"]],"start1":618,"start2":618,"length1":32,"length2":32},{"diffs":[[0,"         db.song"],[-1,"Data"],[0,"[current.SHOUTCA"]],"start1":4015,"start2":4015,"length1":36,"length2":32},{"diffs":[[0,"E+' is '+db.song"],[-1,"Data"],[0,"[current.SHOUTCA"]],"start1":4230,"start2":4230,"length1":36,"length2":32},{"diffs":[[0,"     db.song"],[-1,"Data"],[0,"[current.SHO"]],"start1":4723,"start2":4723,"length1":28,"length2":24},{"diffs":[[0,"+db.song"],[-1,"Data"],[0,"[current"]],"start1":4889,"start2":4889,"length1":20,"length2":16},{"diffs":[[0," db.song"],[-1,"Data"],[0,"[(messag"]],"start1":5966,"start2":5966,"length1":20,"length2":16},{"diffs":[[0,"             }\r\n"],[1,""],[0,"                "]],"start1":9935,"start2":9935,"length1":32,"length2":32},{"diffs":[[0,"song"],[-1,"Data"],[0,"[res"]],"start1":9978,"start2":9978,"length1":12,"length2":8}]],"length":11381,"saved":false}
{"ts":1373833373129,"patch":[[{"diffs":[[0,"     db."],[-1,"calls"],[1,"say"],[0,"[match[1"]],"start1":5808,"start2":5808,"length1":21,"length2":19}]],"length":11379,"saved":false}
{"ts":1373833386452,"patch":[[{"diffs":[[0,"ge = db."],[-1,"calls"],[1,"say"],[0,"[item];\r"]],"start1":8146,"start2":8146,"length1":21,"length2":19}]],"length":11377,"saved":false}
{"ts":1373833405644,"patch":[[{"diffs":[[0,"];\r\n"],[-1,"if (!db.calls) db.calls = [];\r\n"],[0,"if ("]],"start1":483,"start2":483,"length1":39,"length2":8},{"diffs":[[0,"(db."],[-1,"calls"],[1,"say"],[0,").fo"]],"start1":7921,"start2":7921,"length1":13,"length2":11}]],"length":11344,"saved":false}
{"ts":1373833669499,"patch":[[{"diffs":[[0,"/,? Sonia[.!"],[1," "],[0,"?]*?$/i)) {\r"]],"start1":1736,"start2":1736,"length1":24,"length2":25},{"diffs":[[0,"Sonia[.!"],[1," "],[0,"?]*?)$/i"]],"start1":2117,"start2":2117,"length1":16,"length2":17}]],"length":11346,"saved":false}
{"ts":1373833904589,"patch":[[{"diffs":[[0,", [h"],[-1,"]ug, [p]oke, @add"],[1,"elp|command], @[no]tify, [h]ug, [p]oke, @[a]dd, @[s]ay, [w]hen"],[0,", [g"]],"start1":2836,"start2":2836,"length1":25,"length2":70},{"diffs":[[0,");\r\n"],[-1,"        } else if (message=='sync') {\r\n            db.persistSync();\r\n"],[0,"    "]],"start1":7803,"start2":7803,"length1":78,"length2":8}]],"length":11321,"saved":false}
{"ts":1373834305336,"patch":[[{"diffs":[[0,"egin, '');\r\n"],[1,"        message = message.replace('^What\\'s the ', '');\r\n"],[0,"        if ("]],"start1":2176,"start2":2176,"length1":24,"length2":81}]],"length":11378,"saved":false}
{"ts":1373834377529,"patch":[[{"diffs":[[0,"eplace('"],[-1,"^"],[0,"What\\'s "]],"start1":2215,"start2":2215,"length1":17,"length2":16}]],"length":11377,"saved":false}
{"ts":1373834678007,"patch":[[{"diffs":[[0,"[(.*?)\\]/i)) {\r\n"],[1,"            console.log(message);\r\n"],[0,"            var "]],"start1":5752,"start2":5752,"length1":32,"length2":67}]],"length":11412,"saved":false}
{"ts":1373835124097,"patch":[[{"diffs":[[0,"60*1000)"],[1,";"],[0,"\r\n    }\r"]],"start1":9504,"start2":9504,"length1":16,"length2":17}]],"length":11413,"saved":false}
{"ts":1373835195350,"patch":[[{"diffs":[[0," {\r\n"],[-1,"            console.log(message);\r\n"],[0,"    "]],"start1":5764,"start2":5764,"length1":43,"length2":8}]],"length":11378,"saved":false}
{"ts":1373835213350,"patch":[[{"diffs":[[0,"]? )"],[-1,"/i)||message.match(/"],[1,"|"],[0,",? S"]],"start1":1713,"start2":1713,"length1":28,"length2":9}]],"length":11359,"saved":false}
{"ts":1373835278831,"patch":[[{"diffs":[[0,"a[:,]? )"],[-1,"|"],[1,"/i)||message.match(/"],[0,",? Sonia"]],"start1":1709,"start2":1709,"length1":17,"length2":36},{"diffs":[[0,"Pokes '+from);\r\n"],[1,"        console.log(message);\r\n"],[0,"        var begi"]],"start1":1989,"start2":1989,"length1":32,"length2":63}]],"length":11409,"saved":false}
{"ts":1373835458803,"patch":[[{"diffs":[[0,");\r\n"],[-1,"        console.log(message);\r\n"],[0,"    "]],"start1":2001,"start2":2001,"length1":39,"length2":8},{"diffs":[[0,"'s the ', '');\r\n"],[1,"        console.log(message);\r\n"],[0,"        if (mess"]],"start1":2228,"start2":2228,"length1":32,"length2":63}]],"length":11409,"saved":false}
{"ts":1373835519818,"patch":[[{"diffs":[[0,");\r\n"],[-1,"        console.log(message);\r\n"],[0,"    "]],"start1":2240,"start2":2240,"length1":39,"length2":8},{"diffs":[[0,"(/^w(?:hen) "],[-1,"(?:I say )?"],[0,"\\[(.*?)\\],?("]],"start1":5697,"start2":5697,"length1":35,"length2":24}]],"length":11367,"saved":false}
{"ts":1373835630141,"patch":[[{"diffs":[[0,"?)\\]"],[-1,",?(?: you)?"],[0," s(?"]],"start1":5714,"start2":5714,"length1":19,"length2":8},{"diffs":[[0,".*?)\\] s(?:ay) ?"],[-1," "],[0,"\\[(.*?)\\]/i)) {\r"]],"start1":5712,"start2":5712,"length1":33,"length2":32},{"diffs":[[0,"en) "],[-1,"(?:I say )?\\[(.*?)\\],?(?: you)"],[1,"\\[(.*?)\\]"],[0," s(?"]],"start1":5790,"start2":5790,"length1":38,"length2":17},{"diffs":[[0,"(?:ay) ?"],[-1," "],[0,"\\[(.*?)\\"]],"start1":5805,"start2":5805,"length1":17,"length2":16}]],"length":11333,"saved":false}
{"contributors":[],"silentsave":false,"ts":1373914366854,"patch":[[{"diffs":[[0,");\r\nvar "],[-1,"Dirtle"],[1,"fs"],[0," = requi"]],"start1":198,"start2":198,"length1":22,"length2":18},{"diffs":[[0,"re('"],[-1,"dirtle"],[1,"fs"],[0,"');\r\n"],[1,"\r\n"],[0,"var "]],"start1":216,"start2":216,"length1":19,"length2":17},{"diffs":[[0,"b = "],[-1,"new Dirtle('../data/db.json').db;\r\n\r\n//Google API key\r\nvar key = 'AIzaSyDPlGenbEo8T-sbeNHx_shvJSRCwOpCESc';\r\n\r\nvar ip = 'http://198.211.99.242:8020/';\r\nvar chan = '#SonicRadioboom';\r\n"],[1,"JSON.parse(fs.readFileSync('../data/db.json'));"],[0,"\r\nva"]],"start1":234,"start2":234,"length1":191,"length2":55},{"diffs":[[0,"ent();\r\n"],[-1,"\r\n"],[0,"if (!db."]],"start1":304,"start2":304,"length1":18,"length2":16},{"diffs":[[0,"!db.name"],[-1,"s"],[0,") db.nam"]],"start1":316,"start2":316,"length1":17,"length2":16},{"diffs":[[0," db.name"],[-1,"s"],[0," = [];\r\n"]],"start1":325,"start2":325,"length1":17,"length2":16},{"diffs":[[0,"b.say = "],[-1,"[]"],[1,"{}"],[0,";\r\nif (!"]],"start1":355,"start2":355,"length1":18,"length2":18},{"diffs":[[0,".song = "],[-1,"[]"],[1,"{}"],[0,";\r\nif (O"]],"start1":384,"start2":384,"length1":18,"length2":18},{"diffs":[[0,"ect.keys(db.name"],[-1,"s"],[0,").indexOf('Elect"]],"start1":404,"start2":404,"length1":33,"length2":32},{"diffs":[[0,") {\r\n    db.name"],[-1,"s"],[0,".push({'Electric"]],"start1":451,"start2":451,"length1":33,"length2":32},{"diffs":[[0,"(db.name"],[-1,"s"],[0,").indexO"]],"start1":517,"start2":517,"length1":17,"length2":16},{"diffs":[[0," db.name"],[-1,"s"],[0,".push({'"]],"start1":557,"start2":557,"length1":17,"length2":16},{"diffs":[[0,"ow});\r\n}\r\n\r\n"],[1,"//Google API key\r\nvar key = 'AIzaSyDPlGenbEo8T-sbeNHx_shvJSRCwOpCESc';\r\n\r\nvar ip = 'http://198.211.99.242:8020/';\r\nvar chan = '#SRBTests';\r\n\r\n\r\n"],[0,"var current,"]],"start1":583,"start2":583,"length1":24,"length2":168},{"diffs":[[0,"Notified"],[1,", lastfrom"],[0,";\r\nvar f"]],"start1":765,"start2":765,"length1":16,"length2":26},{"diffs":[[0,"ction() "],[1,"{setTimeout(function()"],[0,"{sonia.s"]],"start1":1405,"start2":1405,"length1":16,"length2":38},{"diffs":[[0,"version)"],[1,";},5000);"],[0,"});\r\n\r\ns"]],"start1":1499,"start2":1499,"length1":16,"length2":25},{"diffs":[[0,"message) {\r\n"],[1,"    if (message.to == config.botName) {\r\n        sonia.say('linaea', 'PM from '+from+': '+message);\r\n    }\r\n"],[0,"    // conso"]],"start1":1572,"start2":1572,"length1":24,"length2":132},{"diffs":[[0,"[.! ?]*?$/i)"],[1,"||lastfrom==config.botName||to==config.botName"],[0,") {\r\n    // "]],"start1":1888,"start2":1888,"length1":24,"length2":70},{"diffs":[[0,"]*?)$/i)"],[-1,"[1]"],[1,"?message.match(/(,? Sonia[.! ?]*?)$/i)[1]:'';\r\n        // lastfrom=config.botName"],[0,";\r\n     "]],"start1":2316,"start2":2316,"length1":19,"length2":97},{"diffs":[[0,"ace("],[-1,"'"],[1,"/"],[0,"What"],[-1,"\\'"],[1,".?"],[0,"s the "],[-1,"'"],[1,"/i"],[0,", ''"]],"start1":2485,"start2":2485,"length1":22,"length2":23},{"diffs":[[0,"(db.name"],[-1,"s"],[1,""],[0,"[message"]],"start1":2955,"start2":2955,"length1":17,"length2":16},{"diffs":[[0,"           });\r\n"],[1,"        } else if (message.match(/^ac(?:tion| |) ?/i)) {\r\n            sonia.whois(from, function (info) {\r\n                if (info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) {\r\n                    sonia.action(chan, message);\r\n                } else {\r\n                    sonia.action(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n"],[0,"        } else i"]],"start1":3797,"start2":3797,"length1":32,"length2":508},{"diffs":[[0,", add it"],[-1,""],[1,"|es, it is"],[0,")/i)) {\r"]],"start1":5286,"start2":5286,"length1":16,"length2":26},{"diffs":[[0,"h(/^"],[-1,"w(?:hen) \\[(.*?)\\] s(?:ay) ?\\[(.*?)\\]/i)) {\r\n"],[1,"f(?:eel| |$)/i) && message.match(/ (.*)/i)) {\r\n            sonia.whois(from, function (info) {\r\n                if (info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) {\r\n                    feeling = message.match(/ (.*)/i)[1];\r\n                } else {\r\n                    sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n        } else if (message.match(/^d(?:ump| |$)/i)) {\r\n            sonia.whois(from, function (info) {\r\n                if (info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) {\r\n                    Object.keys(db.say).forEach(function(e, a, b) {sonia.say(from, '\\''+e+'\\': \\''+db.say[e]+'\\',');});\r\n                } else {\r\n                    sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n        } else if (message.match(/^r(?:estore| |$)/i)) {\r\n            sonia.whois(from, function (info) {\r\n                if (info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) {\r\n                    db.say = JSON.parse(message);\r\n                } else {\r\n                    sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n        } else if (message.match(/^w(?:hen).*\\[(.*?)\\].*\\[(.*?)\\]/i)) {\r\n           sonia.whois(from, function (info) {\r\n                if (info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) {\r\n    "],[0,"    "]],"start1":6449,"start2":6449,"length1":53,"length2":1790},{"diffs":[[0,"w(?:hen)"],[-1," "],[1,".*"],[0,"\\[(.*?)\\"]],"start1":8275,"start2":8275,"length1":17,"length2":18},{"diffs":[[0,"?)\\]"],[-1," s(?:ay) ?"],[1,".*"],[0,"\\[(."]],"start1":8290,"start2":8290,"length1":18,"length2":10},{"diffs":[[0,".*?)\\]/i);\r\n"],[1,"    "],[0,"            "]],"start1":8299,"start2":8299,"length1":24,"length2":28},{"diffs":[[0,"];\r\n            "],[1,"    "],[0,"sonia.say(chan, "]],"start1":8353,"start2":8353,"length1":32,"length2":36},{"diffs":[[0,"say("],[-1,"chan, 'Got it!'"],[1,"(to==chan?chan:from), 'Got it!');\r\n                }}"],[0,");\r\n"]],"start1":8379,"start2":8379,"length1":23,"length2":61},{"diffs":[[0,"    "],[-1,"process.exit("],[1,"fs.writeFileSync('../data/db.json', JSON.stringify(db));\r\n            process.exit();\r\n        } else if (message=='SAVE') {\r\n            fs.writeFile('../data/db.json', JSON.stringify(db), function (err) {\r\n              if (err) return console.log(err);\r\n              console.log(JSON.stringify(db));\r\n              console.log('saved.');\r\n            }"],[0,");\r\n"]],"start1":10326,"start2":10326,"length1":21,"length2":364},{"diffs":[[0,"    "],[-1,"sonia.say('linaea', item);\r\n                if (message.match(item"],[1,"if (message.match(new RegExp(item, \"i\")"],[0,")) {"]],"start1":10835,"start2":10835,"length1":74,"length2":47},{"diffs":[[0,"!matched"],[-1,""],[1," && !message.match(/\\?$/i)"],[0,") {\r\n   "]],"start1":11154,"start2":11154,"length1":16,"length2":42},{"diffs":[[0,"\n        }\r\n"],[1,"    } else {\r\n        lastfrom=from;\r\n"],[0,"    }\r\n});\r\n"]],"start1":11426,"start2":11426,"length1":24,"length2":62},{"diffs":[[0,"come to "],[-1,"#"],[0,"'+chan+'"]],"start1":13711,"start2":13711,"length1":17,"length2":16},{"diffs":[[0,"/~srb/.');\r\n"],[1,"            sonia.say(nick, 'If you haven\\'t registered your nick with ChanServ already, type \\\"/msg NickServ register <password> <email>\\\" to register your nick. This way, nopony will take your name.');\r\n"],[0,"        }\r\n "]],"start1":13798,"start2":13798,"length1":24,"length2":229}]],"length":14446,"saved":false}
{"ts":1373914370054,"patch":[[{"diffs":[[0,"e = "],[-1,"[]"],[1,"{}"],[0,";\r\ni"]],"start1":332,"start2":332,"length1":10,"length2":10}]],"length":14446,"saved":false}
{"ts":1373914392788,"patch":[[{"diffs":[[0,"e('fs');\r\n\r\n"],[1,"console.log(fs.readFileSync('../data/db.json'));\r\n"],[0,"var db = JSO"]],"start1":217,"start2":217,"length1":24,"length2":74}]],"length":14496,"saved":false}
{"ts":1373914460552,"patch":[[{"diffs":[[0," db.name"],[-1,".push({"],[1,"["],[0,"'Electri"]],"start1":509,"start2":509,"length1":23,"length2":17},{"diffs":[[0,"icErger'"],[-1,":"],[1,"] ="],[0," now"],[-1,"})"],[0,";\r\n}\r\nif"]],"start1":525,"start2":525,"length1":23,"length2":23},{"diffs":[[0,"name"],[-1,".push({"],[1,"["],[0,"'linaea'"],[-1,":"],[1,"] ="],[0," now"],[-1,"})"],[0,";\r\n}"]],"start1":605,"start2":605,"length1":30,"length2":24}]],"length":14484,"saved":false}
{"ts":1373914525533,"patch":[[{"diffs":[[0,"../data/db.json'"],[1,", \"utf8\""],[0,"));\r\nvar now = n"]],"start1":316,"start2":316,"length1":32,"length2":40}]],"length":14492,"saved":false}
{"ts":1373914537775,"patch":[[{"diffs":[[0,"db.json'"],[1,", \"utf8\""],[0,"));\r\nvar"]],"start1":266,"start2":266,"length1":16,"length2":24}]],"length":14500,"saved":false}
{"ts":1373916004150,"patch":[[{"diffs":[[0," {\r\n"],[-1,"        sonia.say(chan, 'Hello '+nick+\"!\");\r\n"],[0,"    "]],"start1":13283,"start2":13283,"length1":53,"length2":8},{"diffs":[[0," before,"],[1," '+nick+'"],[0," care to"]],"start1":13647,"start2":13647,"length1":16,"length2":25}]],"length":14464,"saved":false}
{"ts":1373916776814,"patch":[[{"diffs":[[0," '#S"],[-1,"RBTests"],[1,"onicRadioboom"],[0,"';\r\n"]],"start1":774,"start2":774,"length1":15,"length2":21}]],"length":14470,"saved":false}
{"ts":1373916977628,"patch":[[{"diffs":[[0,"notify ="],[1," false, disabled ="],[0," false;\r"]],"start1":1288,"start2":1288,"length1":16,"length2":34},{"diffs":[[0,"           });\r\n"],[1,"        } else if (message.match(/^d(?:isable| |$)/i)) {\r\n            sonia.whois(from, function (info) {\r\n                if (info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) {\r\n                    disabled=!disabled;\r\n                    sonia.say((to==chan?chan:from), 'Disabled: '+disabled);\r\n                } else {\r\n                    sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n"],[0,"        } else i"]],"start1":6986,"start2":6986,"length1":32,"length2":573},{"diffs":[[0,"!=config.botName"],[1,"&&!disabled"],[0,") {\r\n           "]],"start1":11902,"start2":11902,"length1":32,"length2":43}]],"length":15040,"saved":false}
{"ts":1373917230790,"patch":[[{"diffs":[[0,"\r\n\r\n"],[-1,"console.log(fs.readFileSync('../data/db.json', \"utf8\"));\r\n"],[0,"var "]],"start1":225,"start2":225,"length1":66,"length2":8},{"diffs":[[0,"sage"],[-1,"=='"],[1,".match(/"],[0,"SAVE"],[-1,"'"],[1,"/i)"],[0,") {\r"]],"start1":11000,"start2":11000,"length1":16,"length2":23},{"diffs":[[0,"    "],[-1,"console.log(JSON.stringify(db));\r\n              console.log('saved."],[1,"sonia.say(to==chan?chan:from), 'I feel smarter already!"],[0,"');\r"]],"start1":11165,"start2":11165,"length1":75,"length2":63},{"diffs":[[0,"ateNextShow();\r\n"],[1,"        fs.writeFile('../data/db.json', JSON.stringify(db), function (err) {\r\n              if (err) return console.log(err);\r\n            });\r\n"],[0,"        djNotifi"]],"start1":12777,"start2":12777,"length1":32,"length2":176}]],"length":15121,"saved":false}
{"ts":1373917235261,"patch":[[{"diffs":[[0,"nia.say("],[1,"("],[0,"to==chan"]],"start1":11171,"start2":11171,"length1":16,"length2":17}]],"length":15122,"saved":false}
{"ts":1373917303260,"patch":[[{"diffs":[[0,"atch(/\\?$/i)"],[1," && lastfrom!=config.botName"],[0,") {\r\n       "]],"start1":11733,"start2":11733,"length1":24,"length2":52}]],"length":15150,"saved":false}
{"ts":1373917344277,"patch":[[{"diffs":[[0,"';\r\n"],[-1,"        // lastfrom=config.botName;\r\n"],[0,"    "]],"start1":2387,"start2":2387,"length1":45,"length2":8},{"diffs":[[0,"\n        }\r\n"],[1,"        lastfrom=config.botName;\r\n"],[0,"    } else {"]],"start1":11985,"start2":11985,"length1":24,"length2":58}]],"length":15147,"saved":false}
{"ts":1373917570161,"patch":[[{"diffs":[[0,"m, \"i\"))"],[1,"&&db.say[item]"],[0,") {\r\n   "]],"start1":11391,"start2":11391,"length1":16,"length2":30}]],"length":15161,"saved":false}
{"ts":1373917575245,"patch":[[{"diffs":[[0,"m, \"i\"))"],[1," "],[0,"&&"],[1," "],[0,"db.say[i"]],"start1":11391,"start2":11391,"length1":18,"length2":20}]],"length":15163,"saved":false}
{"ts":1373917586539,"patch":[[{"diffs":[[0,"ay[item]"],[1," || db.action[item]"],[0,") {\r\n   "]],"start1":11407,"start2":11407,"length1":16,"length2":35}]],"length":15182,"saved":false}
{"ts":1373917742472,"patch":[[{"diffs":[[0,") db.say = {};\r\n"],[1,"if (!db.act) db.act = {};\r\n"],[0,"if (!db.song) db"]],"start1":360,"start2":360,"length1":32,"length2":59},{"diffs":[[0,"| db.act"],[-1,"ion"],[0,"[item]) "]],"start1":11444,"start2":11444,"length1":19,"length2":16}]],"length":15206,"saved":false}
{"ts":1373917874631,"patch":[[{"diffs":[[0,"\n            }\r\n"],[1,"            if (!disabled) {\r\n    "],[0,"            if ("]],"start1":11856,"start2":11856,"length1":32,"length2":66},{"diffs":[[0,"Name"],[-1,"&&!disabled"],[0,") {\r\n"],[1,"    "],[0,"    "]],"start1":11936,"start2":11936,"length1":24,"length2":17},{"diffs":[[0,");\r\n            "],[1,"    "],[0,"} else {\r\n      "]],"start1":11988,"start2":11988,"length1":32,"length2":36},{"diffs":[[0,"      } else {\r\n"],[1,"    "],[0,"                "]],"start1":12002,"start2":12002,"length1":32,"length2":36},{"diffs":[[0,"rom, message);\r\n"],[1,"                }\r\n"],[0,"            }\r\n "]],"start1":12049,"start2":12049,"length1":32,"length2":51}]],"length":15260,"saved":false}
{"ts":1373918221417,"patch":[[{"diffs":[[0,"$/i)"],[-1," && lastfrom!=config.botName"],[0,") {\r"]],"start1":11763,"start2":11763,"length1":36,"length2":8},{"diffs":[[0,"disabled"],[1," && !(message.match('to you too') && lastfrom==config.botName)"],[0,") {\r\n   "]],"start1":11861,"start2":11861,"length1":16,"length2":78}]],"length":15294,"saved":false}
{"ts":1373918478439,"patch":[[{"diffs":[[0,"           });\r\n"],[1,"            var defaulted = false;\r\n"],[0,"            if ("]],"start1":11701,"start2":11701,"length1":32,"length2":68},{"diffs":[[0,"o, '+from;\r\n"],[1,"                defaulted = true;\r\n"],[0,"            "]],"start1":11853,"start2":11853,"length1":24,"length2":59},{"diffs":[[0,"& !("],[-1,"message.match('to you too')"],[1,"defaulted"],[0," && "]],"start1":11942,"start2":11942,"length1":35,"length2":17}]],"length":15347,"saved":false}
{"ts":1373918817846,"patch":[[{"diffs":[[0,"    "],[-1,"if (to!=config.botName) {\r\n                    sonia.say(chan, message);\r\n                } else {\r\n                    sonia.say("],[1,"sonia.say((to==chan?chan:"],[0,"from"],[1,")"],[0,", me"]],"start1":12001,"start2":12001,"length1":142,"length2":38},{"diffs":[[0,"sage);\r\n"],[-1,"                }\r\n"],[0,"        "]],"start1":12040,"start2":12040,"length1":35,"length2":16}]],"length":15224,"saved":false}
{"ts":1373918966519,"patch":[[{"diffs":[[0,"        "],[1," if (lastfrom==config.botName)"],[0," default"]],"start1":11872,"start2":11872,"length1":16,"length2":46},{"diffs":[[0,"led && !"],[-1,"("],[0,"defaulte"]],"start1":11967,"start2":11967,"length1":17,"length2":16},{"diffs":[[0,"lted"],[-1," && lastfrom==config.botName)"],[0,") {\r"]],"start1":11980,"start2":11980,"length1":37,"length2":8}]],"length":15224,"saved":false}
{"ts":1373919438826,"patch":[[{"diffs":[[0,"\"i\")) &&"],[1," !item.match('|event=') &&"],[0," db.say["]],"start1":11421,"start2":11421,"length1":16,"length2":42}]],"length":15250,"saved":false}
{"ts":1373919468426,"patch":[[{"diffs":[[0,":hen).*\\"],[-1,"["],[1,"{"],[0,"(.*?)\\"],[-1,"].*\\["],[1,"}.*\\{"],[0,"(.*?)\\"],[-1,"]"],[1,"}"],[0,"/i)) {\r\n"]],"start1":8528,"start2":8528,"length1":35,"length2":35},{"diffs":[[0,").*\\"],[-1,"["],[1,"{"],[0,"(.*?)\\"],[-1,"].*\\["],[1,"}.*\\{"],[0,"(.*?)\\"],[-1,"]"],[1,"}"],[0,"/i);"]],"start1":8833,"start2":8833,"length1":27,"length2":27}]],"length":15250,"saved":false}
{"ts":1373919909028,"patch":[[{"diffs":[[0,".botName"],[1," && !begin"],[0,") defaul"]],"start1":11927,"start2":11927,"length1":16,"length2":26}]],"length":15260,"saved":false}
{"ts":1373920360837,"patch":[[{"diffs":[[0,"tched = false;\r\n"],[1,"            var defaulted = true;\r\n"],[0,"            Obje"]],"start1":11289,"start2":11289,"length1":32,"length2":67},{"diffs":[[0,"m, a, b) {\r\n"],[-1,""],[0,"            "]],"start1":11393,"start2":11393,"length1":24,"length2":24},{"diffs":[[0,"atched = true;\r\n"],[1,"                    defaulted = false;\r\n"],[0,"                "]],"start1":11545,"start2":11545,"length1":32,"length2":72},{"diffs":[[0,");\r\n"],[-1,"            var defaulted = false;\r\n"],[0,"    "]],"start1":11814,"start2":11814,"length1":44,"length2":8},{"diffs":[[0,"o, '+from;\r\n"],[1,""],[0,"            "]],"start1":11918,"start2":11918,"length1":24,"length2":24},{"diffs":[[0,"    "],[-1," if (lastfrom==config.botName && !begin)"],[0," def"]],"start1":11941,"start2":11941,"length1":48,"length2":8}]],"length":15259,"saved":false}
{"ts":1373920605669,"patch":[[{"diffs":[[0,"led && !"],[1,"("],[0,"defaulte"]],"start1":12002,"start2":12002,"length1":16,"length2":17},{"diffs":[[0,"efaulted"],[1,"&&!matched)"],[0,") {\r\n   "]],"start1":12012,"start2":12012,"length1":16,"length2":27}]],"length":15271,"saved":false}
{"ts":1373920709308,"patch":[[{"diffs":[[0," && "],[-1,"!("],[0,"defa"]],"start1":12005,"start2":12005,"length1":10,"length2":8},{"diffs":[[0,"lted"],[-1,"&&!"],[1," != "],[0,"matched)"],[-1,")"],[0," {\r\n"]],"start1":12014,"start2":12014,"length1":20,"length2":20}]],"length":15269,"saved":false}
{"ts":1373921016663,"patch":[[{"diffs":[[0,"m;\r\n"],[-1,"                defaulted = true;\r\n"],[0,"    "]],"start1":11926,"start2":11926,"length1":43,"length2":8},{"diffs":[[0,"\n            }\r\n"],[1,""],[0,"            if ("]],"start1":11929,"start2":11929,"length1":32,"length2":32},{"diffs":[[0,"        "],[-1,"  "],[0,"calendar"]],"start1":12301,"start2":12301,"length1":18,"length2":16},{"diffs":[[0,".com',\r\n        "],[-1,"  "],[0,"maxResults: 1,\r\n"]],"start1":12346,"start2":12346,"length1":34,"length2":32},{"diffs":[[0,"        "],[-1," "],[-1," "],[0,"timeMin:"]],"start1":12378,"start2":12378,"length1":18,"length2":16},{"diffs":[[0," moment(),\r\n"],[-1,"  "],[0,"        sing"]],"start1":12394,"start2":12394,"length1":26,"length2":24},{"diffs":[[0,"        "],[-1," "],[-1," "],[0,"orderBy:"]],"start1":12435,"start2":12435,"length1":18,"length2":16},{"diffs":[[0,"\",\r\n        "],[-1,"  }"],[1,"};\r\n    djNotified = true"],[0,";\r\n    clien"]],"start1":12462,"start2":12462,"length1":27,"length2":49},{"diffs":[[0,"sole.log(err);\r\n"],[1,""],[0,"            });\r"]],"start1":13029,"start2":13029,"length1":32,"length2":32},{"diffs":[[0,");\r\n"],[-1,"        djNotified = true;\r\n"],[0,"    "]],"start1":13058,"start2":13058,"length1":36,"length2":8}]],"length":15218,"saved":false}
{"ts":1373921338994,"patch":[[{"diffs":[[0,"e;\r\n"],[-1,"            var defaulted = true;\r\n"],[0,"    "]],"start1":11301,"start2":11301,"length1":43,"length2":8},{"diffs":[[0,"e;\r\n"],[-1,"                    defaulted = false;\r\n"],[0,"    "]],"start1":11522,"start2":11522,"length1":48,"length2":8},{"diffs":[[0," && "],[-1,"defaulted != "],[1,"(lastfrom!=config.botName&&!"],[0,"matched)"],[1,")"],[0," {\r\n"]],"start1":11895,"start2":11895,"length1":29,"length2":45}]],"length":15159,"saved":false}
{"ts":1373921376409,"patch":[[{"diffs":[[0,"matched)"],[1,"||matched"],[0,") {\r\n   "]],"start1":11927,"start2":11927,"length1":16,"length2":25}]],"length":15168,"saved":false}
{"ts":1373921438128,"patch":[[{"diffs":[[0,"\n            }\r\n"],[1,"            sonia.say('linaea', matched+' '+message);\r\n"],[0,"            if ("]],"start1":11854,"start2":11854,"length1":32,"length2":87}]],"length":15223,"saved":false}
{"ts":1373921479187,"patch":[[{"diffs":[[0,"t=') && "],[1,"("],[0,"db.say[i"]],"start1":11448,"start2":11448,"length1":16,"length2":17},{"diffs":[[0,"t[item])"],[1,")"],[0," {\r\n    "]],"start1":11478,"start2":11478,"length1":16,"length2":17}]],"length":15225,"saved":false}
{"ts":1373921578247,"patch":[[{"diffs":[[0,") &&"],[-1," !item.match('|event=') &&"],[0," (db"]],"start1":11425,"start2":11425,"length1":34,"length2":8}]],"length":15199,"saved":false}
{"ts":1373921635382,"patch":[[{"diffs":[[0,"tched = true"],[1," if (!item.match('event'))"],[0,";\r\n         "]],"start1":11487,"start2":11487,"length1":24,"length2":50}]],"length":15225,"saved":false}
{"ts":1373921662126,"patch":[[{"diffs":[[0,"    "],[-1,"matched = true "],[0,"if ("]],"start1":11481,"start2":11481,"length1":23,"length2":8},{"diffs":[[0,"event'))"],[1," matched = true"],[0,";\r\n     "]],"start1":11502,"start2":11502,"length1":16,"length2":31}]],"length":15225,"saved":false}
{"ts":1373921709958,"patch":[[{"diffs":[[0,"  }\r\n           "],[1," if (verbose)"],[0," sonia.say('lina"]],"start1":11867,"start2":11867,"length1":32,"length2":45}]],"length":15238,"saved":false}
{"ts":1373921726031,"patch":[[{"diffs":[[0,", disabled ="],[1," false, verbose ="],[0," false;\r\n\r\n/"]],"start1":1271,"start2":1271,"length1":24,"length2":41}]],"length":15255,"saved":false}
{"ts":1373921901988,"patch":[[{"diffs":[[0,"\n}, 1000);\r\n"],[1,"sonia.addListener('nick', function (oldnick, newnick, channels, message) {db.name[newnick]=db.name[oldnick]});"],[0,"\r\nsonia.addL"]],"start1":13952,"start2":13952,"length1":24,"length2":134}]],"length":15365,"saved":false}
{"ts":1373921988111,"patch":[[{"diffs":[[0,"ssage) {"],[1,"if (!db.name[newnick]) {\r\n    "],[0,"db.name["]],"start1":14030,"start2":14030,"length1":16,"length2":46},{"diffs":[[0,"oldnick]"],[1,";\r\n    } else {\r\n        sonia.say(chan, db.say[nick+'|event=login']);\r\n    "],[0,"});\r\nson"]],"start1":14093,"start2":14093,"length1":16,"length2":92}]],"length":15471,"saved":false}
{"ts":1373921990527,"patch":[[{"diffs":[[0,"ewnick]) {\r\n"],[1,"    "],[0,"    db.name["]],"start1":14052,"start2":14052,"length1":24,"length2":28}]],"length":15475,"saved":false}
{"ts":1373921992970,"patch":[[{"diffs":[[0,"ssage) {"],[1,"\r\n    "],[0,"if (!db."]],"start1":14030,"start2":14030,"length1":16,"length2":22}]],"length":15481,"saved":false}
{"ts":1373922002231,"patch":[[{"diffs":[[0,"in']);\r\n    "],[1,"}"],[0,"});\r\nsonia.a"]],"start1":14175,"start2":14175,"length1":24,"length2":25}]],"length":15482,"saved":false}
{"ts":1373922006582,"patch":[[{"diffs":[[0,"ay(chan, db.say["],[1,"new"],[0,"nick+'|event=log"]],"start1":14143,"start2":14143,"length1":32,"length2":35}]],"length":15485,"saved":false}
{"contributors":[],"silentsave":false,"ts":1374198195177,"patch":[[{"diffs":[[0,");\r\n"],[-1,"var parseString = require('xml2js').parseString;\r\n"],[0,"var "]],"start1":107,"start2":107,"length1":58,"length2":8},{"diffs":[[0,"('fs');\r"],[1,"\nRegExp.quote = require('regexp-quote');\r"],[0,"\n\r\nvar d"]],"start1":168,"start2":168,"length1":16,"length2":57},{"diffs":[[0," db.name = {};\r\n"],[1,"if (!db.ban)  db.ban  = {};\r\nif (!db.away) db.away = {};\r\n"],[0,"if (!db.say) db."]],"start1":324,"start2":324,"length1":32,"length2":90},{"diffs":[[0,"!db.say)"],[1," "],[0," db.say "],[1," "],[0,"= {};\r\ni"]],"start1":402,"start2":402,"length1":24,"length2":26},{"diffs":[[0,"act)"],[1," "],[0," db.act "],[1," "],[0,"= {}"]],"start1":435,"start2":435,"length1":16,"length2":18},{"diffs":[[0,"c';\r"],[-1,"\n\r\nvar ip = 'http://198.211.99.242:8020/';\r"],[0,"\nvar"]],"start1":738,"start2":738,"length1":51,"length2":8},{"diffs":[[0,"om';\r\n\r\n"],[-1,"\r\n"],[0,"var curr"]],"start1":768,"start2":768,"length1":18,"length2":16},{"diffs":[[0,"tified, "],[-1,"lastfrom"],[1,"grom = ['Sonia', 'Sonia'], upnext = []"],[0,";\r\nvar f"]],"start1":804,"start2":804,"length1":24,"length2":54},{"diffs":[[0,"';\r\nrequest("],[-1,"ip+'stats?sid=1"],[1,"'http://radio.ponyvillelive.com:2199/api.php?xm=server.getstatus&f=json&a[username]=Linana&a[password]=yoloswag"],[0,"', function "]],"start1":880,"start2":880,"length1":39,"length2":135},{"diffs":[[0,"e, body) {\r\n"],[1,"    "],[0,"    if (!err"]],"start1":1030,"start2":1030,"length1":24,"length2":28},{"diffs":[[0,"    "],[-1,"parseString(body, function (err, result) {"],[1,"    body = JSON.parse(body);"],[0,"\r\n  "]],"start1":1099,"start2":1099,"length1":50,"length2":36},{"diffs":[[0,"      current = "],[-1,"result"],[1,"body"],[0,";\r\n        });\r\n"]],"start1":1139,"start2":1139,"length1":38,"length2":36},{"diffs":[[0,"    "],[-1,"});\r\n    }\r\n"],[1,"if (verbose) console.log('linaea', body);}"],[0,"});\r"]],"start1":1166,"start2":1166,"length1":20,"length2":50},{"diffs":[[0,"s: [chan"],[-1,""],[1,", '#SRBTests'"],[0,"],\r\n    "]],"start1":1275,"start2":1275,"length1":16,"length2":29},{"diffs":[[0," = false"],[-1,""],[1,", introduce = false"],[0,";\r\n\r\n// "]],"start1":1463,"start2":1463,"length1":16,"length2":35},{"diffs":[[0,"    "],[-1,"if (message.to == config.botName"],[1,"    var proc = false;\r\n    if (to!=config.botName) {\r\n        Object.keys(db.away).forEach(function (item, a, b) {\r\n            db.away[item].push('<'+from+'>: '+message);\r\n        });\r\n    }\r\n    if (to == config.botName && from != 'linaea'"],[0,") {\r"]],"start1":1832,"start2":1832,"length1":40,"length2":249},{"diffs":[[0," }\r\n"],[-1,"    // console.log(from + ' => ' + to + ': ' + message);\r\n"],[0,"    "]],"start1":2145,"start2":2145,"length1":66,"length2":8},{"diffs":[[0,"\");\r\n    if "],[1,"("],[0,"(message.mat"]],"start1":2213,"start2":2213,"length1":24,"length2":25},{"diffs":[[0,"h(/^"],[-1,"(?:"],[0,"!|"],[1,"^"],[0,"Sonia"],[1,"?"],[0,"[:,]?"],[-1," )"],[0,"/i)|"]],"start1":2239,"start2":2239,"length1":25,"length2":22},{"diffs":[[0,".match(/,? Sonia"],[1,"?"],[0,"[.! ?]*?$/i)||la"]],"start1":2269,"start2":2269,"length1":32,"length2":33},{"diffs":[[0,"$/i)"],[-1,"||lastfrom"],[1,"\r\n    || grom[0]"],[0,"==co"]],"start1":2294,"start2":2294,"length1":18,"length2":24},{"diffs":[[0,".botName"],[1," "],[0,"||"],[1," "],[0,"to==conf"]],"start1":2322,"start2":2322,"length1":18,"length2":20},{"diffs":[[0,"me) "],[-1,"{\r\n    // request('http://198.211.99.242:2199/api.php?xm=server.getstatus&f=json&a[username]=json&a[password]=secret', function (error, response, body) {http://198.211.99.242:8020/currentsong?sid=1"],[1,"&& from!=config.botName) {\r\n        if (verbose) console.log('linaea', from + ' => ' + to + ': ' + message);"],[0,"\r\n  "]],"start1":2350,"start2":2350,"length1":205,"length2":116},{"diffs":[[0,"e.match(/^(Sonia"],[1,"?"],[0,"[:,]? |!)/i)?mes"]],"start1":2537,"start2":2537,"length1":32,"length2":33},{"diffs":[[0,"[:,]? |!)/i)"],[1,"\r\n        "],[0,"?message.mat"]],"start1":2554,"start2":2554,"length1":24,"length2":34},{"diffs":[[0,"/^(Sonia"],[1,"?"],[0,"[:,]? |!"]],"start1":2591,"start2":2591,"length1":16,"length2":17},{"diffs":[[0,"!)/i)[1]"],[1,"\r\n        "],[0,":message"]],"start1":2607,"start2":2607,"length1":16,"length2":26},{"diffs":[[0,"match(/(,? Sonia"],[1,"?"],[0,"[.! ?]*?)$/i)?me"]],"start1":2634,"start2":2634,"length1":32,"length2":33},{"diffs":[[0,"]*?)$/i)"],[1,"\r\n        "],[0,"?message"]],"start1":2656,"start2":2656,"length1":16,"length2":26},{"diffs":[[0,",? Sonia"],[1,"?"],[0,"[.! ?]*?"]],"start1":2691,"start2":2691,"length1":16,"length2":17},{"diffs":[[0,")$/i)[1]"],[1,"\r\n        "],[0,":'';\r\n  "]],"start1":2708,"start2":2708,"length1":16,"length2":26},{"diffs":[[0,"ent."],[-1,"SHOUTCASTSERVER.SONGTITLE)"],[1,"response.data.status.currentsong);\r\n            proc=true;message=''"],[0,";\r\n "]],"start1":2933,"start2":2933,"length1":34,"length2":76},{"diffs":[[0,"ent."],[-1,"SHOUTCASTSERVER.CURRENTLISTENERS)"],[1,"response.data.status.listenercount);\r\n            proc=true;message=''"],[0,";\r\n "]],"start1":3114,"start2":3114,"length1":41,"length2":78},{"diffs":[[0,"]).fromNow());\r\n"],[1,"            proc=true;message='';\r\n"],[0,"        } else i"]],"start1":3393,"start2":3393,"length1":32,"length2":67},{"diffs":[[0,"atch(/^help|"],[1,"^"],[0,"command/i) |"]],"start1":3472,"start2":3472,"length1":24,"length2":25},{"diffs":[[0,"no]tify');\r\n"],[1,"            proc=true;message='';\r\n"],[0,"        } el"]],"start1":3687,"start2":3687,"length1":24,"length2":59},{"diffs":[[0,"            if ("],[1,"(info.channels && "],[0,"info.channels.in"]],"start1":3844,"start2":3844,"length1":32,"length2":50},{"diffs":[[0,"adioboom') >= 0)"],[1," || from == 'linaea')"],[0," {\r\n            "]],"start1":4009,"start2":4009,"length1":32,"length2":53},{"diffs":[[0,"o==c"],[-1,"han?chan:"],[1,"onfig.botName?from:to), 'Notifications '+(notify?'on':'off'));\r\n                } else {\r\n                    sonia.say("],[0,"from"],[-1,")"],[0,", '"],[-1,"Notifications '+(notify"],[1,"You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n            proc=true;message='';\r\n        } else if (message.match(/^i(?:ntroduce|$)/i)) {\r\n            sonia.whois(from, function (info) {\r\n                if ((info.channels && info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) || from == 'linaea') {\r\n                    introduce = !introduce;\r\n                    sonia.say((to==config.botName?from:to), 'Introductions '+(introduce"],[0,"?'on"]],"start1":4121,"start2":4121,"length1":48,"length2":701},{"diffs":[[0,"           });\r\n"],[1,"            proc=true;message='';\r\n"],[0,"        } else i"]],"start1":4963,"start2":4963,"length1":32,"length2":67},{"diffs":[[0," |) ?/i)"],[-1,") {"],[1," && message.match(/ (.*)$/i)) {\r\n            var action = message;"],[0,"\r\n      "]],"start1":5059,"start2":5059,"length1":19,"length2":82},{"diffs":[[0,"            if ("],[1,"(info.channels && "],[0,"info.channels.in"]],"start1":5188,"start2":5188,"length1":32,"length2":50},{"diffs":[[0,"adioboom') >= 0)"],[1," || from == 'linaea')"],[0," {\r\n            "]],"start1":5353,"start2":5353,"length1":32,"length2":53},{"diffs":[[0,"n(chan, "],[-1,"message"],[1,"action.match(/ (.*)/i)[1]"],[0,");\r\n    "]],"start1":5425,"start2":5425,"length1":23,"length2":41},{"diffs":[[0,"           });\r\n"],[1,"            proc=true;message='';\r\n"],[0,"        } else i"]],"start1":5594,"start2":5594,"length1":32,"length2":67},{"diffs":[[0,"n, ' hugs '+"],[-1,"from)"],[1,"(message.match(/ (.*)/i)?message.match(/ (.*)/i)[1]:from));\r\n            proc=true;message=''"],[0,";\r\n        }"]],"start1":5727,"start2":5727,"length1":29,"length2":117},{"diffs":[[0,"/ (.*)/i)[1]);\r\n"],[1,"            proc=true;message='';\r\n"],[0,"        } else i"]],"start1":5973,"start2":5973,"length1":32,"length2":67},{"diffs":[[0,":dd| |$)/i)) {\r\n"],[1,"            var add = message;\r\n"],[0,"            soni"]],"start1":6062,"start2":6062,"length1":32,"length2":64},{"diffs":[[0,"            if ("],[1,"(info.channels && "],[0,"info.channels.in"]],"start1":6163,"start2":6163,"length1":32,"length2":50},{"diffs":[[0,"adioboom') >= 0)"],[1," || from == 'linaea')"],[0," {\r\n            "]],"start1":6328,"start2":6328,"length1":32,"length2":53},{"diffs":[[0,"ent."],[-1,"SHOUTCASTSERVER.SONGTITLE"],[1,"response.data.status.currentsong"],[0,"+\"\"] = ("],[-1,"message"],[1,"add"],[0,".mat"]],"start1":6401,"start2":6401,"length1":48,"length2":51},{"diffs":[[0,"match(/ (.*)/i)?"],[-1,"message"],[1,"add"],[0,".match(/ (.*)/i)"]],"start1":6449,"start2":6449,"length1":39,"length2":35},{"diffs":[[0,"a.say((to==c"],[-1,"han?chan:"],[1,"onfig.botName?"],[0,"from"],[1,":to"],[0,"), 'I know t"]],"start1":6519,"start2":6519,"length1":37,"length2":45},{"diffs":[[0,"ent."],[-1,"SHOUTCASTSERVER.SONGTITLE+' is '+db.song[current.SHOUTCASTSERVER.SONGTITLE"],[1,"response.data.status.currentsong+' is '+db.song[current.response.data.status.currentsong"],[0,"]);\r"]],"start1":6574,"start2":6574,"length1":82,"length2":96},{"diffs":[[0,"           });\r\n"],[1,"            proc=true;message='';\r\n"],[0,"        } else i"]],"start1":6800,"start2":6800,"length1":32,"length2":67},{"diffs":[[0,"            if ("],[1,"(info.channels && "],[0,"info.channels.in"]],"start1":6972,"start2":6972,"length1":32,"length2":50},{"diffs":[[0,"adioboom') >= 0)"],[1," || from == 'linaea')"],[0," {\r\n            "]],"start1":7137,"start2":7137,"length1":32,"length2":53},{"diffs":[[0,"a.say((to==c"],[-1,"han?chan:"],[1,"onfig.botName?"],[0,"from"],[1,":to"],[0,"), 'I know t"]],"start1":7276,"start2":7276,"length1":37,"length2":45},{"diffs":[[0,"           });\r\n"],[1,"            proc=true;message='';\r\n"],[0,"        } else i"]],"start1":7543,"start2":7543,"length1":32,"length2":67},{"diffs":[[0,"(/^s"],[1,"a"],[0,"(?:"],[-1,"a"],[0,"y| |"]],"start1":7626,"start2":7626,"length1":12,"length2":12},{"diffs":[[0,"h(/ (.*)/i)) {\r\n"],[1,"            var say = message;\r\n"],[0,"            soni"]],"start1":7659,"start2":7659,"length1":32,"length2":64},{"diffs":[[0,"            if ("],[1,"(info.channels && "],[0,"info.channels.in"]],"start1":7760,"start2":7760,"length1":32,"length2":50},{"diffs":[[0,"adioboom') >= 0)"],[1," || from == 'linaea')"],[0," {\r\n            "]],"start1":7925,"start2":7925,"length1":32,"length2":53},{"diffs":[[0,"y(chan, "],[-1,"message"],[1,"say"],[0,".match(/"],[1,"^say?"],[0," (.*)"],[1,"$"],[0,"/i)[1]);"]],"start1":7994,"start2":7994,"length1":36,"length2":38},{"diffs":[[0,"           });\r\n"],[1,"            proc=true;message='';\r\n"],[0,"        } else i"]],"start1":8163,"start2":8163,"length1":32,"length2":67},{"diffs":[[0,"h(/ (.*)/i)) {\r\n"],[1,"            var feel = message;\r\n"],[0,"            soni"]],"start1":8280,"start2":8280,"length1":32,"length2":65},{"diffs":[[0,"            if ("],[1,"(info.channels && "],[0,"info.channels.in"]],"start1":8382,"start2":8382,"length1":32,"length2":50},{"diffs":[[0,"adioboom') >= 0)"],[1," || from == 'linaea')"],[0," {\r\n            "]],"start1":8547,"start2":8547,"length1":32,"length2":53},{"diffs":[[0,"g = "],[-1,"message.match(/ (.*)/i)[1];\r\n                } else {\r\n                    sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n        } else if (message.match(/^d(?:i"],[1,"feel.match(/ (.*)/i)[1];\r\n                } else {\r\n                    sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n            proc=true;message='';\r\n        } else if (message.match(/^b(?:an| |$)/i) && message.match(/ (.*)/i)) {\r\n            var ban = message;\r\n            sonia.whois(from, function (info) {\r\n                if ((info.channels && info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) || from == 'linaea') {\r\n                    db.ban[ban.match(/ (.*)/i)[1]] = true;\r\n                    sonia.say((to==config.botName?from:to), 'banned: '+ban.match(/ (.*)/i)[1]);\r\n                } else {\r\n                    sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n            proc=true;message='';\r\n        } else if (message.match(/^v(?:erbose)$/i)) {\r\n            sonia.whois(from, function (info) {\r\n                if ((info.channels && info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) || from == 'linaea') {\r\n                    verbose=!verbose;\r\n                    sonia.say((to==config.botName?from:to), 'verbose: '+verbose);\r\n                } else {\r\n                    sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n            proc=true;message='';\r\n        } else if (message.match(/^di(?:"],[0,"sabl"]],"start1":8614,"start2":8614,"length1":222,"length2":1579},{"diffs":[[0,"            if ("],[1,"(info.channels && "],[0,"info.channels.in"]],"start1":10260,"start2":10260,"length1":32,"length2":50},{"diffs":[[0,"adioboom') >= 0)"],[1," || from == 'linaea')"],[0," {\r\n            "]],"start1":10425,"start2":10425,"length1":32,"length2":53},{"diffs":[[0,"a.say((to==c"],[-1,"han?chan:"],[1,"onfig.botName?"],[0,"from"],[1,":to"],[0,"), 'Disabled"]],"start1":10531,"start2":10531,"length1":37,"length2":45},{"diffs":[[0,"           });\r\n"],[1,"            proc=true;message='';\r\n"],[0,"        } else i"]],"start1":10721,"start2":10721,"length1":32,"length2":67},{"diffs":[[0,"            if ("],[1,"(info.channels && "],[0,"info.channels.in"]],"start1":10880,"start2":10880,"length1":32,"length2":50},{"diffs":[[0," 0) "],[-1,"{\r\n                    Object.keys(db.say).forEach(function(e, a, b) {sonia.say(from, '\\''+e+'\\': \\''+db.say[e]+'\\',');}"],[1,"|| from == 'linaea') {\r\n                    sonia.say(from, JSON.stringify(db)"],[0,");\r\n"]],"start1":11058,"start2":11058,"length1":128,"length2":86},{"diffs":[[0,"           });\r\n"],[1,"            proc=true;message='';\r\n"],[0,"        } else i"]],"start1":11273,"start2":11273,"length1":32,"length2":67},{"diffs":[[0,"ore| |$)/i)) {\r\n"],[1,"            var restore = message;\r\n"],[0,"            soni"]],"start1":11366,"start2":11366,"length1":32,"length2":68},{"diffs":[[0,"            if ("],[1,"(info.channels && "],[0,"info.channels.in"]],"start1":11471,"start2":11471,"length1":32,"length2":50},{"diffs":[[0,"adioboom') >= 0)"],[1," || from == 'linaea')"],[0," {\r\n            "]],"start1":11636,"start2":11636,"length1":32,"length2":53},{"diffs":[[0,"      db"],[-1,".say"],[0," = JSON."]],"start1":11691,"start2":11691,"length1":20,"length2":16},{"diffs":[[0,"N.parse("],[-1,"messag"],[1,"restor"],[0,"e);\r\n   "]],"start1":11705,"start2":11705,"length1":22,"length2":22},{"diffs":[[0,"           });\r\n"],[1,"            proc=true;message='';\r\n        \r\n"],[0,"        } else i"]],"start1":11853,"start2":11853,"length1":32,"length2":77},{"diffs":[[0,"      } else if "],[1,"("],[0,"(message.match(/"]],"start1":11916,"start2":11916,"length1":32,"length2":33},{"diffs":[[0,"*?)\\}/i)"],[-1,") {\r\n"],[1," \r\n        && message.match(/^w(?:hen).*\\{(.*?)\\}.*\\{(.*?)\\}/i).length == 3)) {\r\n            var event = message;\r\n "],[0,"        "]],"start1":11975,"start2":11975,"length1":21,"length2":132},{"diffs":[[0,"    if ("],[1,"(info.channels && "],[0,"info.cha"]],"start1":12159,"start2":12159,"length1":16,"length2":34},{"diffs":[[0,"oom') >= 0) "],[-1,"{\r\n"],[1,"|| from == 'linaea') {\r\n    "],[0,"            "]],"start1":12321,"start2":12321,"length1":27,"length2":52},{"diffs":[[0,"h = "],[-1,"message"],[1,"event"],[0,".match(/"],[-1,"^w(?:hen).*"],[0,"\\{(."]],"start1":12385,"start2":12385,"length1":34,"length2":21},{"diffs":[[0,"    "],[-1,"db.say[match[1]] = match[2];\r\n"],[1,"    if (!event.match(\"regex\") && !event.match('event')) match[1] = RegExp.quote(match[1]);\r\n                    if (event.match(/\\}.*say.*\\{/i)) db.say[match[1]] = match[2];\r\n                    if (event.match(/\\}.*do.*\\{/i)) db.act[match[1]] = match[2];\r\n    "],[0,"    "]],"start1":12440,"start2":12440,"length1":38,"length2":269},{"diffs":[[0,"a.say((to==c"],[-1,"han?chan:"],[1,"onfig.botName?"],[0,"from"],[1,":to"],[0,"), 'Got it!'"]],"start1":12725,"start2":12725,"length1":37,"length2":45},{"diffs":[[0,"      }});\r\n"],[1,"            proc=true;\r\n"],[0,"        } el"]],"start1":12784,"start2":12784,"length1":24,"length2":48},{"diffs":[[0,"h(/^"],[-1,"g"],[1,"[dg]"],[0,"(?:et"],[-1,"data"],[1," ?link|lc"],[0,"| |$"]],"start1":12851,"start2":12851,"length1":18,"length2":26},{"diffs":[[0,"|lc| |$)/i)) {\r\n"],[1,"            message = message.replace('get link','getlink');\r\n"],[0,"            var "]],"start1":12870,"start2":12870,"length1":32,"length2":94},{"diffs":[[0,"[1]:"],[1,"+"],[0,"current."],[-1,"SHOUTCASTSERVER.SONGTITLE)+\"\"]"],[1,"response.data.status.currentsong)+\"\"];\r\n            var dlc = message"],[0,";\r\n "]],"start1":13027,"start2":13027,"length1":46,"length2":86},{"diffs":[[0," {\r\n"],[-1,"                    var moments = message.match(/ (.*)/i);\r\n                    if (moments) {\r\n                        moments = moment(moments[1]);\r\n                        moments = moments.isValid()?moments:moment();\r\n                    } else {\r\n                        moments = moment();\r\n                    }\r\n"],[0,"    "]],"start1":13220,"start2":13220,"length1":328,"length2":8},{"diffs":[[0,"    q: ("],[-1,"message"],[1,"dlc"],[0,".match(/"]],"start1":13320,"start2":13320,"length1":23,"length2":19},{"diffs":[[0,"match(/ (.*)/i)?"],[-1,"message"],[1,"dlc"],[0,".match(/ (.*)/i)"]],"start1":13332,"start2":13332,"length1":39,"length2":35},{"diffs":[[0,"ent."],[-1,"SHOUTCASTSERVER.SONGTITLE"],[1,"response.data.status.currentsong"],[0,"),\r\n"]],"start1":13375,"start2":13375,"length1":33,"length2":40},{"diffs":[[0,"        };\r\n"],[1,"                    if (verbose) console.log('linaea', params.q);\r\n"],[0,"            "]],"start1":13473,"start2":13473,"length1":24,"length2":91},{"diffs":[[0,"ent."],[-1,"SHOUTCASTSERVER.SONGTITLE"],[1,"response.data.status.currentsong"],[0,"+' m"]],"start1":13803,"start2":13803,"length1":33,"length2":40},{"diffs":[[0,"ent."],[-1,"SHOUTCASTSERVER.SONGTITLE+' is '+data);\r\n            }"],[1,"response.data.status.currentsong+' is '+data);\r\n            }\r\n            proc=true;message='';"],[0,"\r\n  "]],"start1":14133,"start2":14133,"length1":62,"length2":104},{"diffs":[[0,"\n            }\r\n"],[1,"            proc=true;message='';\r\n"],[0,"        } else i"]],"start1":14537,"start2":14537,"length1":32,"length2":67},{"diffs":[[0,"tringify(db));\r\n"],[1,"            proc=true;message='';\r\n"],[0,"            proc"]],"start1":14692,"start2":14692,"length1":32,"length2":67},{"diffs":[[0,".match(/"],[1,"^"],[0,"SAVE/i))"]],"start1":14798,"start2":14798,"length1":16,"length2":17},{"diffs":[[0,"o==c"],[-1,"han?chan:from), 'I feel smarter already!');\r\n            });\r\n        } else if (begin!='!') {\r\n            var matched = false;\r\n            Object.keys(db.say).forEach(function (item, a, b) {\r\n                if (message.match(new RegExp(item, \"i\")) && (db.say[item] || db.act[item])) {\r\n                    if (!item.match('event')) matched = true;\r\n                    message = db.say[item];\r\n                    message = message.replace('varFrom', from);\r\n                    message = message.replace('varFeeling', feeling);\r\n                }\r\n            });\r\n            if (!matched && !message.match(/\\?$/i)) {\r\n                message = message+' to you too, '+from;\r\n            }\r\n            if (verbose) sonia.say('linaea', matched+' '+message);\r\n            if (!disabled && (lastfrom!=config.botName&&!matched)||matched) {\r\n                sonia.say((to==chan?chan:from), message);\r\n            }\r\n        }\r\n        lastfrom=config.botName;\r\n    } else {\r\n        lastfrom=from;\r\n    }\r\n});\r\n\r\nfunction updateNextShow(message) {\r\n    googleapis.discover('calendar', 'v3').execute(function(err, client) {\r\n    var params = {\r\n        calendarId: 'sonicradioboom2013@gmail.com',\r\n        maxResults: 1,\r\n        timeMin: moment(),\r\n        singleEvents: true,\r\n        orderBy: \"startTime\",\r\n        };\r\n    djNotified = true;\r\n    client.calendar.events.list(params).withApiKey(key).execute(function (err, response) {\r\n        response.items.forEach(function (item,a,b) {next = item; sonia.say(chan, 'Next event '+item.summary+' starts '+moment(item.start.dateTime).fromNow());});\r\n    })});\r\n}\r\n\r\nsetInterval(function() {\r\n    if (!next || moment(next.start.dateTime).fromNow() == \"in 5 minutes\" && !djNotified) {\r\n        updateNextShow();\r\n        fs.writeFile('../data/db.json', JSON.stringify(db), function (err) {\r\n              if (err) return console.log(err);\r\n            });\r\n        setTimeout(function() {\r\n            djNotified = false;\r\n        }, 5*60*1000);\r\n    }\r\n    request(ip+'stats?sid=1', function (error, response, body) {\r\n        if (!error && response.statusCode == 200) {\r\n            parseString(body, function (err, result) {\r\n                if (current && (JSON.stringify(current.SHOUTCASTSERVER.SONGTITLE) != JSON.stringify(result.SHOUTCASTSERVER.SONGTITLE))) {\r\n                    if (notify) {\r\n                        sonia.say(chan, 'New Song: '+result.SHOUTCASTSERVER.SONGTITLE);\r\n                    }\r\n                    if (db.song[result.SHOUTCASTSERVER.SONGTITLE+'|event=song']) {\r\n                        sonia.say(chan, db.say[result.SHOUTCASTSERVER.SONGTITLE+'|event=song']);\r\n                    }\r\n                }\r\n                current = result;\r\n            });\r\n        }\r\n    });\r\n}, 1000);\r\nsonia.addListener('nick', function (oldnick, newnick, channels, message) {\r\n    if (!db.name[newnick]) {\r\n        db.name[newnick]=db.name[oldnick"],[1,"onfig.botName?from:to), 'I feel smarter already!');\r\n            });\r\n            proc=true;message='';\r\n        } else if (message.match(/^d(?:efine) (.+)/i)) {\r\n            request('http://en.wikipedia.org/w/api.php?action=query&prop=extracts&explaintext=true&exsentences=3&redirects=true&format=json&titles='+message.match(/ (.*)/)[1], function (error, response, body) {\r\n            if (!error && response.statusCode == 200) {\r\n                body = JSON.parse(body);\r\n                var page = Object.keys(body.query.pages)[0];\r\n                sonia.say((to==config.botName?from:to), body.query.pages[page].title+': \"'+body.query.pages[page].extract+'\" Source: http://en.wikipedia.org/wiki/'+body.query.pages[page].title);\r\n            }\r\n            });\r\n            proc=true;message='';\r\n        } else if (message.match(/^aw(?:ay)/i)) {\r\n            db.away[from]=[];\r\n            sonia.say((to==config.botName?from:to), 'I\\'ll hold your messages until you get back, '+from+'.');\r\n        } else if (message.match(/^b(?:ack) /i)) {\r\n            var f = message.match(/ (.*)/)[1];\r\n                sonia.whois(from, function (info) {\r\n                if ((info.channels && info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) || from == 'linaea') {\r\n                    delete db.away[f];\r\n                    sonia.say((to==config.botName?from:to), 'Got it!');\r\n                }});\r\n        } else if (message.match(/^request /i)) {\r\n            if (!s) {\r\n            var s = message.match(/ (.*)/)[1];\r\n            fs.readFile(\"db.txt\", function(err, cont) {if (err) throw err;s=(cont+'').match(RegExp.quote(s));\r\n                request('http://radio.ponyvillelive.com:2199/api.php?xm=server.playlist&f=json&a[username]=Linana&a[password]=yoloswag&a[action]=add&a[playlistname]=Temp&a[trackname]='+s, function (error, response, body) {\r\n                    if (verbose) console.log(body);\r\n                    if (!error && response.statusCode == 200 && JSON.parse(body).type=='success') {\r\n                        sonia.say(chan, 'Coming up next: '+s);\r\n                        request('http://radio.ponyvillelive.com:2199/api.php?xm=server.playlist&f=json&a[username]=Linana&a[password]=yoloswag&a[action]=activate&a[playlistname]=Temp', function (a,b,c) {});\r\n                        upnext.push(s);\r\n                    } else {\r\n                        sonia.say(chan, 'I tried my best, but I couldn\\'t bring myself to play that.');\r\n                    }\r\n                });});\r\n            }\r\n        } else if (message.match(/^SKIP/i)) {\r\n                sonia.whois(from, function (info) {\r\n                if ((info.channels && info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) || from == 'linaea') {\r\n                    request('http://radio.ponyvillelive.com:2199/api.php?xm=server.nextsong&f=json&a[username]=Linana&a[password]=yoloswag', function (a,b,c) {});\r\n                    sonia.say((to==config.botName?from:to), 'Skipped that one.');\r\n                }});\r\n        } else if (message.match(/^b(?:ack)/i)) {\r\n            if (db.away[from]) {\r\n                sonia.say((to==config.botName?from:to), 'Welcome back! '+from);\r\n                for (var i = 0; i < db.away[from].length; i++) {\r\n                    sonia.say(from, db.away[from][i]);\r\n                }\r\n                sonia.say((to==config.botName?from:to), 'You got '+db.away[from].length+' messages while you were away.');\r\n                delete db.away[from];\r\n            }\r\n        } else if (message.match(/http:\\/\\/.*.deviantart.com\\/art\\/.*|http:\\/\\/fav.me\\/.*|http:\\/\\/sta.sh\\/.*|http:\\/\\/.*.deviantart.com\\/.*#\\/d.*/)) {\r\n            request('http://backend.deviantart.com/oembed?url='+message.match(/http:[^ ]*/), function (error, response, body) {\r\n                if (!error && response.statusCode == 200) {\r\n                    body = JSON.parse(body);\r\n                    sonia.say((to==config.botName?from:to), body.url+' is \"'+body.title+'\" by '+body.author_name+'.');\r\n                }\r\n            });\r\n        }\r\n        if (verbose) console.log(message);\r\n        if (begin!='!'&&message&&!(message.match(/^w(?:hen).*\\{(.*?)\\}.*\\{(.*?)\\}/i) && message.match(/^w(?:hen).*\\{(.*?)\\}.*\\{(.*?)\\}/i).length == 3)) {\r\n            var matched = false;\r\n            var messagey = message;\r\n            Object.keys(db.say).forEach(function (item, a, b) {\r\n                if (message.match(new RegExp(item, \"i\")) && (db.say[item] || db.act[item])) {\r\n                    if (!item.match(/event=(?:song|login)/)) {\r\n                        matched = true;\r\n                        if (db.say[item]) {\r\n                            messagey = db.say[item];\r\n                            messagey = messagey.replace('varFrom', from);\r\n                            messagey = messagey.replace('varFeeling', feeling);\r\n                            if (!disabled) {\r\n                                sonia.say((to==config.botName?from:to), messagey);\r\n                                proc=true;\r\n                            }\r\n                        }\r\n                        if (db.act[item]) {\r\n                            messagey = db.act[item];\r\n                            messagey = messagey.replace('varFrom', from);\r\n                            messagey = messagey.replace('varFeeling', feeling);\r\n                            if (!disabled) {\r\n                                sonia.action((to==config.botName?from:to), messagey);\r\n                                proc=true;\r\n                            }\r\n                        }\r\n                }}\r\n            });\r\n            if (!matched && !message.match(/\\?$/i && begin.length)) {\r\n                messagey = messagey+' to you too, '+from;\r\n            }\r\n            if (verbose) sonia.say('linaea', matched+' '+messagey);\r\n            if (!disabled && (from!=config.botName&&grom[0]!=config.botName&&!matched)) {\r\n                sonia.say((to==config.botName?from:to), messagey);\r\n                proc=true;\r\n            }\r\n        }\r\n    }\r\n    grom[1]=grom[0];\r\n    grom[0]=from;\r\n    if (proc) {\r\n            grom[1]=grom[0];\r\n            grom[0]='Sonia';\r\n    }\r\n});\r\n\r\nfunction updateNextShow(message) {\r\n    googleapis.discover('calendar', 'v3').execute(function(err, client) {\r\n    var params = {\r\n        calendarId: 'sonicradioboom2013@gmail.com',\r\n        maxResults: 1,\r\n        timeMin: moment(),\r\n        singleEvents: true,\r\n        orderBy: \"startTime\",\r\n        };\r\n    djNotified = true;\r\n    client.calendar.events.list(params).withApiKey(key).execute(function (err, response) {\r\n        response.items.forEach(function (item,a,b) {next = item; sonia.say(chan, 'Next event '+item.summary+' starts '+moment(item.start.dateTime).fromNow());});\r\n    })});\r\n}\r\n\r\nsetInterval(function() {\r\n    if (!next || moment(next.start.dateTime).fromNow() == \"in 5 minutes\" && !djNotified) {\r\n        updateNextShow();\r\n        fs.writeFile('../data/db.json', JSON.stringify(db), function (err) {\r\n              if (err) return console.log(err);\r\n            });\r\n        setTimeout(function() {\r\n            djNotified = false;\r\n        }, 5*60*1000);\r\n    }\r\n    sonia.send('PONG', 'empty');\r\n    request('http://radio.ponyvillelive.com:2199/api.php?xm=server.getstatus&f=json&a[username]=Linana&a[password]=yoloswag', function (error, response, body) {\r\n            if (!error && response.statusCode == 200) {\r\n                body = JSON.parse(body);\r\n                // if (verbose) console.log('linaea', body);\r\n                if (current && (JSON.stringify(current.response.data.status.currentsong) != JSON.stringify(body.response.data.status.currentsong))) {\r\n                    if (notify) {\r\n                        sonia.say(chan, 'New Song: '+body.response.data.status.currentsong);\r\n                    }\r\n                    if (!moment(next.start.dateTime).fromNow().match(\"ago\") && upnext.length !== 0 || body.response.data.status.currentsong==upnext[upnext.length-1]) {\r\n                        request('http://radio.ponyvillelive.com:2199/api.php?xm=server.playlist&f=json&a[username]=Linana&a[password]=yoloswag&action=remove&playlistname=Temp&trackname='+upnext.pop(), function (a,b,c) {\r\n                        });\r\n                    }\r\n                    if (upnext.length===0)\r\n                        getRandomLine('db.txt', function (err, line) {line=line.trim(); if (verbose) sonia.say('linaea', line+' up next!'); line = line.match(/(.*) - (.*)/); request('http://radio.ponyvillelive.com:2199/api.php?xm=server.playlist&f=json&a[username]=Linana&a[password]=yoloswag&a[action]=add&a[playlistname]=Temp&a[trackname]='+line[2]+'&a[artistname]='+line[1], function (a,b,c) {})}); // TODO Change the song picker to be non-random\r\n                    if (db.say[body.response.data.status.currentsong+'|event=song']) {\r\n                        sonia.say(chan, db.say[body.response.data.status.currentsong+'|event=song']);\r\n                    }\r\n                }\r\n                current = body;\r\n}});\r\n}, 1000);\r\n\r\n// Modified from solution by FGRibreau\r\nfunction getRandomLine(filename, callback) {\r\n    fs.readFile(filename, function (err, data) {\r\n    if (err) throw err;\r\n\r\n    // Data is a buffer that we need to convert to a string\r\n    // Improvement: loop over the buffer and stop when the line is reached\r\n    var lines = data.toString('utf-8').split(\"\\n\");\r\n    var line_no = Math.floor(Math.random() * (lines.length - 1 + 1)) + 1;\r\n\r\n    if(+line_no > lines.length){\r\n        return callback('File end reached without finding line', null);\r\n    }\r\n\r\n    callback(null, lines[+line_no]);\r\n    });\r\n}\r\n// XXXX Hack for calling action handlers.\r\nsonia.addListener('raw', function (message) {\r\n    if (message.command == 'PRIVMSG' && message.args[1].match(/ACTION/))\r\n    action(message.nick, message.args[0], message.args[1].match(/ACTION (.*)\\u0001$/)[1]);\r\n    });\r\nfunction action(from, to, message) {\r\n        if (to!=config.botName) {\r\n        Object.keys(db.away).forEach(function (item, a, b) {\r\n            db.away[item].push('*'+from+' '+message+'*');\r\n        });\r\n    }\r\n    if ((message.match(/^!|^Sonia?[:,]?/i)||message.match(/,? Sonia?[.! ?]*?$/i)\r\n    || grom[0]==config.botName || to==config.botName) && from!=config.botName) {\r\n        var begin = message.match(/^(Sonia?[:,]? |!)/i)?message.match(/^(Sonia?[:,]? |!)/i)[1]:message.match(/(,? Sonia?[.! ?]*?)$/i)?message.match(/(,? Sonia?[.! ?]*?)$/i)[1]:'';\r\n        message = message.replace(begin, '');\r\n        message = message.replace(/What.?s the /i, '');\r\n        var proc = false;\r\n            if (begin!='!'&&message&&!(message.match(/^w(?:hen).*\\{(.*?)\\}.*\\{(.*?)\\}/i) && message.match(/^w(?:hen).*\\{(.*?)\\}.*\\{(.*?)\\}/i).length == 3)) {\r\n            var matched = false;\r\n            var messagey = message;\r\n            Object.keys(db.say).forEach(function (item, a, b) {\r\n                if (message.match(new RegExp(item, \"i\")) && (db.say[item] || db.act[item])) {\r\n                    if (!item.match('event')) {\r\n                        matched = true;\r\n                        if (db.say[item]) {\r\n                            messagey = db.say[item];\r\n                            messagey = messagey.replace('varFrom', from);\r\n                            messagey = messagey.replace('varFeeling', feeling);\r\n                            if (!disabled) {\r\n                                sonia.say((to==config.botName?from:to), messagey);\r\n                                proc=true;\r\n                            }\r\n                        }\r\n                        if (db.act[item]) {\r\n                            messagey = db.act[item];\r\n                            messagey = messagey.replace('varFrom', from);\r\n                            messagey = messagey.replace('varFeeling', feeling);\r\n                            if (!disabled) {\r\n                                sonia.action((to==config.botName?from:to), messagey);\r\n                                proc=true;\r\n                            }\r\n                        }\r\n                }}\r\n            });\r\n            if (!matched && !message.match(/\\?$/i)) {\r\n                messagey = messagey+', too';\r\n            }\r\n            if (verbose) sonia.say('linaea', matched+' '+messagey);\r\n            if (!disabled && (from!=config.botName&&!matched)) {\r\n                sonia.action((to==config.botName?from:to), messagey);\r\n                proc=true;\r\n            }\r\n        }\r\n        if (verbose) sonia.say('linaea', \"Saw \"+from+\" do \"+message+\" to \"+to);\r\n    }\r\n    grom[1]=grom[0];\r\n    grom[0]=from;\r\n}\r\nsonia.addListener('nick', function (oldnick, newnick, channels, message) {\r\n    newnick = newnick.replace(/_*$/, '');\r\n    oldnick = oldnick.replace(/_*$/, '');\r\n    if (!db.name[newnick]) db.name[newnick] = moment();\r\n    if (!db.name[newnick+'|event=login']) {\r\n        db.name[newnick+'|event=login']=db.name[oldnick+'|event=login'];\r\n    } else if (!db.name[oldnick+'|event=login']) {\r\n        db.name[oldnick+'|event=login']=db.name[newnick+'|event=login'"],[0,"];\r\n"]],"start1":14976,"start2":14976,"length1":2926,"length2":13239},{"diffs":[[0,"ck, message) {\r\n"],[1,"    nick = nick.replace(/_*$/, '');\r\n    if (db.ban[nick]) {\r\n        sonia.kick(chan, nick, 'Sonia waz here.');\r\n    } else {\r\n"],[0,"    if (channel="]],"start1":28343,"start2":28343,"length1":32,"length2":160},{"diffs":[[0,"ck+'"],[-1," care to introduce yourself?');\r\n            sonia.say(nick, 'Welcome to '+chan+'! The radio stream is available at http://thunderlane.ponyvillelive.com/~srb/.');\r\n            sonia.say(nick, 'If you haven\\'t registered your nick with ChanServ already, type \\\"/msg NickServ register <password> <email>\\\" to register your nick. This way, nopony will take your name.');"],[1,". Care to introduce yourself?');\r\n            if (introduce) {\r\n                sonia.say(nick, 'Welcome to '+chan+'! The radio stream is available at http://thunderlane.ponyvillelive.com/~srb/.');\r\n                sonia.say(nick, 'If you haven\\'t registered your nick with ChanServ already, type \\\"/msg NickServ register <password> <email>\\\" to register your nick. This way, nopony will take your name.');\r\n            }"],[0,"\r\n  "]],"start1":28910,"start2":28910,"length1":375,"length2":429},{"diffs":[[0,"\n    }\r\n"],[1,"    }\r\n"],[0,"});\r\n"],[-1,"\r\n"],[0,"sonia.ad"]],"start1":29382,"start2":29382,"length1":23,"length2":28},{"diffs":[[0,"nt();\r\n});\r\n"],[-1,"\r\n"],[0,"sonia.addLis"]],"start1":29488,"start2":29488,"length1":26,"length2":24},{"diffs":[[0,";\r\n});\r\n"],[-1,"\r\n"],[0,"process."]],"start1":29583,"start2":29583,"length1":18,"length2":16},{"diffs":[[0,"r) {\r\n  "],[-1,"sonia.say"],[1,"console.log"],[0,"('linaea"]],"start1":29634,"start2":29634,"length1":25,"length2":27}]],"length":29771,"saved":false}
{"ts":1374198605658,"patch":[[{"diffs":[[0,"rentsong"],[-1,"=="],[1,".match("],[0,"upnext[u"]],"start1":23107,"start2":23107,"length1":18,"length2":23},{"diffs":[[0,"ngth-1])"],[1,")"],[0," {\r\n    "]],"start1":23138,"start2":23138,"length1":16,"length2":17}]],"length":29777,"saved":false}
{"ts":1374198627299,"patch":[[{"diffs":[[0,"ersion);"],[1,"                        getRandomLine('db.txt', function (err, line) {line=line.trim(); if (verbose) sonia.say('linaea', line+' up next!'); line = line.match(/(.*) - (.*)/); request('http://radio.ponyvillelive.com:2199/api.php?xm=server.playlist&f=json&a[username]=Linana&a[password]=yoloswag&a[action]=add&a[playlistname]=Temp&a[trackname]='+line[2]+'&a[artistname]='+line[1], function (a,b,c) {})}); // TODO Change the song picker to be non-random\r\n"],[0,"},5000);"]],"start1":1748,"start2":1748,"length1":16,"length2":467}]],"length":30228,"saved":false}
{"ts":1374198833990,"patch":[[{"diffs":[[0,"ersion);"],[-1,"                       "],[0," getRand"]],"start1":1748,"start2":1748,"length1":39,"length2":16}]],"length":30205,"saved":false}
{"ts":1374198838259,"patch":[[{"diffs":[[0,"rbose = "],[-1,"fals"],[1,"tru"],[0,"e, intro"]],"start1":1458,"start2":1458,"length1":20,"length2":19}]],"length":30204,"saved":false}
{"ts":1374199182631,"patch":[[{"diffs":[[0," line) {"],[-1,"line=line.trim();"],[1,"\r\n                            line=line.trim();\r\n                           "],[0," if (ver"]],"start1":23957,"start2":23957,"length1":33,"length2":92},{"diffs":[[0,"ne+' up next!');"],[1,"\r\n                           "],[0," line = line.mat"]],"start1":24077,"start2":24077,"length1":32,"length2":61},{"diffs":[[0,"(/(.*) - (.*)/);"],[1,"\r\n                           "],[0," request('http:/"]],"start1":24140,"start2":24140,"length1":32,"length2":61},{"diffs":[[0,"p&a[trackname]='"],[1,"\r\n                            "],[0,"+line[2]+'&a[art"]],"start1":24338,"start2":24338,"length1":32,"length2":62}]],"length":30351,"saved":false}
{"ts":1374199542469,"patch":[[{"diffs":[[0,"random\r\n"],[1,"                            request('http://radio.ponyvillelive.com:2199/api.php?xm=server.playlist&f=json&a[username]=Linana&a[password]=yoloswag&a[action]=activate&a[playlistname]=Temp', function (a,b,c) {});\r\n"],[0,"        "]],"start1":24485,"start2":24485,"length1":16,"length2":228}]],"length":30563,"saved":false}
{"ts":1374199653176,"patch":[[{"diffs":[[0,"ction(){"],[1,"\r\n    "],[0,"sonia.sa"]],"start1":1675,"start2":1675,"length1":16,"length2":22},{"diffs":[[0,"ersion);"],[1,"\r\n   "],[0," getRand"]],"start1":1753,"start2":1753,"length1":16,"length2":21},{"diffs":[[0," line) {"],[1,"\r\n    "],[0,"line=lin"]],"start1":1805,"start2":1805,"length1":16,"length2":22},{"diffs":[[0,".trim();"],[1,"\r\n   "],[0," if (ver"]],"start1":1828,"start2":1828,"length1":16,"length2":21},{"diffs":[[0,"next!');"],[1,"\r\n   "],[0," line = "]],"start1":1885,"start2":1885,"length1":16,"length2":21},{"diffs":[[0," (.*)/);"],[1,"\r\n   "],[0," request"]],"start1":1924,"start2":1924,"length1":16,"length2":21},{"diffs":[[0,"trackname]='"],[1,"\r\n    "],[0,"+line[2]+'&a"]],"start1":2094,"start2":2094,"length1":24,"length2":30},{"diffs":[[0,"random\r\n"],[1,"    request('http://radio.ponyvillelive.com:2199/api.php?xm=server.playlist&f=json&a[username]=Linana&a[password]=yoloswag&a[action]=activate&a[playlistname]=Temp', function (a,b,c) {});\r\n"],[0,"},5000);"]],"start1":2213,"start2":2213,"length1":16,"length2":204}]],"length":30789,"saved":false}
{"ts":1374199881881,"patch":[[{"diffs":[[0,"oswag&a[action]="],[1,"de"],[0,"activate&a[playl"]],"start1":2338,"start2":2338,"length1":32,"length2":34},{"diffs":[[0,"on (a,b,c) {"],[1,"request('http://radio.ponyvillelive.com:2199/api.php?xm=server.playlist&f=json&a[username]=Linana&a[password]=yoloswag&a[action]=activate&a[playlistname]=Temp', function (a,b,c) {});"],[0,"});\r\n},5000)"]],"start1":2394,"start2":2394,"length1":24,"length2":206},{"diffs":[[0,"om\r\n"],[-1,"                            "],[1,"request('http://radio.ponyvillelive.com:2199/api.php?xm=server.playlist&f=json&a[username]=Linana&a[password]=yoloswag&a[action]=deactivate&a[playlistname]=Temp', function (a,b,c) {"],[0,"requ"]],"start1":24899,"start2":24899,"length1":36,"length2":189},{"diffs":[[0,"ion (a,b,c) {});"],[-1,"\r\n"],[1,"});"],[0,"                "]],"start1":25250,"start2":25250,"length1":34,"length2":35}]],"length":31127,"saved":false}
{"ts":1374200567214,"patch":[[{"diffs":[[0,"e = line"],[-1,".match(/(.*) - (.*)/)"],[1,"+'.mp3'"],[0,";\r\n     "]],"start1":24536,"start2":24536,"length1":37,"length2":23}]],"length":31113,"saved":false}
{"ts":1374200580223,"patch":[[{"diffs":[[0,"me]=Temp&a[track"],[-1,"name"],[1,"path"],[0,"]='\r\n           "]],"start1":24727,"start2":24727,"length1":36,"length2":36},{"diffs":[[0,"line"],[-1,"[2]+'&a[artistname]='+line[1]"],[0,", fu"]],"start1":24781,"start2":24781,"length1":37,"length2":8}]],"length":31084,"saved":false}
{"ts":1374200641047,"patch":[[{"diffs":[[0,".version);\r\n"],[1,"                    "],[0,"    getRando"]],"start1":1751,"start2":1751,"length1":24,"length2":44},{"diffs":[[0,"    "],[-1,"line=line.trim();\r\n    if (verbose) sonia.say('linaea', line+' up next!');\r\n    line = line.match(/(.*) - (.*)/);\r\n"],[1,"                        line=line.trim();\r\n                            if (verbose) sonia.say('linaea', line+' up next!');\r\n                            line = line+'.mp3';\r\n                        "],[0,"    "]],"start1":1835,"start2":1835,"length1":123,"length2":205},{"diffs":[[0,"&a[track"],[-1,"name"],[1,"path"],[0,"]='\r\n   "]],"start1":2193,"start2":2193,"length1":20,"length2":20},{"diffs":[[0,"    "],[-1,"+line[2]+'&a[artistname]='+line[1]"],[1,"                        +line"],[0,", fu"]],"start1":2210,"start2":2210,"length1":42,"length2":37},{"diffs":[[0,"random\r\n"],[-1,"    "],[0,"request("]],"start1":2310,"start2":2310,"length1":20,"length2":16},{"diffs":[[0,"});});\r\n"],[1,"                        "],[0,"},5000);"]],"start1":2678,"start2":2678,"length1":16,"length2":40}]],"length":31201,"saved":false}
{"ts":1374200649165,"patch":[[{"diffs":[[0," be non-random\r\n"],[1,"                            "],[0,"request('http://"]],"start1":2302,"start2":2302,"length1":32,"length2":60}]],"length":31229,"saved":false}
{"ts":1374200699332,"patch":[[{"diffs":[[0,"emp&trac"],[-1,"kname"],[1,"path"],[0,"='+upnex"]],"start1":24304,"start2":24304,"length1":21,"length2":20}]],"length":31228,"saved":false}
{"ts":1374200702274,"patch":[[{"diffs":[[0,"emp&trac"],[1,"k"],[0,"path='+u"]],"start1":24304,"start2":24304,"length1":16,"length2":17}]],"length":31229,"saved":false}
{"ts":1374200745928,"patch":[[{"diffs":[[0,").match("],[1,"new RegExp('^.*'+"],[0,"RegExp.q"]],"start1":17659,"start2":17659,"length1":16,"length2":33},{"diffs":[[0,"quote(s)"],[1,"+'.*$'"],[0,");\r\n    "]],"start1":17691,"start2":17691,"length1":16,"length2":22}]],"length":31252,"saved":false}
{"ts":1374201187597,"patch":[[{"diffs":[[0,")+'.*$')"],[1,")"],[0,";\r\n     "]],"start1":17698,"start2":17698,"length1":16,"length2":17}]],"length":31253,"saved":false}
{"ts":1374201211531,"patch":[[{"diffs":[[0,".version);\r\n"],[1,"    sonia.say('NickServ', 'identify yoloswag');\r\n"],[0,"            "]],"start1":1751,"start2":1751,"length1":24,"length2":73}]],"length":31302,"saved":false}
{"ts":1374201330068,"patch":[[{"diffs":[[0,"\n            }\r\n"],[1,"        } else if (message.match(/^up(?:next)/i)) {\r\n            sonia.say((to==config.botName?from:to), upnext);\r\n"],[0,"        } else i"]],"start1":19695,"start2":19695,"length1":32,"length2":147}]],"length":31417,"saved":false}
{"ts":1374201486896,"patch":[[{"diffs":[[0,"o), "],[1,"JSON.stringify("],[0,"upnext)"],[1,")"],[0,";\r\n "]],"start1":19812,"start2":19812,"length1":15,"length2":31}]],"length":31433,"saved":false}
{"ts":1374201568733,"patch":[[{"diffs":[[0,"e=line.trim();\r\n"],[1,"                            upnext.push(line);\r\n"],[0,"                "]],"start1":24757,"start2":24757,"length1":32,"length2":80}]],"length":31481,"saved":false}
{"ts":1374201585323,"patch":[[{"diffs":[[0,"e=line.trim();\r\n"],[1,"                            upnext.push(line);\r\n"],[0,"                "]],"start1":1915,"start2":1915,"length1":32,"length2":80}]],"length":31529,"saved":false}
{"ts":1374201608632,"patch":[[{"diffs":[[0,"om:to), "],[1,":\"Up next: \"+"],[0,"JSON.str"]],"start1":19856,"start2":19856,"length1":16,"length2":29}]],"length":31542,"saved":false}
{"ts":1374201673558,"patch":[[{"diffs":[[0,"om:to), "],[-1,":"],[0,"\"Up next"]],"start1":19856,"start2":19856,"length1":17,"length2":16}]],"length":31541,"saved":false}
{"contributors":[],"silentsave":false,"ts":1374235007037,"patch":[[{"diffs":[[0," {});});"],[1,"\r\n"],[0,"        "]],"start1":25675,"start2":25675,"length1":16,"length2":18}]],"length":31543,"saved":false}
{"ts":1374235544342,"patch":[[{"diffs":[[0,"kpath='+"],[1,"lastplayed.push("],[0,"upnext.p"]],"start1":24576,"start2":24576,"length1":16,"length2":32},{"diffs":[[0,"xt.pop()"],[1,")"],[0,", functi"]],"start1":24604,"start2":24604,"length1":16,"length2":17},{"diffs":[[0,"nction (a,b,c) {"],[1,"if ()"],[0,"})}); // TODO Ch"]],"start1":25263,"start2":25263,"length1":32,"length2":37}]],"length":31565,"saved":false}
{"ts":1374235706884,"patch":[[{"diffs":[[0,"c) {if ("],[-1,")"],[1,"JSON.parse(body).type!=\"successs\") {sonia.say('linaea', \"There was an error adding '\"+line+\"' to the playlist. Debugging data: \"+body)} "],[0,"})}); //"]],"start1":25275,"start2":25275,"length1":17,"length2":152}]],"length":31700,"saved":false}
{"ts":1374235793610,"patch":[[{"diffs":[[0,"?:efine)"],[1,"?"],[0," (.+)/i)"]],"start1":16201,"start2":16201,"length1":16,"length2":17},{"diffs":[[0,"aw(?:ay)"],[1,"?"],[0,"/i)) {\r\n"]],"start1":16894,"start2":16894,"length1":16,"length2":17},{"diffs":[[0,"b(?:ack)"],[1,"?"],[0,"/i)) {\r\n"]],"start1":19311,"start2":19311,"length1":16,"length2":17},{"diffs":[[0,": \"+"],[-1,"JSON.stringify(upnext)"],[1,"upnext[0]);\r\n        } else if (message.match(/^la(?:st)? ?(played)/i)) {\r\n            sonia.say((to==config.botName?from:to), \"Last Played: \"+lastplayed[0]"],[0,");\r\n"]],"start1":19875,"start2":19875,"length1":30,"length2":164}]],"length":31837,"saved":false}
{"ts":1374235835284,"patch":[[{"diffs":[[0,"+upnext["],[-1,"0"],[1,"upnext.length-1"],[0,"]);\r\n   "]],"start1":19878,"start2":19878,"length1":17,"length2":31},{"diffs":[[0,"tplayed["],[-1,"0"],[1,"lastplayed.length-1"],[0,"]);\r\n   "]],"start1":20039,"start2":20039,"length1":17,"length2":35}]],"length":31869,"saved":false}
{"ts":1374235853251,"patch":[[{"diffs":[[0,"upnext ="],[1," [], lastplayed ="],[0," [];\r\nva"]],"start1":839,"start2":839,"length1":16,"length2":33},{"diffs":[[0,"rbose = "],[-1,"tru"],[1,"fals"],[0,"e, intro"]],"start1":1475,"start2":1475,"length1":19,"length2":20}]],"length":31887,"saved":false}
{"ts":1374236004230,"patch":[[{"diffs":[[0,"t.pop())"],[1,"+'.mpe'"],[0,", functi"]],"start1":24792,"start2":24792,"length1":16,"length2":23}]],"length":31894,"saved":false}
{"ts":1374236145808,"patch":[[{"diffs":[[0," \"+body)"],[1,";"],[0,"} })}); "]],"start1":25603,"start2":25603,"length1":16,"length2":17}]],"length":31895,"saved":false}
{"ts":1374236315429,"patch":[[{"diffs":[[0,"stplayed.length-"],[-1,"1"],[1,"2"],[0,"]);\r\n        } e"]],"start1":20067,"start2":20067,"length1":33,"length2":33}]],"length":31895,"saved":false}
{"ts":1374237346342,"patch":[[{"diffs":[[0,".*'+"],[-1,"RegExp.quote(s)"],[1,"s"],[0,"+'.*"]],"start1":17797,"start2":17797,"length1":23,"length2":9}]],"length":31881,"saved":false}
{"ts":1374237401847,"patch":[[{"diffs":[[0,"y that.');\r\n"],[1,"                        sonia.say('linaea', 'Error adding '+s+' to the playlist, backtrace: '+body)\r\n"],[0,"            "]],"start1":18627,"start2":18627,"length1":24,"length2":125}]],"length":31982,"saved":false}
{"ts":1374237404280,"patch":[[{"diffs":[[0," '+body)"],[1,";"],[0,"\r\n      "]],"start1":18730,"start2":18730,"length1":16,"length2":17}]],"length":31983,"saved":false}
{"ts":1374237415549,"patch":[[{"diffs":[[0,"                "],[1," if (verbose)"],[0," sonia.say('lina"]],"start1":18646,"start2":18646,"length1":32,"length2":45}]],"length":31996,"saved":false}
{"ts":1374237693757,"patch":[[{"diffs":[[0,"+'.*$'))"],[1,"[0]"],[0,";\r\n     "]],"start1":17802,"start2":17802,"length1":16,"length2":19}]],"length":31999,"saved":false}
{"ts":1374237703684,"patch":[[{"diffs":[[0,"Exp('^.*"],[1,"("],[0,"'+s+'"],[1,")"],[0,".*$'))[0"]],"start1":17791,"start2":17791,"length1":21,"length2":23}]],"length":32001,"saved":false}
{"ts":1374237777157,"patch":[[{"diffs":[[0,"g.match("],[-1,"upnext[upnext"],[1,"lasplayed[lastplayed"],[0,".length-"],[-1,"1"],[1,"2"],[0,"])) {\r\n "]],"start1":24653,"start2":24653,"length1":38,"length2":45}]],"length":32008,"saved":false}
{"ts":1374237779674,"patch":[[{"diffs":[[0,"atch(las"],[1,"t"],[0,"played[l"]],"start1":24656,"start2":24656,"length1":16,"length2":17}]],"length":32009,"saved":false}
{"contributors":[],"silentsave":false,"ts":1374240571665,"patch":[[{"diffs":[[0,");\r\n"],[-1,"                            line = line+'.mp3';\r\n"],[0,"    "]],"start1":25283,"start2":25283,"length1":57,"length2":8}]],"length":31960,"saved":false}
{"ts":1374240591475,"patch":[[{"diffs":[[0,"me]=Temp&a[track"],[-1,"path"],[1,"name"],[0,"]='\r\n           "]],"start1":25460,"start2":25460,"length1":36,"length2":36}]],"length":31960,"saved":false}
{"ts":1374240637938,"patch":[[{"diffs":[[0,");\r\n"],[-1,"                            line = line+'.mp3';\r\n"],[0,"    "]],"start1":2074,"start2":2074,"length1":57,"length2":8},{"diffs":[[0,"a[trackp"],[-1,"ath"],[1,"name"],[0,"]='\r\n   "]],"start1":2260,"start2":2260,"length1":19,"length2":20},{"diffs":[[0,"rack"],[-1,"path"],[1,"name"],[0,"='+l"]],"start1":24826,"start2":24826,"length1":12,"length2":12},{"diffs":[[0,"p())"],[-1,"+'.mpe'"],[0,", fu"]],"start1":24862,"start2":24862,"length1":15,"length2":8}]],"length":31905,"saved":false}
{"ts":1374241143182,"patch":[[{"diffs":[[0,"'^.*"],[-1,"("],[0,"'+s+'"],[-1,")"],[0,".*$'"]],"start1":17747,"start2":17747,"length1":15,"length2":13}]],"length":31903,"saved":false}
{"ts":1374241206682,"patch":[[{"diffs":[[0,"nction (a,b,c) {"],[1,"if (verbose) console.log(body);"],[0,"});\r\n           "]],"start1":18397,"start2":18397,"length1":32,"length2":63}]],"length":31934,"saved":false}
{"ts":1374241291222,"patch":[[{"diffs":[[0,"row err;"],[1,"if (verbose) console.log(s);"],[0,"s=(cont+"]],"start1":17710,"start2":17710,"length1":16,"length2":44},{"diffs":[[0,"+'.*$'))[0];"],[1," if (verbose) console.log(s);"],[0,"\r\n          "]],"start1":17782,"start2":17782,"length1":24,"length2":53}]],"length":31991,"saved":false}
{"ts":1374241624310,"patch":[[{"diffs":[[0,"ole.log("],[-1,"s"],[1,"cont"],[0,");s=(con"]],"start1":17735,"start2":17735,"length1":17,"length2":20}]],"length":31994,"saved":false}
{"ts":1374241692935,"patch":[[{"diffs":[[0,");s="],[-1,"("],[0,"cont"],[-1,"+''"],[1,".toString("],[0,").ma"]],"start1":17747,"start2":17747,"length1":16,"length2":22}]],"length":32000,"saved":false}
{"ts":1374241750728,"patch":[[{"diffs":[[0,"log(cont"],[1,".toString()"],[0,");s=cont"]],"start1":17739,"start2":17739,"length1":16,"length2":27}]],"length":32011,"saved":false}
{"ts":1374241855742,"patch":[[{"diffs":[[0,"err;"],[-1,"if (verbose) console.log(cont.toString());"],[1,"\r\n            "],[0,"s=co"]],"start1":17714,"start2":17714,"length1":50,"length2":22},{"diffs":[[0,"s+'.*$')"],[1,", \"\""],[0,")[0];"],[1,"\r\n           "],[0," if (ver"]],"start1":17773,"start2":17773,"length1":21,"length2":38}]],"length":32000,"saved":false}
{"ts":1374241874555,"patch":[[{"diffs":[[0,".*$'), \""],[1,"g"],[0,"\")[0];\r\n"]],"start1":17776,"start2":17776,"length1":16,"length2":17}]],"length":32001,"saved":false}
{"ts":1374241914504,"patch":[[{"diffs":[[0,"w err;\r\n"],[1,"            consolg.log(s);\r\n"],[0,"        "]],"start1":17712,"start2":17712,"length1":16,"length2":45}]],"length":32030,"saved":false}
{"ts":1374241928339,"patch":[[{"diffs":[[0,"consolg.log("],[-1,"s"],[1,"JSON.stringify(s)"],[0,");\r\n        "]],"start1":17732,"start2":17732,"length1":25,"length2":41}]],"length":32046,"saved":false}
{"ts":1374241932694,"patch":[[{"diffs":[[0,"  consol"],[-1,"g"],[1,"e"],[0,".log(JSO"]],"start1":17730,"start2":17730,"length1":17,"length2":17}]],"length":32046,"saved":false}
{"ts":1374242020659,"patch":[[{"diffs":[[0,".*$'"],[-1,")"],[0,", \"g\")"],[1,")"],[0,"[0];"]],"start1":17821,"start2":17821,"length1":15,"length2":15}]],"length":32046,"saved":false}
{"ts":1374242053265,"patch":[[{"diffs":[[0,"    "],[-1,"s=cont.toString().match("],[1,"var r = "],[0,"new "]],"start1":17773,"start2":17773,"length1":32,"length2":16},{"diffs":[[0,"$', \"g\")"],[1,";\r\n            s=cont.toString().match(r"],[0,")[0];\r\n "]],"start1":17807,"start2":17807,"length1":16,"length2":56}]],"length":32070,"saved":false}
{"ts":1374242059623,"patch":[[{"diffs":[[0,"Exp('^.*"],[1,"("],[0,"'+s+'"],[1,")"],[0,".*$', \"g"]],"start1":17792,"start2":17792,"length1":21,"length2":23}]],"length":32072,"saved":false}
{"ts":1374242090036,"patch":[[{"diffs":[[0,"*$', \"g\");\r\n"],[1,"            console.log(r.toString());\r\n"],[0,"            "]],"start1":17808,"start2":17808,"length1":24,"length2":64}]],"length":32112,"saved":false}
{"ts":1374242179530,"patch":[[{"diffs":[[0,"match(r)"],[-1,"[0]"],[0,";\r\n     "]],"start1":17890,"start2":17890,"length1":19,"length2":16}]],"length":32109,"saved":false}
{"ts":1374242445067,"patch":[[{"diffs":[[0,"        "],[1," //"],[0," s=cont."]],"start1":17863,"start2":17863,"length1":16,"length2":19}]],"length":32112,"saved":false}
{"ts":1374246537213,"patch":[[{"diffs":[[0,"             }\r\n"],[1,"// "],[0,"                "]],"start1":25131,"start2":25131,"length1":32,"length2":35},{"diffs":[[0,"h===0)\r\n"],[1,"// "],[0,"        "]],"start1":25186,"start2":25186,"length1":16,"length2":19},{"diffs":[[0," (err, line) {\r\n"],[1,"// "],[0,"                "]],"start1":25253,"start2":25253,"length1":32,"length2":35},{"diffs":[[0,"e=line.trim();\r\n"],[1,"// "],[0,"                "]],"start1":25303,"start2":25303,"length1":32,"length2":35},{"diffs":[[0,"xt.push(line);\r\n"],[1,"// "],[0,"                "]],"start1":25354,"start2":25354,"length1":32,"length2":35},{"diffs":[[0,"+' up next!');\r\n"],[1,"// "],[0,"                "]],"start1":25438,"start2":25438,"length1":32,"length2":35},{"diffs":[[0,"a[trackname]='\r\n"],[1,"// "],[0,"                "]],"start1":25639,"start2":25639,"length1":32,"length2":35},{"diffs":[[0,"random\r\n"],[1,"// "],[0,"request("]],"start1":25899,"start2":25899,"length1":16,"length2":19}]],"length":32136,"saved":false}
{"ts":1374247390640,"patch":[[{"diffs":[[0,"     }\r\n"],[-1,"// "],[0,"        "]],"start1":25139,"start2":25139,"length1":19,"length2":16},{"diffs":[[0,"h===0)\r\n"],[-1,"// "],[0,"        "]],"start1":25183,"start2":25183,"length1":19,"length2":16},{"diffs":[[0,"ine) {\r\n"],[-1,"// "],[0,"        "]],"start1":25255,"start2":25255,"length1":19,"length2":16},{"diffs":[[0,"ne.trim();\r\n"],[-1,"// "],[0,"            "]],"start1":25298,"start2":25298,"length1":27,"length2":24},{"diffs":[[0,"ush(line);\r\n"],[-1,"// "],[0,"            "]],"start1":25346,"start2":25346,"length1":27,"length2":24},{"diffs":[[0,"xt!');\r\n"],[-1,"// "],[0,"        "]],"start1":25431,"start2":25431,"length1":19,"length2":16},{"diffs":[[0,"ame]='\r\n"],[-1,"// "],[0,"        "]],"start1":25629,"start2":25629,"length1":19,"length2":16},{"diffs":[[0,"random\r\n"],[-1,"// "],[0,"request("]],"start1":25878,"start2":25878,"length1":19,"length2":16}]],"length":32112,"saved":false}
{"ts":1374247804350,"patch":[[{"diffs":[[0,"(JSON.parse("],[-1,"body"],[1,"c"],[0,").type!=\"suc"]],"start1":25693,"start2":25693,"length1":28,"length2":25}]],"length":32109,"saved":false}
{"ts":1374247984411,"patch":[[{"diffs":[[0,"guration"],[1," for node-irc"],[0,"\r\nvar co"]],"start1":1255,"start2":1255,"length1":16,"length2":29},{"diffs":[[0,"\r\n\r\n"],[-1,"var"],[1,"// Create settings stuff\r\nvar settings = {\r\n   "],[0," notify"],[-1," ="],[1,":"],[0," false,"],[1,"\r\n   "],[0," dis"]],"start1":1444,"start2":1444,"length1":27,"length2":75},{"diffs":[[0,"bled"],[-1," ="],[1,":"],[0," false,"],[1,"\r\n   "],[0," verbose"],[-1," ="],[1,":"],[0," false,"],[1,"\r\n   "],[0," int"]],"start1":1520,"start2":1520,"length1":34,"length2":42},{"diffs":[[0,"ntroduce"],[-1," ="],[1,":"],[0," false"],[1,",\r\n}"],[0,";\r\n\r\n// "]],"start1":1560,"start2":1560,"length1":24,"length2":27},{"diffs":[[0," the bot"],[-1," name"],[0,"\r\nvar so"]],"start1":1593,"start2":1593,"length1":21,"length2":16},{"diffs":[[0,"ngth===0"],[1," && settings.autodj"],[0,")\r\n     "]],"start1":25247,"start2":25247,"length1":16,"length2":35}]],"length":32195,"saved":false}
{"ts":1374247997518,"patch":[[{"diffs":[[0,"ce: false,\r\n"],[1,"    autodj: false,\r\n"],[0,"};\r\n\r\n// Cre"]],"start1":1566,"start2":1566,"length1":24,"length2":44}]],"length":32215,"saved":false}
{"ts":1374248006370,"patch":[[{"diffs":[[0,"y;\r\n        if ("],[1,"settings."],[0,"verbose) console"]],"start1":1175,"start2":1175,"length1":32,"length2":41}]],"length":32224,"saved":false}
{"ts":1374248076531,"patch":[[{"diffs":[[0,"[];\r"],[-1,"\nvar feeling = 'like a robot';\r\nrequest('http://radio.ponyvillelive.com:2199/api.php?xm=server.getstatus&f=json&a[username]=Linana&a[password]=yoloswag', function (error, response, body) {\r\n        if (!error && response.statusCode == 200) {\r\n            body = JSON.parse(body);\r\n            current = body;\r\n        if (settings.verbose) console.log('linaea', body);}});\r"],[0,"\n\r\n/"]],"start1":865,"start2":865,"length1":381,"length2":8},{"diffs":[[0,"\",\r\n"],[-1,"\t"],[1,"    "],[0,"// b"]],"start1":996,"start2":996,"length1":9,"length2":12},{"diffs":[[0,"dj: false,\r\n"],[-1,"}"],[1,"    feeling: 'like a robot'\r\n};\r\n\r\nif (settings.autodj)\r\nrequest('http://radio.ponyvillelive.com:2199/api.php?xm=server.getstatus&f=json&a[username]=Linana&a[password]=yoloswag', function (error, response, body) {\r\n        if (!error && response.statusCode == 200) {\r\n            body = JSON.parse(body);\r\n            current = body;\r\n        if (settings.verbose) console.log('linaea', body);}})"],[0,";\r\n\r\n// Crea"]],"start1":1225,"start2":1225,"length1":25,"length2":420}]],"length":32249,"saved":false}
{"ts":1374248078762,"patch":[[{"diffs":[[0,"on: true"],[-1,","],[0,"\r\n};\r\n\r\n"]],"start1":1070,"start2":1070,"length1":17,"length2":16}]],"length":32248,"saved":false}
{"ts":1374248099831,"patch":[[{"diffs":[[0,"            if ("],[1,"settings."],[0,"verbose) sonia.s"]],"start1":2133,"start2":2133,"length1":32,"length2":41}]],"length":32257,"saved":false}
{"ts":1374248106552,"patch":[[{"diffs":[[0," {\r\n        if ("],[1,"settings."],[0,"verbose) console"]],"start1":3556,"start2":3556,"length1":32,"length2":41}]],"length":32266,"saved":false}
{"ts":1374248116647,"patch":[[{"diffs":[[0,"            "],[1,"settings."],[0,"notify = !no"]],"start1":5245,"start2":5245,"length1":24,"length2":33},{"diffs":[[0,"tify = !"],[1,"settings."],[0,"notify;\r"]],"start1":5268,"start2":5268,"length1":16,"length2":25}]],"length":32284,"saved":false}
{"ts":1374248167876,"patch":[[{"diffs":[[0,"ue;message='';\r\n"],[1,"        } else if (message.match(/^set /i)) {\r\n"],[0,"        } else i"]],"start1":4905,"start2":4905,"length1":32,"length2":79}]],"length":32331,"saved":false}
{"ts":1374248187302,"patch":[[{"diffs":[[0,"h(/^set /i)) {\r\n"],[1,"            sonia.whois(from, function (info) {\r\n                if ((info.channels && info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) || from == 'linaea') {\r\n                    settings.notify = !settings.notify;\r\n                    sonia.say((to==config.botName?from:to), 'Notifications '+(notify?'on':'off'));\r\n                } else {\r\n                    sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n            proc=true;message='';\r\n"],[0,"        } else i"]],"start1":4952,"start2":4952,"length1":32,"length2":628}]],"length":32927,"saved":false}
{"ts":1374248226593,"patch":[[{"diffs":[[0,"h(/^set /i)) {\r\n"],[1,"            var setting = message.match(/ (.*)/i);\r\n"],[0,"            soni"]],"start1":4952,"start2":4952,"length1":32,"length2":84}]],"length":32979,"saved":false}
{"ts":1374248248800,"patch":[[{"diffs":[[0,"e?from:to), "],[-1,"'Notifications"],[1,"setting+'"],[0," '+(notify?'"]],"start1":5384,"start2":5384,"length1":38,"length2":33}]],"length":32974,"saved":false}
{"ts":1374248274969,"patch":[[{"diffs":[[0,"        settings"],[-1,".notify"],[1,"[setting]"],[0," = !settings.not"]],"start1":5291,"start2":5291,"length1":39,"length2":41},{"diffs":[[0,"ng] = !settings."],[-1,"notify"],[1,"[setting]"],[0,";\r\n             "]],"start1":5313,"start2":5313,"length1":38,"length2":41},{"diffs":[[0,"etting+' '+("],[-1,"notify"],[1,"settings[setting]"],[0,"?'on':'off')"]],"start1":5402,"start2":5402,"length1":30,"length2":41}]],"length":32990,"saved":false}
{"ts":1374248280249,"patch":[[{"diffs":[[0,"settings"],[-1,"."],[0,"[setting"]],"start1":5320,"start2":5320,"length1":17,"length2":16}]],"length":32989,"saved":false}
{"ts":1374248304175,"patch":[[{"diffs":[[0,"';\r\n"],[-1,"        } else if (message.match(/^no(?:tify| |$)/i)) {\r\n            sonia.whois(from, function (info) {\r\n                if ((info.channels && info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) || from == 'linaea') {\r\n                    settings.notify = !settings.notify;\r\n                    sonia.say((to==config.botName?from:to), 'Notifications '+(notify?'on':'off'));\r\n                } else {\r\n                    sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n            proc=true;message='';\r\n"],[0,"    "]],"start1":5622,"start2":5622,"length1":661,"length2":8}]],"length":32336,"saved":false}
{"ts":1374248617024,"patch":[[{"diffs":[[0,"';\r\n"],[-1,"        } else if (message.match(/^i(?:ntroduce|$)/i)) {\r\n            sonia.whois(from, function (info) {\r\n                if ((info.channels && info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) || from == 'linaea') {\r\n                    introduce = !introduce;\r\n                    sonia.say((to==config.botName?from:to), 'Introductions '+(introduce?'on':'off'));\r\n                } else {\r\n                    sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n            proc=true;message='';\r\n"],[0,"    "]],"start1":5622,"start2":5622,"length1":653,"length2":8},{"diffs":[[0,"(/ (.*)$/i)) {\r\n"],[1,""],[0,"            var "]],"start1":5696,"start2":5696,"length1":32,"length2":32},{"diffs":[[0,"';\r\n"],[-1,"        } else if (message.match(/^f(?:eel| |$)/i) && message.match(/ (.*)/i)) {\r\n            var feel = message;\r\n            sonia.whois(from, function (info) {\r\n                if ((info.channels && info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) || from == 'linaea') {\r\n                    feeling = feel.match(/ (.*)/i)[1];\r\n                } else {\r\n                    sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n            proc=true;message='';\r\n"],[0,"    "]],"start1":8822,"start2":8822,"length1":618,"length2":8},{"diffs":[[0,"';\r\n"],[-1,"        } else if (message.match(/^v(?:erbose)$/i)) {\r\n            sonia.whois(from, function (info) {\r\n                if ((info.channels && info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) || from == 'linaea') {\r\n                    verbose=!verbose;\r\n                    sonia.say((to==config.botName?from:to), 'verbose: '+verbose);\r\n                } else {\r\n                    sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n            proc=true;message='';\r\n        } else if (message.match(/^di(?:sable| |$)/i)) {\r\n            sonia.whois(from, function (info) {\r\n                if ((info.channels && info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) || from == 'linaea') {\r\n                    disabled=!disabled;\r\n                    sonia.say((to==config.botName?from:to), 'Disabled: '+disabled);\r\n                } else {\r\n                    sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n            proc=true;message='';\r\n"],[0,"    "]],"start1":9531,"start2":9531,"length1":1247,"length2":8},{"diffs":[[0,"        };\r\n"],[-1,""],[0,"            "]],"start1":12236,"start2":12236,"length1":24,"length2":24},{"diffs":[[0,"            if ("],[1,"settings."],[0,"verbose) console"]],"start1":12256,"start2":12256,"length1":32,"length2":41}]],"length":29851,"saved":false}
{"ts":1374248914089,"patch":[[{"diffs":[[0,"            if ("],[1,"settings."],[0,"verbose) console"]],"start1":15627,"start2":15627,"length1":32,"length2":41},{"diffs":[[0,"le.log(s);\r\n"],[-1,""],[0,"            "]],"start1":15666,"start2":15666,"length1":24,"length2":24},{"diffs":[[0,"            if ("],[1,"settings."],[0,"verbose) console"]],"start1":15910,"start2":15910,"length1":32,"length2":41},{"diffs":[[0,"a,b,c) {if ("],[1,"settings."],[0,"verbose) con"]],"start1":16324,"start2":16324,"length1":24,"length2":33},{"diffs":[[0,"ole.log("],[-1,"body"],[1,"c"],[0,");});\r\n "]],"start1":16358,"start2":16358,"length1":20,"length2":17},{"diffs":[[0,"y that.');\r\n"],[-1,""],[0,"            "]],"start1":16538,"start2":16538,"length1":24,"length2":24},{"diffs":[[0,"            if ("],[1,"settings."],[0,"verbose) sonia.s"]],"start1":16562,"start2":16562,"length1":32,"length2":41}]],"length":29884,"saved":false}
{"ts":1374248935751,"patch":[[{"diffs":[[0," }\r\n        if ("],[1,"settings."],[0,"verbose) console"]],"start1":18662,"start2":18662,"length1":32,"length2":41}]],"length":29893,"saved":false}
{"ts":1374248951538,"patch":[[{"diffs":[[0,"    if ("],[1,"settings."],[0,"notify) "]],"start1":22303,"start2":22303,"length1":16,"length2":25},{"diffs":[[0,"            if ("],[1,"settings."],[0,"verbose) sonia.s"]],"start1":23167,"start2":23167,"length1":32,"length2":41}]],"length":29911,"saved":false}
{"ts":1374249179353,"patch":[[{"diffs":[[0," db.say[item];\r\n"],[1,"                            while (messagey.match('<.*>')) {\r\n                                \r\n                            }\r\n"],[0,"                "]],"start1":19293,"start2":19293,"length1":32,"length2":159}]],"length":30038,"saved":false}
{"ts":1374249248694,"patch":[[{"diffs":[[0,"tch('<.*"],[1,"?"],[0,">')) {\r\n"]],"start1":19355,"start2":19355,"length1":16,"length2":17},{"diffs":[[0,"                "],[1,"messagey.match('<.*?>')"],[0,"\r\n              "]],"start1":19388,"start2":19388,"length1":32,"length2":55}]],"length":30062,"saved":false}
{"ts":1374249257590,"patch":[[{"diffs":[[0,"gey.match('<"],[-1,"."],[1,"[^ ]"],[0,"*?>')) {\r\n  "]],"start1":19349,"start2":19349,"length1":25,"length2":28},{"diffs":[[0,"match('<"],[-1,"."],[1,"[^ ]"],[0,"*?>')\r\n "]],"start1":19416,"start2":19416,"length1":17,"length2":20}]],"length":30068,"saved":false}
{"ts":1374249265481,"patch":[[{"diffs":[[0,"^ ]*?>')"],[1,"[0]"],[0,"\r\n      "]],"start1":19425,"start2":19425,"length1":16,"length2":19}]],"length":30071,"saved":false}
{"ts":1374249805728,"patch":[[{"diffs":[[0,"                "],[1,"messagey.replace("],[0,"messagey.match('"]],"start1":19391,"start2":19391,"length1":32,"length2":49},{"diffs":[[0,"*?>')[0]"],[1,", settings[messagey.match('<[^ ]*?>')[0]]);"],[0,"\r\n      "]],"start1":19445,"start2":19445,"length1":16,"length2":59}]],"length":30131,"saved":false}
{"ts":1374249811412,"patch":[[{"diffs":[[0," }\r\n"],[-1,"                            messagey = messagey.replace('varFrom', from);\r\n                            messagey = messagey.replace('varFeeling', feeling);\r\n"],[0,"    "]],"start1":19525,"start2":19525,"length1":164,"length2":8}]],"length":29975,"saved":false}
{"ts":1374249833277,"patch":[[{"diffs":[[0,"           if (!"],[1,"settings."],[0,"disabled) {\r\n   "]],"start1":19546,"start2":19546,"length1":32,"length2":41}]],"length":29984,"saved":false}
{"ts":1374249855481,"patch":[[{"diffs":[[0,"    "],[-1,"messagey = messagey.replace('varFrom', from);\r\n                            messagey = messagey.replace('varFeeling', feeling);\r\n                            if (!"],[1,"while (messagey.match('<[^ ]*?>')) {\r\n                                messagey.replace(messagey.match('<[^ ]*?>')[0], settings[messagey.match('<[^ ]*?>')[0]]);\r\n                            }\r\n                            if (!settings."],[0,"disa"]],"start1":19893,"start2":19893,"length1":169,"length2":242}]],"length":30057,"saved":false}
{"ts":1374249867622,"patch":[[{"diffs":[[0,"            if ("],[1,"settings."],[0,"verbose) sonia.s"]],"start1":20515,"start2":20515,"length1":32,"length2":41}]],"length":30066,"saved":false}
{"ts":1374249870715,"patch":[[{"diffs":[[0,"           if (!"],[1,"settins."],[0,"disabled && (fro"]],"start1":20594,"start2":20594,"length1":32,"length2":40}]],"length":30074,"saved":false}
{"ts":1374249875136,"patch":[[{"diffs":[[0,"(!settin"],[1,"g"],[0,"s.disabl"]],"start1":20608,"start2":20608,"length1":16,"length2":17}]],"length":30075,"saved":false}
{"ts":1374250596185,"patch":[[{"diffs":[[0,"    "],[-1,"messagey = messagey.replace('varFrom', from);\r\n                            messagey = messagey.replace('varFeeling', feeling);\r\n                            if (!"],[1,"while (messagey.match('<[^ ]*?>')) {\r\n                                messagey.replace(messagey.match('<[^ ]*?>')[0], settings[messagey.match('<[^ ]*?>')[0]]);\r\n                            }\r\n                            if (!settings."],[0,"disa"]],"start1":26656,"start2":26656,"length1":169,"length2":242},{"diffs":[[0,"    "],[-1,"messagey = messagey.replace('varFrom', from);\r\n                            messagey = messagey.replace('varFeeling', feeling);\r\n                            if (!"],[1,"while (messagey.match('<[^ ]*?>')) {\r\n                                messagey.replace(messagey.match('<[^ ]*?>')[0], settings[messagey.match('<[^ ]*?>')[0]]);\r\n                            }\r\n                            if (!settings."],[0,"disa"]],"start1":27216,"start2":27216,"length1":169,"length2":242}]],"length":30221,"saved":false}
{"ts":1374250611174,"patch":[[{"diffs":[[0,"(new RegExp(item"],[1,"+'event=action'"],[0,", \"i\")) && (db.s"]],"start1":26381,"start2":26381,"length1":32,"length2":47}]],"length":30236,"saved":false}
{"ts":1374250622305,"patch":[[{"diffs":[[0,"p(item+'"],[1,"\\|"],[0,"event=ac"]],"start1":26391,"start2":26391,"length1":16,"length2":18}]],"length":30238,"saved":false}
{"ts":1374250625696,"patch":[[{"diffs":[[0,"(item+'\\"],[1,"\\"],[0,"|event=a"]],"start1":26392,"start2":26392,"length1":16,"length2":17}]],"length":30239,"saved":false}
{"ts":1374250654873,"patch":[[{"diffs":[[0,"            if ("],[1,"settings."],[0,"verbose) sonia.s"]],"start1":27827,"start2":27827,"length1":32,"length2":41},{"diffs":[[0,"   if (!"],[1,"settings."],[0,"disabled"]],"start1":27914,"start2":27914,"length1":16,"length2":25},{"diffs":[[0,"        if ("],[1,"settings."],[0,"verbose) son"]],"start1":28105,"start2":28105,"length1":24,"length2":33}]],"length":30266,"saved":false}
{"ts":1374250660089,"patch":[[{"diffs":[[0,"    if ("],[1,"settings."],[0,"introduc"]],"start1":29451,"start2":29451,"length1":16,"length2":25}]],"length":30275,"saved":false}
{"ts":1374251653337,"patch":[[{"diffs":[[0,"c';\r"],[-1,"\nvar chan = '#SonicRadioboom';\r"],[0,"\n\r\nv"]],"start1":738,"start2":738,"length1":39,"length2":8},{"diffs":[[0,"nnels: ["],[-1,"chan"],[1,"'#SonicRadioboom'"],[0,", '#SRBT"]],"start1":906,"start2":906,"length1":20,"length2":33}]],"length":30257,"saved":false}
{"ts":1374251804108,"patch":[[{"diffs":[[0,"\r\n\r\n"],[-1,"if (settings.autodj)\r\nrequest('http://radio.ponyvillelive.com:2199/api.php?xm=server.getstatus&f=json&a[username]=Linana&a[password]=yoloswag', function (error, response, body) {\r\n        if (!error && response.statusCode == 200) {\r\n            body = JSON.parse(body);\r\n            current = body;\r\n        if (settings.verbose) console.log('linaea', body);}});\r\n\r\n"],[0,"// C"]],"start1":1249,"start2":1249,"length1":374,"length2":8}]],"length":29891,"saved":false}
{"ts":1374252116978,"patch":[[{"diffs":[[0,".action("],[-1,"chan"],[1,"'#SonicRadioboom'"],[0,", action"]],"start1":5647,"start2":5647,"length1":20,"length2":33},{"diffs":[[0,"onia.action("],[-1,"chan"],[1,"'#SonicRadioboom'"],[0,", ' hugs '+("]],"start1":5953,"start2":5953,"length1":28,"length2":41},{"diffs":[[0,".action("],[-1,"chan"],[1,"'#SonicRadioboom'"],[0,", ' poke"]],"start1":6189,"start2":6189,"length1":20,"length2":33},{"diffs":[[0,"nia.say("],[-1,"chan"],[1,"'#SonicRadioboom'"],[0,", say.ma"]],"start1":8255,"start2":8255,"length1":20,"length2":33},{"diffs":[[0,"      sonia.say("],[-1,"chan"],[1,"(to==config.botName?from:to)"],[0,", from+': Does t"]],"start1":12191,"start2":12191,"length1":36,"length2":60},{"diffs":[[0,"nia.say("],[-1,"chan"],[1,"(to==config.botName?from:to)"],[0,", from+'"]],"start1":12553,"start2":12553,"length1":20,"length2":44},{"diffs":[[0,"      sonia.say("],[-1,"chan"],[1,"(to==config.botName?from:to)"],[0,", 'Next event '+"]],"start1":12925,"start2":12925,"length1":36,"length2":60}]],"length":30015,"saved":false}
{"ts":1374252136116,"patch":[[{"diffs":[[0,"  sonia.say("],[-1,"chan"],[1,"(to==config.botName?from:to)"],[0,", 'Current S"]],"start1":3697,"start2":3697,"length1":28,"length2":52},{"diffs":[[0,"nia.say("],[-1,"chan"],[1,"(to==config.botName?from:to)"],[0,", 'Liste"]],"start1":3909,"start2":3909,"length1":20,"length2":44},{"diffs":[[0,"nia.say("],[-1,"chan"],[1,"(to==config.botName?from:to)"],[0,", \"Last "]],"start1":4140,"start2":4140,"length1":20,"length2":44},{"diffs":[[0,"nia.say("],[-1,"chan"],[1,"(to==config.botName?from:to)"],[0,",\r\n     "]],"start1":4407,"start2":4407,"length1":20,"length2":44}]],"length":30111,"saved":false}
{"ts":1374252147610,"patch":[[{"diffs":[[0,"nia.say("],[-1,"chan"],[1,"(to==config.botName?from:to)"],[0,", 'Comin"]],"start1":15927,"start2":15927,"length1":20,"length2":44},{"diffs":[[0,"nia.say("],[-1,"chan"],[1,"(to==config.botName?from:to)"],[0,", 'I tri"]],"start1":16331,"start2":16331,"length1":20,"length2":44}]],"length":30159,"saved":false}
{"ts":1374252170586,"patch":[[{"diffs":[[0,"; sonia.say("],[-1,"chan"],[1,"'#SonicRadioboom'"],[0,", 'Next even"]],"start1":21325,"start2":21325,"length1":28,"length2":41}]],"length":30172,"saved":false}
{"ts":1374252190952,"patch":[[{"diffs":[[0,"nia.say("],[-1,"chan"],[1,"'#SonicRadioboom'"],[0,", 'New S"]],"start1":22418,"start2":22418,"length1":20,"length2":33},{"diffs":[[0,"      sonia.say("],[-1,"chan"],[1,"'#SonicRadioboom'"],[0,", db.say[body.re"]],"start1":24233,"start2":24233,"length1":36,"length2":49}]],"length":30198,"saved":false}
{"ts":1374252309427,"patch":[[{"diffs":[[0,"      sonia.say("],[-1,"chan"],[1,"'#SonicRadioboom'"],[0,", db.say[newnick"]],"start1":28649,"start2":28649,"length1":36,"length2":49},{"diffs":[[0,"ia.kick("],[-1,"chan"],[1,"'#SonicRadioboom'"],[0,", nick, "]],"start1":28863,"start2":28863,"length1":20,"length2":33},{"diffs":[[0,"hannel=="],[-1,"chan"],[1,"'#SonicRadioboom'"],[0," && nick"]],"start1":28940,"start2":28940,"length1":20,"length2":33},{"diffs":[[0,"nia.say("],[-1,"chan"],[1,"'#SonicRadioboom'"],[0,", 'Welco"]],"start1":29068,"start2":29068,"length1":20,"length2":33},{"diffs":[[0,"nia.say("],[-1,"chan"],[1,"'#SonicRadioboom'"],[0,", db.say"]],"start1":29222,"start2":29222,"length1":20,"length2":33},{"diffs":[[0,"nia.say("],[-1,"chan"],[1,"'#SonicRadioboom'"],[0,", 'Haven"]],"start1":29341,"start2":29341,"length1":20,"length2":33},{"diffs":[[0,"me to '+"],[-1,"chan"],[1,"'#SonicRadioboom'"],[0,"+'! The "]],"start1":29521,"start2":29521,"length1":20,"length2":33}]],"length":30289,"saved":false}
{"contributors":[],"silentsave":false,"ts":1374263129089,"patch":[[{"diffs":[[0,"            if ("],[-1,"!"],[0,"item.match('even"]],"start1":26392,"start2":26392,"length1":33,"length2":32},{"diffs":[[0,"item.match('"],[1,"\\\\|"],[0,"event"],[1,"=action"],[0,"')) {\r\n     "]],"start1":26408,"start2":26408,"length1":29,"length2":39}]],"length":30298,"saved":false}
{"ts":1374282176022,"patch":[[{"diffs":[[0,"e);\r\n    }\r\n"],[1,"    preprocessor.forEach(function (item, a, b) {\r\n        if (message.match(preprocessor[item].find)) {\r\n            message = message.replace(preprocesser[item].find, preprocessor[item].replace);\r\n        }\r\n    });\r\n"],[0,"    // if (m"]],"start1":2931,"start2":2931,"length1":24,"length2":242}]],"length":30516,"saved":false}
{"ts":1374284841260,"patch":[[{"diffs":[[0,"song = {};\r\n"],[1,"if (!db.pp)   db.pp   = {};\r\n"],[0,"if (Object.k"]],"start1":473,"start2":473,"length1":24,"length2":53}]],"length":30545,"saved":false}
{"ts":1374284904321,"patch":[[{"diffs":[[0," }\r\n    "],[-1,"preprocessor"],[1,"db.pp"],[0,".forEach"]],"start1":2968,"start2":2968,"length1":28,"length2":21},{"diffs":[[0,"e.match("],[-1,"preprocessor"],[1,"db.pp"],[0,"[item].f"]],"start1":3033,"start2":3033,"length1":28,"length2":21},{"diffs":[[0,"ace("],[-1,"preprocesser"],[1,"db.pp"],[0,"[ite"]],"start1":3097,"start2":3097,"length1":20,"length2":13},{"diffs":[[0,"nd, "],[-1,"preprocessor"],[1,"db.pp"],[0,"[ite"]],"start1":3115,"start2":3115,"length1":20,"length2":13}]],"length":30517,"saved":false}
{"ts":1374284932729,"patch":[[{"diffs":[[0,"pp   = {};\r\n"],[1,"if (!db.cmd)  db.cmd  = {};\r\n\r\n"],[0,"if (Object.k"]],"start1":502,"start2":502,"length1":24,"length2":55}]],"length":30548,"saved":false}
{"ts":1374285184728,"patch":[[{"diffs":[[0,"rc\r\nvar "],[-1,"config"],[1,"settings"],[0," = {\r\n  "]],"start1":939,"start2":939,"length1":22,"length2":24},{"diffs":[[0,"ue\r\n"],[-1,"};\r\n\r\n// Create settings stuff\r\nvar settings = {\r\n"],[0,"    "]],"start1":1120,"start2":1120,"length1":58,"length2":8},{"diffs":[[0,".Client("],[-1,"config"],[1,"settings"],[0,".server,"]],"start1":1303,"start2":1303,"length1":22,"length2":24},{"diffs":[[0,"server, "],[-1,"config"],[1,"settings"],[0,".botName"]],"start1":1320,"start2":1320,"length1":22,"length2":24},{"diffs":[[0,"annels: "],[-1,"config"],[1,"settings"],[0,".channel"]],"start1":1355,"start2":1355,"length1":22,"length2":24}]],"length":30506,"saved":false}
{"ts":1374285188222,"patch":[[{"diffs":[[0,"on: true"],[1,","],[0,"\r\n    no"]],"start1":1114,"start2":1114,"length1":16,"length2":17}]],"length":30507,"saved":false}
{"ts":1374285204793,"patch":[[{"diffs":[[0,"ate the "],[-1,"config"],[1,"settings"],[0,"uration "]],"start1":907,"start2":907,"length1":22,"length2":24},{"diffs":[[0,"e;\r\n    if (to!="],[-1,"config"],[1,"settings"],[0,".botName) {\r\n   "]],"start1":2670,"start2":2670,"length1":38,"length2":40},{"diffs":[[0," (to == "],[-1,"config"],[1,"settings"],[0,".botName"]],"start1":2852,"start2":2852,"length1":22,"length2":24},{"diffs":[[0,"    || grom[0]=="],[-1,"config"],[1,"settings"],[0,".botName || to=="]],"start1":3309,"start2":3309,"length1":38,"length2":40},{"diffs":[[0,".botName || to=="],[-1,"config"],[1,"settings"],[0,".botName) && fro"]],"start1":3333,"start2":3333,"length1":38,"length2":40},{"diffs":[[0,"tName) && from!="],[-1,"config"],[1,"settings"],[0,".botName) {\r\n   "]],"start1":3360,"start2":3360,"length1":38,"length2":40},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":3919,"start2":3919,"length1":38,"length2":40},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":4129,"start2":4129,"length1":38,"length2":40},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":4362,"start2":4362,"length1":38,"length2":40},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":4631,"start2":4631,"length1":38,"length2":40},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":5300,"start2":5300,"length1":38,"length2":40},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":7108,"start2":7108,"length1":38,"length2":40},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":7867,"start2":7867,"length1":38,"length2":40},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":9276,"start2":9276,"length1":38,"length2":40},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":11484,"start2":11484,"length1":38,"length2":40},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":12531,"start2":12531,"length1":38,"length2":40},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":12887,"start2":12887,"length1":38,"length2":40},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":13269,"start2":13269,"length1":38,"length2":40},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":13816,"start2":13816,"length1":38,"length2":40},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":14387,"start2":14387,"length1":38,"length2":40},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":14731,"start2":14731,"length1":38,"length2":40},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":15256,"start2":15256,"length1":38,"length2":40},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":16177,"start2":16177,"length1":38,"length2":40},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":16583,"start2":16583,"length1":38,"length2":40},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":17370,"start2":17370,"length1":38,"length2":40},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":17559,"start2":17559,"length1":38,"length2":40},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":17783,"start2":17783,"length1":38,"length2":40},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":18012,"start2":18012,"length1":38,"length2":40},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":18167,"start2":18167,"length1":38,"length2":40},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":18669,"start2":18669,"length1":38,"length2":40},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":19768,"start2":19768,"length1":38,"length2":40},{"diffs":[[0,"nia.action((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":20333,"start2":20333,"length1":38,"length2":40},{"diffs":[[0,"abled && (from!="],[-1,"config"],[1,"settings"],[0,".botName&&grom[0"]],"start1":20779,"start2":20779,"length1":38,"length2":40},{"diffs":[[0,"rom[0]!="],[-1,"config"],[1,"settings"],[0,".botName"]],"start1":20814,"start2":20814,"length1":22,"length2":24},{"diffs":[[0," sonia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":20869,"start2":20869,"length1":38,"length2":40},{"diffs":[[0,"if (to!="],[-1,"config"],[1,"settings"],[0,".botName"]],"start1":25611,"start2":25611,"length1":22,"length2":24},{"diffs":[[0,"rom[0]=="],[-1,"config"],[1,"settings"],[0,".botName"]],"start1":25871,"start2":25871,"length1":22,"length2":24},{"diffs":[[0,"Name || to=="],[-1,"config"],[1,"settings"],[0,".botName) &&"]],"start1":25891,"start2":25891,"length1":30,"length2":32},{"diffs":[[0,"e) && from!="],[-1,"config"],[1,"settings"],[0,".botName) {\r"]],"start1":25918,"start2":25918,"length1":30,"length2":32},{"diffs":[[0,"ia.say((to=="],[-1,"config"],[1,"settings"],[0,".botName?fro"]],"start1":27179,"start2":27179,"length1":30,"length2":32},{"diffs":[[0,"nia.action((to=="],[-1,"config"],[1,"settings"],[0,".botName?from:to"]],"start1":27740,"start2":27740,"length1":38,"length2":40},{"diffs":[[0," (from!="],[-1,"config"],[1,"settings"],[0,".botName"]],"start1":28165,"start2":28165,"length1":22,"length2":24},{"diffs":[[0,"on((to=="],[-1,"config"],[1,"settings"],[0,".botName"]],"start1":28231,"start2":28231,"length1":22,"length2":24},{"diffs":[[0,"ck!="],[-1,"config"],[1,"settings"],[0,".bot"]],"start1":29275,"start2":29275,"length1":14,"length2":16}]],"length":30595,"saved":false}
{"ts":1374285357122,"patch":[[{"diffs":[[0,"annels\r\n});\r"],[1,"\nfunction updateSong() {\r\n        request('http://radio.ponyvillelive.com:2199/api.php?xm=server.getstatus&f=json&a[username]=Linana&a[password]=yoloswag', function (error, response, body) {\r\n            if (!error && response.statusCode == 200) {\r\n                body = JSON.parse(body);\r\n                // if (verbose) console.log('linaea', body);\r\n                if (current && (JSON.stringify(current.response.data.status.currentsong) != JSON.stringify(body.response.data.status.currentsong))) {\r\n                    if (settings.notify) {\r\n                        sonia.say('#SonicRadioboom', 'New Song: '+body.response.data.status.currentsong);\r\n                    }\r\n                    if (!moment(next.start.dateTime).fromNow().match(\"ago\") && upnext.length !== 0 || body.response.data.status.currentsong.match(lastplayed[lastplayed.length-2])) {\r\n                        request('http://radio.ponyvillelive.com:2199/api.php?xm=server.playlist&f=json&a[username]=Linana&a[password]=yoloswag&action=remove&playlistname=Temp&trackname='+lastplayed.push(upnext.pop()), function (a,b,c) {\r\n                        });\r\n                    }\r\n                    if (upnext.length===0 && settings.autodj)\r\n                        getRandomLine('db.txt', function (err, line) {\r\n                            line=line.trim();\r\n                            upnext.push(line);\r\n                            if (settings.verbose) sonia.say('linaea', line+' up next!');\r\n                            request('http://radio.ponyvillelive.com:2199/api.php?xm=server.playlist&f=json&a[username]=Linana&a[password]=yoloswag&a[action]=add&a[playlistname]=Temp&a[trackname]='\r\n                            +line, function (a,b,c) {if (JSON.parse(c).type!=\"successs\") {sonia.say('linaea', \"There was an error adding '\"+line+\"' to the playlist. Debugging data: \"+body);} })}); // TODO Change the song picker to be non-random\r\nrequest('http://radio.ponyvillelive.com:2199/api.php?xm=server.playlist&f=json&a[username]=Linana&a[password]=yoloswag&a[action]=deactivate&a[playlistname]=Temp', function (a,b,c) {request('http://radio.ponyvillelive.com:2199/api.php?xm=server.playlist&f=json&a[username]=Linana&a[password]=yoloswag&a[action]=activate&a[playlistname]=Temp', function (a,b,c) {});});\r\n                    if (db.say[body.response.data.status.currentsong+'|event=song']) {\r\n                        sonia.say('#SonicRadioboom', db.say[body.response.data.status.currentsong+'|event=song']);\r\n                    }\r\n                }\r\n                current = body;\r\n}\r\nsetTimeout(updateSong, 1000);\r\n});\r\n}\r"],[0,"\n\r\nsonia.add"]],"start1":1377,"start2":1377,"length1":24,"length2":2627},{"diffs":[[0,".version);\r\n"],[1,"    updateSong();\r\n"],[0,"    sonia.sa"]],"start1":4129,"start2":4129,"length1":24,"length2":43},{"diffs":[[0,");\r\n"],[-1,"    request('http://radio.ponyvillelive.com:2199/api.php?xm=server.getstatus&f=json&a[username]=Linana&a[password]=yoloswag', function (error, response, body) {\r\n            if (!error && response.statusCode == 200) {\r\n                body = JSON.parse(body);\r\n                // if (verbose) console.log('linaea', body);\r\n                if (current && (JSON.stringify(current.response.data.status.currentsong) != JSON.stringify(body.response.data.status.currentsong))) {\r\n                    if (settings.notify) {\r\n                        sonia.say('#SonicRadioboom', 'New Song: '+body.response.data.status.currentsong);\r\n                    }\r\n                    if (!moment(next.start.dateTime).fromNow().match(\"ago\") && upnext.length !== 0 || body.response.data.status.currentsong.match(lastplayed[lastplayed.length-2])) {\r\n                        request('http://radio.ponyvillelive.com:2199/api.php?xm=server.playlist&f=json&a[username]=Linana&a[password]=yoloswag&action=remove&playlistname=Temp&trackname='+lastplayed.push(upnext.pop()), function (a,b,c) {\r\n                        });\r\n                    }\r\n                    if (upnext.length===0 && settings.autodj)\r\n                        getRandomLine('db.txt', function (err, line) {\r\n                            line=line.trim();\r\n                            upnext.push(line);\r\n                            if (settings.verbose) sonia.say('linaea', line+' up next!');\r\n                            request('http://radio.ponyvillelive.com:2199/api.php?xm=server.playlist&f=json&a[username]=Linana&a[password]=yoloswag&a[action]=add&a[playlistname]=Temp&a[trackname]='\r\n                            +line, function (a,b,c) {if (JSON.parse(c).type!=\"successs\") {sonia.say('linaea', \"There was an error adding '\"+line+\"' to the playlist. Debugging data: \"+body);} })}); // TODO Change the song picker to be non-random\r\nrequest('http://radio.ponyvillelive.com:2199/api.php?xm=server.playlist&f=json&a[username]=Linana&a[password]=yoloswag&a[action]=deactivate&a[playlistname]=Temp', function (a,b,c) {request('http://radio.ponyvillelive.com:2199/api.php?xm=server.playlist&f=json&a[username]=Linana&a[password]=yoloswag&a[action]=activate&a[playlistname]=Temp', function (a,b,c) {});});\r\n                    if (db.say[body.response.data.status.currentsong+'|event=song']) {\r\n                        sonia.say('#SonicRadioboom', db.say[body.response.data.status.currentsong+'|event=song']);\r\n                    }\r\n                }\r\n                current = body;\r\n}});\r\n"],[0,"}, 1"]],"start1":24771,"start2":24771,"length1":2546,"length2":8}]],"length":30679,"saved":false}
{"ts":1374285374966,"patch":[[{"diffs":[[0,");\r\n"],[-1,"                // if (verbose) console.log('linaea', body);\r\n"],[0,"    "]],"start1":1676,"start2":1676,"length1":70,"length2":8}]],"length":30617,"saved":false}
{"ts":1374285399799,"patch":[[{"diffs":[[0,"});\r"],[-1,"\nfunction updateSong() {\r\n        request('http://radio.ponyvillelive.com:2199/api.php?xm=server.getstatus&f=json&a[username]=Linana&a[password]=yoloswag', function (error, response, body) {\r\n            if (!error && response.statusCode == 200) {\r\n                body = JSON.parse(body);\r\n                if (current && (JSON.stringify(current.response.data.status.currentsong) != JSON.stringify(body.response.data.status.currentsong))) {\r\n                    if (settings.notify) {\r\n                        sonia.say('#SonicRadioboom', 'New Song: '+body.response.data.status.currentsong);\r\n                    }\r\n                    if (!moment(next.start.dateTime).fromNow().match(\"ago\") && upnext.length !== 0 || body.response.data.status.currentsong.match(lastplayed[lastplayed.length-2])) {\r\n                        request('http://radio.ponyvillelive.com:2199/api.php?xm=server.playlist&f=json&a[username]=Linana&a[password]=yoloswag&action=remove&playlistname=Temp&trackname='+lastplayed.push(upnext.pop()), function (a,b,c) {\r\n                        });\r\n                    }\r\n                    if (upnext.length===0 && settings.autodj)\r\n                        getRandomLine('db.txt', function (err, line) {\r\n                            line=line.trim();\r\n                            upnext.push(line);\r\n                            if (settings.verbose) sonia.say('linaea', line+' up next!');\r\n                            request('http://radio.ponyvillelive.com:2199/api.php?xm=server.playlist&f=json&a[username]=Linana&a[password]=yoloswag&a[action]=add&a[playlistname]=Temp&a[trackname]='\r\n                            +line, function (a,b,c) {if (JSON.parse(c).type!=\"successs\") {sonia.say('linaea', \"There was an error adding '\"+line+\"' to the playlist. Debugging data: \"+body);} })}); // TODO Change the song picker to be non-random\r\nrequest('http://radio.ponyvillelive.com:2199/api.php?xm=server.playlist&f=json&a[username]=Linana&a[password]=yoloswag&a[action]=deactivate&a[playlistname]=Temp', function (a,b,c) {request('http://radio.ponyvillelive.com:2199/api.php?xm=server.playlist&f=json&a[username]=Linana&a[password]=yoloswag&a[action]=activate&a[playlistname]=Temp', function (a,b,c) {});});\r\n                    if (db.say[body.response.data.status.currentsong+'|event=song']) {\r\n                        sonia.say('#SonicRadioboom', db.say[body.response.data.status.currentsong+'|event=song']);\r\n                    }\r\n                }\r\n                current = body;\r\n}\r\nsetTimeout(updateSong, 1000);\r\n});\r\n}\r"],[0,"\n\r\ns"]],"start1":1385,"start2":1385,"length1":2549,"length2":8},{"diffs":[[0,";\r\n}\r\n\r\n"],[1,"function updateSong() {\r\n        request('http://radio.ponyvillelive.com:2199/api.php?xm=server.getstatus&f=json&a[username]=Linana&a[password]=yoloswag', function (error, response, body) {\r\n            if (!error && response.statusCode == 200) {\r\n                body = JSON.parse(body);\r\n                if (current && (JSON.stringify(current.response.data.status.currentsong) != JSON.stringify(body.response.data.status.currentsong))) {\r\n                    if (settings.notify) {\r\n                        sonia.say('#SonicRadioboom', 'New Song: '+body.response.data.status.currentsong);\r\n                    }\r\n                    if (!moment(next.start.dateTime).fromNow().match(\"ago\") && upnext.length !== 0 || body.response.data.status.currentsong.match(lastplayed[lastplayed.length-2])) {\r\n                        request('http://radio.ponyvillelive.com:2199/api.php?xm=server.playlist&f=json&a[username]=Linana&a[password]=yoloswag&action=remove&playlistname=Temp&trackname='+lastplayed.push(upnext.pop()), function (a,b,c) {\r\n                        });\r\n                    }\r\n                    if (upnext.length===0 && settings.autodj)\r\n                        getRandomLine('db.txt', function (err, line) {\r\n                            line=line.trim();\r\n                            upnext.push(line);\r\n                            if (settings.verbose) sonia.say('linaea', line+' up next!');\r\n                            request('http://radio.ponyvillelive.com:2199/api.php?xm=server.playlist&f=json&a[username]=Linana&a[password]=yoloswag&a[action]=add&a[playlistname]=Temp&a[trackname]='\r\n                            +line, function (a,b,c) {if (JSON.parse(c).type!=\"successs\") {sonia.say('linaea', \"There was an error adding '\"+line+\"' to the playlist. Debugging data: \"+body);} })}); // TODO Change the song picker to be non-random\r\nrequest('http://radio.ponyvillelive.com:2199/api.php?xm=server.playlist&f=json&a[username]=Linana&a[password]=yoloswag&a[action]=deactivate&a[playlistname]=Temp', function (a,b,c) {request('http://radio.ponyvillelive.com:2199/api.php?xm=server.playlist&f=json&a[username]=Linana&a[password]=yoloswag&a[action]=activate&a[playlistname]=Temp', function (a,b,c) {});});\r\n                    if (db.say[body.response.data.status.currentsong+'|event=song']) {\r\n                        sonia.say('#SonicRadioboom', db.say[body.response.data.status.currentsong+'|event=song']);\r\n                    }\r\n                }\r\n                current = body;\r\n}\r\nsetTimeout(updateSong, 1000);\r\n});\r\n}\r\n\r\n\r\n"],[0,"setInter"]],"start1":21744,"start2":21744,"length1":16,"length2":2561}]],"length":30621,"saved":false}
{"ts":1374286925547,"patch":[[{"diffs":[[0,"uote');\r"],[1,"\nvar EventEmitter = require(\"events\").EventEmitter\r\nvar emitter = new EventEmitter();\r"],[0,"\n\r\nvar d"]],"start1":209,"start2":209,"length1":16,"length2":102},{"diffs":[[0,"{};\r"],[-1,"\nif (!db.cmd)  db.cmd  = {};\r"],[0,"\n\r\ni"]],"start1":595,"start2":595,"length1":37,"length2":8},{"diffs":[[0,"},5000);"],[1,"\r\n                        emitter.on('listeners', onListener());\r\n                        "],[0,"});\r\n\r\ns"]],"start1":2647,"start2":2647,"length1":16,"length2":106},{"diffs":[[0,"s the /i, '');\r\n"],[1,"        event.emit(message.match(/^(.*?) /)[1], message);\r\n"],[0,"        if (mess"]],"start1":4010,"start2":4010,"length1":32,"length2":91}]],"length":30827,"saved":false}
{"ts":1374287241299,"patch":[[{"diffs":[[0,"wag');\r\n"],[-1,"                    "],[0,"    getR"]],"start1":1655,"start2":1655,"length1":36,"length2":16},{"diffs":[[0,"ine) {\r\n"],[-1,"                    "],[0,"        "]],"start1":1707,"start2":1707,"length1":36,"length2":16},{"diffs":[[0,"rim();\r\n"],[-1,"                    "],[0,"        "]],"start1":1734,"start2":1734,"length1":36,"length2":16},{"diffs":[[0,"line);\r\n"],[-1,"                    "],[0,"        "]],"start1":1762,"start2":1762,"length1":36,"length2":16},{"diffs":[[0,"xt!');\r\n"],[-1,"                    "],[0,"        "]],"start1":1832,"start2":1832,"length1":36,"length2":16},{"diffs":[[0,"ame]='\r\n"],[-1,"                    "],[0,"        "]],"start1":2011,"start2":2011,"length1":36,"length2":16},{"diffs":[[0,"random\r\n"],[-1,"                    "],[0,"        "]],"start1":2099,"start2":2099,"length1":36,"length2":16},{"diffs":[[0,"    "],[-1,"                    },5000);\r\n                    "],[1,"},5000);\r\n"],[0,"    "]],"start1":2483,"start2":2483,"length1":58,"length2":18},{"diffs":[[0,"s', "],[-1,"onL"],[1,"l"],[0,"istener"],[-1,"());\r\n                        });"],[1,"s(from, to, message));\r\n    emmiter.on('')\r\n});\r\n\r\nfunction listeners(from, to, message) {\r\n    sonia.say((to==settings.botName?from:to), 'Listeners: '+current.response.data.status.listenercount);\r\n}"],[0,"\r\n\r\n"]],"start1":2521,"start2":2521,"length1":51,"length2":215},{"diffs":[[0,"s the /i, '');\r\n"],[1,"        \r\n"],[0,"        event.em"]],"start1":3994,"start2":3994,"length1":32,"length2":42},{"diffs":[[0,"[1], message);\r\n"],[1,"        \r\n"],[0,"        if (mess"]],"start1":4063,"start2":4063,"length1":32,"length2":42}]],"length":30831,"saved":false}
{"ts":1374287259937,"patch":[[{"diffs":[[0,"ter.on('"],[-1,"')"],[1,"song', song(from, to, message));"],[0,"\r\n});\r\n\r"]],"start1":2565,"start2":2565,"length1":18,"length2":48}]],"length":30861,"saved":false}
{"ts":1374287270549,"patch":[[{"diffs":[[0,"\r\n    em"],[-1,"m"],[0,"i"],[1,"t"],[0,"ter.on('"]],"start1":2555,"start2":2555,"length1":18,"length2":18}]],"length":30861,"saved":false}
{"ts":1374287365001,"patch":[[{"diffs":[[0,"unction "],[-1,"listeners"],[1,"reply"],[0,"(from, t"]],"start1":2615,"start2":2615,"length1":25,"length2":21},{"diffs":[[0,"otName?from:to),"],[1," message);\r\n}\r\n\r\nfunction listeners(from, to, message) {\r\n    reply(from, to,"],[0," 'Listeners: '+c"]],"start1":2680,"start2":2680,"length1":32,"length2":109},{"diffs":[[0,"unt);\r\n}\r\n\r\n"],[1,"function\r\n\r\n"],[0,"sonia.addLis"]],"start1":2827,"start2":2827,"length1":24,"length2":36}]],"length":30946,"saved":false}
{"ts":1374287405147,"patch":[[{"diffs":[[0,"function"],[1," song(from, to, message) {\r\n    reply(from, to, 'Current Song: '+current.response.data.status.currentsong);\r\n}"],[0,"\r\n\r\nsoni"]],"start1":2839,"start2":2839,"length1":16,"length2":126}]],"length":31056,"saved":false}
{"ts":1374287553833,"patch":[[{"diffs":[[0,"ong);\r\n}\r\n\r\n"],[1,"function help(from, to, message) {\r\n    reply(from, to, 'Help is available, along with rules, at https://docs.google.com/document/d/15u3B8RexqXryPV1tfF9yJHcTbAAd0ltoPB6a9hKKyWc');\r\n}\r\n\r\n"],[0,"sonia.addLis"]],"start1":2949,"start2":2949,"length1":24,"length2":210}]],"length":31242,"saved":false}
{"ts":1374288099235,"patch":[[{"diffs":[[0,"  },5000);\r\n"],[1,"    \r\n    // Register event handlers\r\n"],[0,"    emitter."]],"start1":2485,"start2":2485,"length1":24,"length2":62},{"diffs":[[0,"isteners"],[-1,"(from, to, message)"],[0,");\r\n    "]],"start1":2564,"start2":2564,"length1":35,"length2":16},{"diffs":[[0,"song"],[-1,"(from, to, message));"],[1,");\r\n    emitter.on('help', help);\r\n    emitter.on('rules', help);\r\n    "],[0,"\r\n})"]],"start1":2599,"start2":2599,"length1":29,"length2":79},{"diffs":[[0,"message);\r\n}\r\n\r\n"],[1,"function opCommand(from, to, message, callback) {\r\n    sonia.whois(from, function (info) {\r\n        if ((info.channels && info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) || from == 'linaea') {\r\n            callback(from, to, message);\r\n        } else {\r\n            sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n        }\r\n    });\r\n}\r\n\r\n"],[0,"function listene"]],"start1":2766,"start2":2766,"length1":32,"length2":486},{"diffs":[[0,"Wc');\r\n}\r\n\r\n"],[1,"function setProperty(from, to, message) {\r\n    var p = message.match(/ (.*)/i)[1]\r\n    settings[p] = !settings[p];\r\n    reply(from, to, p+' '+(settings[p]?'on':'off'));\r\n}\r\n\r\n"],[0,"sonia.addLis"]],"start1":3658,"start2":3658,"length1":24,"length2":199}]],"length":31940,"saved":false}
{"ts":1374288113154,"patch":[[{"diffs":[[0,"/ (.*)/i)[1]"],[1,";"],[0,"\r\n    settin"]],"start1":3739,"start2":3739,"length1":24,"length2":25}]],"length":31941,"saved":false}
{"ts":1374288163610,"patch":[[{"diffs":[[0,");\r\n    "],[1,"emitter.on('setProperty', function (from, to, message) {\r\n        opCommand(from, to, message, setProperty);\r\n    });"],[0,"\r\n});\r\n\r"]],"start1":2666,"start2":2666,"length1":16,"length2":133}]],"length":32058,"saved":false}
{"ts":1374288264471,"patch":[[{"diffs":[[0,"hKKyWc');\r\n}\r\n\r\n"],[1,"function lastLogin(from, to, message) {\r\n    reply(from, to, \"Last login by \"+message.match(/ (.*)/i)[1]+\": \"+moment(db.name[message.match(/ (.*)/i)[1]]).fromNow());\r\n}\r\n\r\n"],[0,"function setProp"]],"start1":3771,"start2":3771,"length1":32,"length2":204}]],"length":32230,"saved":false}
{"ts":1374288291811,"patch":[[{"diffs":[[0,"    "],[-1,"reply(from, to, \"Last login by \"+message.match(/ (.*)/i)[1]+\": \"+moment(db.name[message.match(/ (.*)/i)[1]"],[1,"var args = message.match(/ (.*)/i)[1];\r\n    reply(from, to, \"Last login by \"+args+\": \"+moment(db.name[args"],[0,"]).f"]],"start1":3828,"start2":3828,"length1":114,"length2":114}]],"length":32230,"saved":false}
{"ts":1374288356965,"patch":[[{"diffs":[[0," /)[1], "],[-1,"message"],[1,"from, to, message, message.match(/ (.*)/).trim()"],[0,");\r\n    "]],"start1":5459,"start2":5459,"length1":23,"length2":64}]],"length":32271,"saved":false}
{"ts":1374288383802,"patch":[[{"diffs":[[0,"sage"],[-1,") {\r\n    var args = message.match(/ (.*)/i)[1];"],[1,", args) {"],[0,"\r\n  "]],"start1":3819,"start2":3819,"length1":55,"length2":17},{"diffs":[[0,"sage"],[-1,") {\r\n    var p = message.match(/ (.*)/i)[1];"],[1,", args) {"],[0,"\r\n  "]],"start1":3955,"start2":3955,"length1":52,"length2":17},{"diffs":[[0,"ettings["],[-1,"p"],[1,"args"],[0,"] = !set"]],"start1":3975,"start2":3975,"length1":17,"length2":20},{"diffs":[[0,"ettings["],[-1,"p"],[1,"args"],[0,"];\r\n    "]],"start1":3993,"start2":3993,"length1":17,"length2":20},{"diffs":[[0,"om, to, "],[-1,"p"],[1,"args"],[0,"+' '+(se"]],"start1":4021,"start2":4021,"length1":17,"length2":20},{"diffs":[[0,"ettings["],[-1,"p"],[1,"args"],[0,"]?'on':'"]],"start1":4040,"start2":4040,"length1":17,"length2":20}]],"length":32210,"saved":false}
{"ts":1374288401725,"patch":[[{"diffs":[[0,"message,"],[1," args,"],[0," callbac"]],"start1":2928,"start2":2928,"length1":16,"length2":22},{"diffs":[[0,"rom, to, message"],[1,", args"],[0,");\r\n        } el"]],"start1":3221,"start2":3221,"length1":32,"length2":38}]],"length":32222,"saved":false}
{"ts":1374288418209,"patch":[[{"diffs":[[0,"rom, to, message"],[1,", args"],[0,") {\r\n        opC"]],"start1":2711,"start2":2711,"length1":32,"length2":38},{"diffs":[[0,"message,"],[1," args,"],[0," setProp"]],"start1":2766,"start2":2766,"length1":16,"length2":22}]],"length":32234,"saved":false}
{"ts":1374288462830,"patch":[[{"diffs":[[0,"f'));\r\n}\r\n\r\n"],[1,"function action(from, to, message, args) {\r\n    sonia.action('#SonicRadioboom', args);\r\n}\r\n\r\n"],[0,"sonia.addLis"]],"start1":4086,"start2":4086,"length1":24,"length2":117}]],"length":32327,"saved":false}
{"ts":1374288487531,"patch":[[{"diffs":[[0,";\r\n    });\r\n"],[1,"    emitter.on('action', function (from, to, message, args) {\r\n        opCommand(from, to, message, args, setProperty);\r\n    });\r\n"],[0,"});\r\n\r\nfunct"]],"start1":2793,"start2":2793,"length1":24,"length2":154}]],"length":32457,"saved":false}
{"ts":1374288503535,"patch":[[{"diffs":[[0,"rules', help);\r\n"],[1,"    emitter.on('lastLogin', lastLogin);\r\n"],[0,"    emitter.on('"]],"start1":2654,"start2":2654,"length1":32,"length2":73}]],"length":32498,"saved":false}
{"ts":1374288626379,"patch":[[{"diffs":[[0,";\r\n    });\r\n"],[1,"    emitter.on('hug', function (from, to, message, args) {\r\n        emitter.emit('action', 'linaea', '#SonicRadioboom', message, args);\r\n    })\r\n"],[0,"});\r\n\r\nfunct"]],"start1":2964,"start2":2964,"length1":24,"length2":169},{"diffs":[[0,"    "],[-1,"if (message.match(/^s(?:ong| |$)/i)) {\r\n            sonia.say((to==settings.botName?from:to), 'Current Song: '+current.response.data.status.currentsong);\r\n            proc=true;message='';\r\n        } else if (message.match(/^l(?:isteners| |$)/i)) {\r\n            sonia.say((to==settings.botName?from:to), 'Listeners: '+current.response.data.status.listenercount);\r\n            proc=true;message='';\r\n        } else if (message.match(/^lo(?:gin| |$)/i) && message.match(/ (.*)$/i)) {\r\n            sonia.say((to==settings.botName?from:to), \"Last login by \"+message.match(/ (.*)/i)[1]+\": \"+moment(db.name[message.match(/ (.*)/i)[1]]).fromNow());\r\n            proc=true;message='';\r\n        } else if (message.match(/^help|^command/i) || message == '?') {\r\n            sonia.say((to==settings.botName?from:to),\r\n            'Commands: [s]ong, [l]isteners, [lo]gin, [help|command], @[no]tify, [h]ug, [p]oke, @[a]dd, @[s]ay, [w]hen, [g]etdata, [n]ext, @[no]tify');\r\n            proc=true;message='';\r\n        } else if (message.match(/^set /i)) {\r\n            var setting = message.match(/ (.*)/i);\r\n            sonia.whois(from, function (info) {\r\n                if ((info.channels && info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) || from == 'linaea') {\r\n                    settings[setting] = !settings[setting];\r\n                    sonia.say((to==settings.botName?from:to), setting+' '+(settings[setting]?'on':'off'));\r\n                } else {\r\n                    sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n            proc=true;message='';\r\n        } else if (message.match(/^ac(?:tion| |) ?/i) && message.match(/ (.*)$/i)) {\r\n            var action = message;\r\n            sonia.whois(from, function (info) {\r\n                if ((info.channels && info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) || from == 'linaea') {\r\n                    sonia.action('#SonicRadioboom', action.match(/ (.*)/i)[1]);\r\n                } else {\r\n                    sonia.action(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n            proc=true;message='';\r\n        }"],[0," els"]],"start1":5905,"start2":5905,"length1":2362,"length2":8}]],"length":30289,"saved":false}
{"ts":1374288632102,"patch":[[{"diffs":[[0,"\r\n    })"],[1,";\r\n    "],[0,"\r\n});\r\n\r"]],"start1":3111,"start2":3111,"length1":16,"length2":23}]],"length":30296,"saved":false}
{"ts":1374288680764,"patch":[[{"diffs":[[0,"boom', message, "],[1,"'hugs '+args);\r\n    });\r\n    emitter.on('poke', function (from, to, message, args) {\r\n        emitter.emit('action', 'linaea', '#SonicRadioboom', message, 'pokes '+"],[0,"args);\r\n    });\r"]],"start1":3089,"start2":3089,"length1":32,"length2":196},{"diffs":[[0,"    "],[-1," else if (message.match(/^h(?:ug| |$)/i)) {\r\n            sonia.action('#SonicRadioboom', ' hugs '+(message.match(/ (.*)/i)?message.match(/ (.*)/i)[1]:from));\r\n            proc=true;message='';\r\n        }"],[0," els"]],"start1":6076,"start2":6076,"length1":211,"length2":8}]],"length":30257,"saved":false}
{"ts":1374288733050,"patch":[[{"diffs":[[0,"gs);\r\n}\r"],[1,"\nfunction addMeta(from, to, message, args) {\r\n    db.song[current.response.data.status.currentsong] = (add.match(/ (.*)/i)?add.match(/ (.*)/i)[1]:rem);\r\n}\r"],[0,"\n\r\nsonia"]],"start1":4667,"start2":4667,"length1":16,"length2":171},{"diffs":[[0,"    "],[-1," else if (message.match(/^p(?:oke| |$)/i) && message.match(/ (.*)$/i)) {\r\n            sonia.action('#SonicRadioboom', ' pokes '+message.match(/ (.*)/i)[1]);\r\n            proc=true;message='';\r\n        }"],[0," els"]],"start1":6231,"start2":6231,"length1":210,"length2":8}]],"length":30210,"saved":false}
{"ts":1374288803716,"patch":[[{"diffs":[[0,"= (a"],[-1,"dd"],[1,"rgs"],[0,".match(/"],[-1," (.*)/i)?add.match(/ (.*)/i)[1]:rem"],[1,"^$|^it/i))?rem:args"],[0,");\r\n"]],"start1":4775,"start2":4775,"length1":53,"length2":38}]],"length":30195,"saved":false}
{"ts":1374288807091,"patch":[[{"diffs":[[0,"i))?rem:args"],[-1,")"],[0,";\r\n}\r\n\r\nsoni"]],"start1":4797,"start2":4797,"length1":25,"length2":24}]],"length":30194,"saved":false}
{"ts":1374288831203,"patch":[[{"diffs":[[0,":args;\r\n"],[1,"    reply(from, to, 'I know that '+current.response.data.status.currentsong+' is '+db.song[current.response.data.status.currentsong]);\r\n"],[0,"}\r\n\r\nson"]],"start1":4804,"start2":4804,"length1":16,"length2":152}]],"length":30330,"saved":false}
{"ts":1374288840105,"patch":[[{"diffs":[[0,"    "],[-1," else if (message.match(/^a(?:dd| |$)/i)) {\r\n            var add = message;\r\n            sonia.whois(from, function (info) {\r\n                if ((info.channels && info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) || from == 'linaea') {\r\n                    db.song[current.response.data.status.currentsong+\"\"] = (add.match(/ (.*)/i)?add.match(/ (.*)/i)[1]:rem);\r\n                    sonia.say((to==settings.botName?from:to), 'I know that '+current.response.data.status.currentsong+' is '+db.song[current.response.data.status.currentsong]);\r\n                } else {\r\n                    sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n            proc=true;message='';\r\n        }"],[0," els"]],"start1":6351,"start2":6351,"length1":837,"length2":8}]],"length":29501,"saved":false}
{"ts":1374288895789,"patch":[[{"diffs":[[0,"s);\r\n}\r\n"],[1,"\r\nfunction action(from, to, message, args) {\r\n    sonia.say('#SonicRadioboom', args);\r\n}\r\n\r\n"],[0,"function"]],"start1":4668,"start2":4668,"length1":16,"length2":108},{"diffs":[[0,"\n   "],[-1,"      else if (message.match(/^y(?:es, add it|es, it is)/i)) {\r\n            sonia.whois(from, function (info) {\r\n                if ((info.channels && info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) || from == 'linaea') {\r\n                    db.song[current.SHOUTCASTSERVER.SONGTITLE+\"\"] = rem;\r\n                    sonia.say((to==settings.botName?from:to), 'I know that '+current.SHOUTCASTSERVER.SONGTITLE+' is '+db.song[current.SHOUTCASTSERVER.SONGTITLE]);\r\n                } else {\r\n                    sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n            proc=true;message='';\r\n        }"],[0," els"]],"start1":6438,"start2":6438,"length1":758,"length2":8}]],"length":28843,"saved":false}
{"ts":1374288920309,"patch":[[{"diffs":[[0,"rty);\r\n    });\r\n"],[1,"    emitter.on('say', function (from, to, message, args) {\r\n        opCommand(from, to, message, args, setProperty);\r\n    });\r\n"],[0,"    emitter.on('"]],"start1":2960,"start2":2960,"length1":32,"length2":159}]],"length":28970,"saved":false}
{"ts":1374288924382,"patch":[[{"diffs":[[0,"age, args, s"],[-1,"etPropert"],[1,"a"],[0,"y);\r\n    });"]],"start1":3068,"start2":3068,"length1":33,"length2":25}]],"length":28962,"saved":false}
{"ts":1374288927765,"patch":[[{"diffs":[[0,"sage, args, "],[-1,"setProperty"],[1,"action"],[0,");\r\n    });\r"]],"start1":2940,"start2":2940,"length1":35,"length2":30}]],"length":28957,"saved":false}
{"ts":1374288935962,"patch":[[{"diffs":[[0,"\r\n}\r\n\r\nfunction "],[-1,"action"],[1,"say"],[0,"(from, to, messa"]],"start1":4785,"start2":4785,"length1":38,"length2":35}]],"length":28954,"saved":false}
{"ts":1374288966070,"patch":[[{"diffs":[[0,"say);\r\n    });\r\n"],[1,"    emitter.on('add', function (from, to, message, args) {\r\n        opCommand(from, to, message, args, addMeta);\r\n    });\r\n"],[0,"    emitter.on('"]],"start1":3074,"start2":3074,"length1":32,"length2":155}]],"length":29077,"saved":false}
{"ts":1374289011223,"patch":[[{"diffs":[[0,"eta);\r\n    });\r\n"],[1,"    emitter.on('ban', function (from, to, message, args) {\r\n        opCommand(from, to, message, args, ban);\r\n    });\r\n"],[0,"    emitter.on('"]],"start1":3197,"start2":3197,"length1":32,"length2":151},{"diffs":[[0,"  \r\n"],[-1,"    else if (message.match(/^sa(?:y| |$)/i) && message.match(/ (.*)/i)) {\r\n            var say = message;\r\n            sonia.whois(from, function (info) {\r\n                if ((info.channels && info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) || from == 'linaea') {\r\n                    sonia.say('#SonicRadioboom', say.match(/^say? (.*)$/i)[1]);\r\n                } else {\r\n                    sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n            proc=true;message='';\r\n        }"],[0," els"]],"start1":6788,"start2":6788,"length1":644,"length2":8}]],"length":28560,"saved":false}
{"ts":1374289463960,"patch":[[{"diffs":[[0,"ng]);\r\n}\r\n\r\n"],[1,"function ban(from, to, message, args) {\r\n    db.ban[args] = true;\r\n    reply(from, to, 'Banned: '+db.ban[args]);\r\n}\r\n\r\n"],[0,"sonia.addLis"]],"start1":5386,"start2":5386,"length1":24,"length2":143}]],"length":28679,"saved":false}
{"ts":1374289565662,"patch":[[{"diffs":[[0,"ion);\r\n    });\r\n"],[1,"    emitter.on('hug', function (from, to, message, args) {\r\n        emitter.emit('action', 'linaea', '#SonicRadioboom', message, 'hugs '+args);\r\n    });\r\n    emitter.on('poke', function (from, to, message, args) {\r\n        emitter.emit('action', 'linaea', '#SonicRadioboom', message, 'pokes '+args);\r\n    });\r\n"],[0,"    emitter.on('"]],"start1":2955,"start2":2955,"length1":32,"length2":342},{"diffs":[[0," });"],[-1,"\r\n    emitter.on('hug', function (from, to, message, args) {\r\n        emitter.emit('action', 'linaea', '#SonicRadioboom', message, 'hugs '+args);\r\n    });\r\n    emitter.on('poke', function (from, to, message, args) {\r\n        emitter.emit('action', 'linaea', '#SonicRadioboom', message, 'pokes '+args);\r\n    });\r\n"],[0,"    "]],"start1":3636,"start2":3636,"length1":320,"length2":8},{"diffs":[[0,"  \r\n"],[-1," else if (message.match(/^b(?:an| |$)/i) && message.match(/ (.*)/i)) {\r\n            var ban = message;\r\n            sonia.whois(from, function (info) {\r\n                if ((info.channels && info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) || from == 'linaea') {\r\n                    db.ban[ban.match(/ (.*)/i)[1]] = true;\r\n                    sonia.say((to==settings.botName?from:to), 'banned: '+ban.match(/ (.*)/i)[1]);\r\n                } else {\r\n                    sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n            proc=true;message='';\r\n        }"],[0," els"]],"start1":6905,"start2":6905,"length1":719,"length2":8}]],"length":27966,"saved":false}
{"ts":1374289848740,"patch":[[{"diffs":[[0,"gs]);\r\n}\r\n\r\n"],[1,"function dump(from, to, message) {\r\n    sonia.say(from, JSON.stringify(db));\r\n}\r\n\r\n"],[0,"sonia.addLis"]],"start1":5503,"start2":5503,"length1":24,"length2":107}]],"length":28049,"saved":false}
{"ts":1374289888307,"patch":[[{"diffs":[[0,"\n    });"],[1,"\r\n"],[0,"    "],[-1,"\r\n"],[1,"emitter.on('dump', function (from, to, message, args) {\r\n        opCommand(from, to, message, args, dump);\r\n    });\r\n    "],[0,"});\r\n\r\nf"]],"start1":3632,"start2":3632,"length1":22,"length2":143}]],"length":28170,"saved":false}
{"ts":1374289941538,"patch":[[{"diffs":[[0,"db));\r\n}\r\n\r\n"],[1,"function load(from, to, message) {\r\n    db = JSON.parse(message);\r\n    reply(from, to, 'Loaded database.')\r\n}\r\n\r\n"],[0,"sonia.addLis"]],"start1":5707,"start2":5707,"length1":24,"length2":137},{"diffs":[[0," \r\n "],[-1,"else if (message.match(/^d(?:ump| |$)/i)) {\r\n            sonia.whois(from, function (info) {\r\n                if ((info.channels && info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) || from == 'linaea') {\r\n                    sonia.say(from, JSON.stringify(db));\r\n                } else {\r\n                    sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n            proc=true;message='';\r\n        }"],[1,"       "],[0," els"]],"start1":7223,"start2":7223,"length1":559,"length2":15}]],"length":27739,"saved":false}
{"ts":1374289944236,"patch":[[{"diffs":[[0,"abase.')"],[1,";"],[0,"\r\n}\r\n\r\ns"]],"start1":5817,"start2":5817,"length1":16,"length2":17}]],"length":27740,"saved":false}
{"ts":1374289959552,"patch":[[{"diffs":[[0,";\r\n    });\r\n"],[1,"    emitter.on('load', function (from, to, message, args) {\r\n        opCommand(from, to, message, args, dump);\r\n    });\r\n"],[0,"    });\r\n\r\nf"]],"start1":3751,"start2":3751,"length1":24,"length2":145}]],"length":27861,"saved":false}
{"ts":1374290001538,"patch":[[{"diffs":[[0,";\r\n    });\r\n"],[1,"    \r\n"],[0,"    });\r\n\r\nf"]],"start1":3872,"start2":3872,"length1":24,"length2":30}]],"length":27867,"saved":false}
{"ts":1374290008301,"patch":[[{"diffs":[[0," message, args, "],[-1,"dump"],[1,"load"],[0,");\r\n    });\r\n   "]],"start1":3851,"start2":3851,"length1":36,"length2":36}]],"length":27867,"saved":false}
{"ts":1374290016567,"patch":[[{"diffs":[[0,"    "],[-1,"  else if (message.match(/^r(?:estore| |$)/i)) {\r\n            var restore = message;\r\n            sonia.whois(from, function (info) {\r\n                if ((info.channels && info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) || from == 'linaea') {\r\n                    db = JSON.parse(restore);\r\n                } else {\r\n                    sonia.say(from, 'You\\'re not an OP, I don\\'t trust you ...');\r\n                }\r\n            });\r\n            proc=true;message='';\r\n        \r\n        }"],[0," els"]],"start1":7357,"start2":7357,"length1":599,"length2":8}]],"length":27276,"saved":false}
{"ts":1374290221337,"patch":[[{"diffs":[[0,"e.');\r\n}\r\n\r\n"],[1,"function sayWhen(from, to, message) {\r\n    var parts = message.match(/^w(?:hen).*\\{(.*?)\\}.*\\{(.*?)\\}/i;\r\n    if ((message.match(/^w(?:hen).*\\{(.*?)\\}.*\\{(.*?)\\}/i) \r\n        && message.match(/^w(?:hen).*\\{(.*?)\\}.*\\{(.*?)\\}/i).length == 3)) {\r\n                    var match = event.match(/\\{(.*?)\\}.*\\{(.*?)\\}/i);\r\n                    if (!event.match(\"regex\") && !event.match('event')) match[1] = RegExp.quote(match[1]);\r\n                    if (event.match(/\\}.*say.*\\{/i)) db.say[match[1]] = match[2];\r\n                    if (event.match(/\\}.*do.*\\{/i)) db.act[match[1]] = match[2];\r\n                    sonia.say((to==settings.botName?from:to), 'Got it!');\r\n                }});\r\n}\r\n\r\n"],[0,"sonia.addLis"]],"start1":5948,"start2":5948,"length1":24,"length2":715}]],"length":27967,"saved":false}
{"ts":1374290282087,"patch":[[{"diffs":[[0,"if ("],[-1,"(message.match(/^w(?:hen).*\\{(.*?)\\}.*\\{(.*?)\\}/i) \r\n        && message.match(/^w(?:hen).*\\{(.*?)\\}.*\\{(.*?)\\}/i).length == 3)) {\r\n                    var match = event.match(/\\{(.*?)\\}.*\\{(.*?)\\}/i);\r\n                    if (!event"],[1,"!message"],[0,".mat"]],"start1":6070,"start2":6070,"length1":240,"length2":16},{"diffs":[[0,"    "],[-1,"                if (event"],[1,"if (message"],[0,".mat"]],"start1":6160,"start2":6160,"length1":33,"length2":19},{"diffs":[[0," db.say["],[-1,"match"],[1,"parts"],[0,"[1]] = "],[-1,"match"],[1,"parts"],[0,"[2];\r\n  "]],"start1":6198,"start2":6198,"length1":33,"length2":33},{"diffs":[[0,"    "],[-1,"                if (event"],[1,"if (message"],[0,".mat"]],"start1":6229,"start2":6229,"length1":33,"length2":19},{"diffs":[[0," db.act["],[-1,"match"],[1,"parts"],[0,"[1]] = "],[-1,"match"],[1,"parts"],[0,"[2];\r\n  "]],"start1":6266,"start2":6266,"length1":33,"length2":33},{"diffs":[[0,"    "],[-1,"                sonia.say((to==settings.botName?"],[1,"reply("],[0,"from"],[-1,":"],[1,", "],[0,"to"],[-1,")"],[0,", 'G"]],"start1":6297,"start2":6297,"length1":64,"length2":22},{"diffs":[[0,"it!');\r\n"],[-1,"                }});\r\n"],[0,"}\r\n\r\nson"]],"start1":6322,"start2":6322,"length1":38,"length2":16}]],"length":27651,"saved":false}
{"ts":1374290289612,"patch":[[{"diffs":[[0,".*?)\\}/i"],[1,")"],[0,";\r\n    i"]],"start1":6055,"start2":6055,"length1":16,"length2":17}]],"length":27652,"saved":false}
{"ts":1374290296486,"patch":[[{"diffs":[[0,"match('event')) "],[-1,"match"],[1,"parts"],[0,"[1] = RegExp.quo"]],"start1":6109,"start2":6109,"length1":37,"length2":37},{"diffs":[[0," = RegExp.quote("],[-1,"match"],[1,"parts"],[0,"[1]);\r\n    if (m"]],"start1":6133,"start2":6133,"length1":37,"length2":37}]],"length":27652,"saved":false}
{"ts":1374290329298,"patch":[[{"diffs":[[0,";\r\n    });\r\n"],[1,"    emitter.on('sayWhen', function (from, to, message, args) {\r\n        opCommand(from, to, message, args, load);\r\n    });\r\n"],[0,"    \r\n    })"]],"start1":3872,"start2":3872,"length1":24,"length2":148}]],"length":27776,"saved":false}
{"ts":1374290347011,"patch":[[{"diffs":[[0,"sage.match(/"],[-1,"^w(?:hen).*"],[0,"\\{(.*?)\\}.*\\"]],"start1":6142,"start2":6142,"length1":35,"length2":24}]],"length":27765,"saved":false}
{"ts":1374290356577,"patch":[[{"diffs":[[0,"    "],[-1,"else if ((message.match(/^w(?:hen).*\\{(.*?)\\}.*\\{(.*?)\\}/i) \r\n        && message.match(/^w(?:hen).*\\{(.*?)\\}.*\\{(.*?)\\}/i).length == 3)) {\r\n            var event = message;\r\n            sonia.whois(from, function (info) {\r\n                if ((info.channels && info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) || from == 'linaea') {\r\n                    var match = event.match(/\\{(.*?)\\}.*\\{(.*?)\\}/i);\r\n                    if (!event.match(\"regex\") && !event.match('event')) match[1] = RegExp.quote(match[1]);\r\n                    if (event.match(/\\}.*say.*\\{/i)) db.say[match[1]] = match[2];\r\n                    if (event.match(/\\}.*do.*\\{/i)) db.act[match[1]] = match[2];\r\n                    sonia.say((to==settings.botName?from:to), 'Got it!');\r\n                }});\r\n            proc=true;\r\n        }"],[0," els"]],"start1":7847,"start2":7847,"length1":915,"length2":8}]],"length":26858,"saved":false}
{"ts":1374290375497,"patch":[[{"diffs":[[0,"ntsong]);\r\n}\r\n\r\n"],[1,"function getMeta(from, to, message, args) {\r\n    \r\n}\r\n\r\n"],[0,"function ban(fro"]],"start1":5752,"start2":5752,"length1":32,"length2":88}]],"length":26914,"saved":false}
{"ts":1374290426705,"patch":[[{"diffs":[[0," {\r\n    "],[1,"var data = db.song[args||current.response.data.status.currentsong];\r\n            if (!data) {\r\n                googleapis.discover('youtube', 'v3').execute(function(err, client) {\r\n                    var params = {\r\n                        maxResults: 1,\r\n                        q: (dlc.match(/ (.*)/i)?dlc.match(/ (.*)/i)[1]:current.response.data.status.currentsong),\r\n                        part: 'snippet',\r\n                        };\r\n                    if (settings.verbose) console.log('linaea', params.q);\r\n                    client.youtube.search.list(params).withApiKey(key).execute(function (err, response) {\r\n                        response.items.forEach(function (item,a,b) {\r\n                            sonia.say((to==settings.botName?from:to), from+': Does this help? '+current.response.data.status.currentsong+' might be http://www.youtube.com/watch?v='+item.id.videoId);\r\n                            rem = 'http://www.youtube.com/watch?v='+item.id.videoId;\r\n                            });\r\n                    })});\r\n            } else {\r\n                sonia.say((to==settings.botName?from:to), from+': Does this help? '+current.response.data.status.currentsong+' is '+data);\r\n            }"],[0,"\r\n}\r\n\r\nf"]],"start1":5809,"start2":5809,"length1":16,"length2":1232}]],"length":28130,"saved":false}
{"ts":1374290737276,"patch":[[{"diffs":[[0,"rentsong];\r\n"],[-1,"        "],[0,"    if (!dat"]],"start1":5874,"start2":5874,"length1":32,"length2":24},{"diffs":[[0," (!data) {\r\n"],[-1,"        "],[0,"        goog"]],"start1":5892,"start2":5892,"length1":32,"length2":24},{"diffs":[[0,"(err, client"],[-1,") {\r\n       "],[1,", to, from, message, args) {\r\n"],[0,"            "]],"start1":5965,"start2":5965,"length1":36,"length2":54},{"diffs":[[0," {\r\n            "],[-1," "],[0,"var params = {\r\n"]],"start1":6003,"start2":6003,"length1":33,"length2":32},{"diffs":[[0,"params = {\r\n"],[-1,"        "],[0,"            "]],"start1":6023,"start2":6023,"length1":32,"length2":24},{"diffs":[[0,"    "],[-1,"        q: (dlc.match(/ (.*)/i)?dlc.match(/ (.*)/i)[1]:"],[1,"q: args||"],[0,"curr"]],"start1":6079,"start2":6079,"length1":63,"length2":17},{"diffs":[[0,"atus.currentsong"],[-1,")"],[0,",\r\n             "]],"start1":6116,"start2":6116,"length1":33,"length2":32},{"diffs":[[0,"            "],[-1,"     "],[-1,"   "],[0,"part: 'snipp"]],"start1":6139,"start2":6139,"length1":32,"length2":24},{"diffs":[[0,"    "],[-1,"        };\r\n                    if (settings.verbose) console.log('linaea', params.q);\r\n        "],[1,"};\r\n"],[0,"    "]],"start1":6181,"start2":6181,"length1":104,"length2":12},{"diffs":[[0,"rr, response"],[-1,") {\r\n        "],[1,", to, from, message, args) {\r\n"],[0,"            "]],"start1":6271,"start2":6271,"length1":37,"length2":54},{"diffs":[[0,"    "],[-1,"        sonia.say((to==settings.botName?"],[1,"reply("],[0,"from"],[-1,":"],[1,", "],[0,"to"],[-1,")"],[0,", fr"]],"start1":6391,"start2":6391,"length1":56,"length2":22},{"diffs":[[0,"            "],[-1,"        "],[0,"rem = 'http:"]],"start1":6549,"start2":6549,"length1":32,"length2":24},{"diffs":[[0,"d.videoId;\r\n"],[-1,"        "],[0,"            "]],"start1":6607,"start2":6607,"length1":32,"length2":24},{"diffs":[[0,"        "],[-1,"        "],[0,"})});\r\n"],[-1,"        "],[0,"    } el"]],"start1":6648,"start2":6648,"length1":39,"length2":23},{"diffs":[[0,"    "],[-1,"       "],[-1," sonia.say((to==settings.botName?"],[1,"reply("],[0,"from"],[-1,":"],[1,", "],[0,"to"],[-1,")"],[0,", fr"]],"start1":6681,"start2":6681,"length1":56,"length2":22},{"diffs":[[0,"s '+data);\r\n"],[-1,"        "],[0,"    }\r\n}\r\n\r\n"]],"start1":6771,"start2":6771,"length1":32,"length2":24}]],"length":27885,"saved":false}
{"ts":1374290743150,"patch":[[{"diffs":[[0," from+':"],[-1," Does this help?"],[0," '+curre"]],"start1":6700,"start2":6700,"length1":32,"length2":16}]],"length":27869,"saved":false}
{"ts":1374290828904,"patch":[[{"diffs":[[0,"g', song);\r\n"],[1,"    emitter.on('dlc', getMeta);\r\n"],[0,"    emitter."]],"start1":2595,"start2":2595,"length1":24,"length2":57}]],"length":27902,"saved":false}
{"ts":1374291383890,"patch":[[{"diffs":[[0,"    }\r\n}\r\n\r\n"],[1,"function event(from, to, message) {\r\n    if (!next || moment(next.start.dateTime).fromNow().match('ago')) {\r\n        updateNextShow();\r\n    } else {\r\n        reply(from, to, 'Next event '+next.summary+' starts '+moment(next.start.dateTime).fromNow());\r\n    }\r\n}\r\n\r\n"],[0,"function ban"]],"start1":6800,"start2":6800,"length1":24,"length2":289},{"diffs":[[0,"  \r\n"],[-1,"         else if (message.match(/^[dg](?:et ?link|lc| |$)/i)) {\r\n            message = message.replace('get link','getlink');\r\n            var data = db.song[(message.match(/ (.*)/i)?message.match(/ (.*)/i)[1]:+current.response.data.status.currentsong)+\"\"];\r\n            var dlc = message;\r\n            if (!data) {\r\n                googleapis.discover('youtube', 'v3').execute(function(err, client) {\r\n                    var params = {\r\n                        maxResults: 1,\r\n                        q: (dlc.match(/ (.*)/i)?dlc.match(/ (.*)/i)[1]:current.response.data.status.currentsong),\r\n                        part: 'snippet',\r\n                        };\r\n                    if (settings.verbose) console.log('linaea', params.q);\r\n                    client.youtube.search.list(params).withApiKey(key).execute(function (err, response) {\r\n                        response.items.forEach(function (item,a,b) {\r\n                            sonia.say((to==settings.botName?from:to), from+': Does this help? '+current.response.data.status.currentsong+' might be http://www.youtube.com/watch?v='+item.id.videoId);\r\n                            rem = 'http://www.youtube.com/watch?v='+item.id.videoId;\r\n                            });\r\n                    })});\r\n            } else {\r\n                sonia.say((to==settings.botName?from:to), from+': Does this help? '+current.response.data.status.currentsong+' is '+data);\r\n            }\r\n            proc=true;message='';\r\n        }"],[0," els"]],"start1":9148,"start2":9148,"length1":1492,"length2":8}]],"length":26683,"saved":false}
{"ts":1374291407064,"patch":[[{"diffs":[[0,"'+next.summary+'"],[1,";"],[0," start"],[1,"ing time i"],[0,"s '+moment(next."]],"start1":6998,"start2":6998,"length1":38,"length2":49}]],"length":26694,"saved":false}
{"ts":1374291510500,"patch":[[{"diffs":[[0,";\r\n    });\r\n"],[1,"    emitter.on('next', event(from, to, message));\r\n"],[0,"    \r\n    })"]],"start1":4029,"start2":4029,"length1":24,"length2":75}]],"length":26745,"saved":false}
{"ts":1374291514795,"patch":[[{"diffs":[[0,"', event"],[-1,"(from, to, message)"],[0,");\r\n    "]],"start1":4061,"start2":4061,"length1":35,"length2":16}]],"length":26726,"saved":false}
{"ts":1374291522745,"patch":[[{"diffs":[[0,"rules', help);\r\n"],[1,"    emitter.on('next', event);\r\n"],[0,"    emitter.on('"]],"start1":2687,"start2":2687,"length1":32,"length2":64},{"diffs":[[0,");\r\n"],[-1,"    emitter.on('next', event);\r\n"],[0,"    "]],"start1":4069,"start2":4069,"length1":40,"length2":8}]],"length":26726,"saved":false}
{"ts":1374291590425,"patch":[[{"diffs":[[0,"abase.');\r\n}\r\n\r\n"],[1,"function exit() {\r\nfs.writeFileSync('../data/db.json', JSON.stringify(db));\r\nprocess.exit();\r\n}\r\n\r\n"],[0,"function sayWhen"]],"start1":7420,"start2":7420,"length1":32,"length2":131},{"diffs":[[0," \r\n "],[-1,"else if (message.match(/^n(?:ext| |$)/i)) {\r\n            if (!next || moment(next.start.dateTime).fromNow().match('ago')) {\r\n                updateNextShow();\r\n            } else {\r\n                sonia.say((to==settings.botName?from:to), 'Next event '+next.summary+' starts '+moment(next.start.dateTime).fromNow());\r\n            }\r\n            proc=true;message='';\r\n        }"],[1,"      "],[0," els"]],"start1":9291,"start2":9291,"length1":386,"length2":14}]],"length":26453,"saved":false}
{"ts":1374291598149,"patch":[[{"diffs":[[0,"it() {\r\n"],[1,"    "],[0,"fs.write"]],"start1":7447,"start2":7447,"length1":16,"length2":20},{"diffs":[[0,"gify(db));\r\n"],[1,"    "],[0,"process.exit"]],"start1":7505,"start2":7505,"length1":24,"length2":28}]],"length":26461,"saved":false}
{"ts":1374291631569,"patch":[[{"diffs":[[0," message, args, "],[-1,"load"],[1,"sayWhen);\r\n    });\r\n    emitter.on('quit', function (from, to, message, args) {\r\n        opCommand(from, to, message, args, exit"],[0,");\r\n    });\r\n   "]],"start1":4040,"start2":4040,"length1":36,"length2":160}]],"length":26585,"saved":false}
{"ts":1374291688807,"patch":[[{"diffs":[[0,"unction "],[-1,"exit"],[1,"save"],[0,"() {\r\n  "]],"start1":7561,"start2":7561,"length1":20,"length2":20},{"diffs":[[0,"gify(db));\r\n"],[1,"}\r\n\r\nfunction exit() {\r\n    emitter.emit('save')\r\n"],[0,"    process."]],"start1":7629,"start2":7629,"length1":24,"length2":74},{"diffs":[[0,"  \r\n"],[-1,"        else if (message=='PLEASE QUIT NAO') {\r\n            fs.writeFileSync('../data/db.json', JSON.stringify(db));\r\n            proc=true;message='';\r\n            process.exit();\r\n        } "],[0,"else"]],"start1":9472,"start2":9472,"length1":200,"length2":8}]],"length":26443,"saved":false}
{"ts":1374291690390,"patch":[[{"diffs":[[0,"('save')"],[1,";"],[0,"\r\n    pr"]],"start1":7681,"start2":7681,"length1":16,"length2":17}]],"length":26444,"saved":false}
{"ts":1374291723246,"patch":[[{"diffs":[[0,"tringify(db));\r\n"],[1,"    reply(from, to, '+20 INT')\r\n"],[0,"}\r\n\r\nfunction ex"]],"start1":7625,"start2":7625,"length1":32,"length2":64},{"diffs":[[0,"  \r\n"],[-1,"else if (message.match(/^SAVE/i)) {\r\n            fs.writeFile('../data/db.json', JSON.stringify(db), function (err) {\r\n              if (err) return console.log(err);\r\n              sonia.say((to==settings.botName?from:to), 'I feel smarter already!');\r\n            });\r\n            proc=true;message='';\r\n        }"],[0," els"]],"start1":9505,"start2":9505,"length1":322,"length2":8}]],"length":26162,"saved":false}
{"ts":1374291725072,"patch":[[{"diffs":[[0,"20 INT')"],[1,";"],[0,"\r\n}\r\n\r\nf"]],"start1":7663,"start2":7663,"length1":16,"length2":17}]],"length":26163,"saved":false}
{"ts":1374291747496,"patch":[[{"diffs":[[0,"o, '"],[-1,"+20 INT'"],[1,"INT is now '+JSON.stringify(db).length"],[0,");\r\n"]],"start1":7658,"start2":7658,"length1":16,"length2":46}]],"length":26193,"saved":false}
{"ts":1374291756787,"patch":[[{"diffs":[[0,"on save("],[1,"from, to"],[0,") {\r\n   "]],"start1":7566,"start2":7566,"length1":16,"length2":24},{"diffs":[[0,"on exit("],[1,"from, to"],[0,") {\r\n   "]],"start1":7723,"start2":7723,"length1":16,"length2":24}]],"length":26209,"saved":false}
{"ts":1374291787395,"patch":[[{"diffs":[[0,"   });\r\n    "],[1,"emitter.on('save', function (from, to, message, args) {\r\n        opCommand(from, to, message, args, save);\r\n    });"],[0,"\r\n    });\r\n\r"]],"start1":4189,"start2":4189,"length1":24,"length2":139}]],"length":26324,"saved":false}
{"ts":1374291856954,"patch":[[{"diffs":[[0,"', event);\r\n"],[1,"    emitter.on('define', define);\r\n"],[0,"    emitter."]],"start1":2723,"start2":2723,"length1":24,"length2":59}]],"length":26359,"saved":false}
{"ts":1374291894148,"patch":[[{"diffs":[[0,"\r\n    });\r\n}\r\n\r\n"],[1,"function define(from, to,  message, args) {\r\n    request('http://en.wikipedia.org/w/api.php?action=query&prop=extracts&explaintext=true&exsentences=3&redirects=true&format=json&titles='+message.match(/ (.*)/)[1], function (error, response, body) {\r\n            if (!error && response.statusCode == 200) {\r\n                body = JSON.parse(body);\r\n                var page = Object.keys(body.query.pages)[0];\r\n                sonia.say((to==settings.botName?from:to), body.query.pages[page].title+': \"'+body.query.pages[page].extract+'\" Source: http://en.wikipedia.org/wiki/'+body.query.pages[page].title);\r\n            }\r\n        });\r\n}\r\n\r\n"],[0,"function listene"]],"start1":4913,"start2":4913,"length1":32,"length2":673}]],"length":27000,"saved":false}
{"ts":1374291926096,"patch":[[{"diffs":[[0,"s='+"],[-1,"message.match(/ (.*)/)[1]"],[1,"args"],[0,", fu"]],"start1":5111,"start2":5111,"length1":33,"length2":12},{"diffs":[[0,"s.exit();\r\n}\r\n\r\n"],[1,"function awa\r\n\r\n"],[0,"function sayWhen"]],"start1":8551,"start2":8551,"length1":32,"length2":48},{"diffs":[[0,"  \r\n"],[-1," else if (message.match(/^d(?:efine)? (.+)/i)) {\r\n            request('http://en.wikipedia.org/w/api.php?action=query&prop=extracts&explaintext=true&exsentences=3&redirects=true&format=json&titles='+message.match(/ (.*)/)[1], function (error, response, body) {\r\n            if (!error && response.statusCode == 200) {\r\n                body = JSON.parse(body);\r\n                var page = Object.keys(body.query.pages)[0];\r\n                sonia.say((to==settings.botName?from:to), body.query.pages[page].title+': \"'+body.query.pages[page].extract+'\" Source: http://en.wikipedia.org/wiki/'+body.query.pages[page].title);\r\n            }\r\n            });\r\n            proc=true;message='';\r\n        }"],[0," els"]],"start1":10338,"start2":10338,"length1":705,"length2":8}]],"length":26298,"saved":false}
{"ts":1374291946488,"patch":[[{"diffs":[[0,"tion awa"],[1,"y(from, to) {\r\n    db.away[from]=[];\r\n    reply(from, to, 'I\\'ll hold your messages until you get back, '+from+'.');\r\n}"],[0,"\r\n\r\nfunc"]],"start1":8571,"start2":8571,"length1":16,"length2":135}]],"length":26417,"saved":false}
{"ts":1374291970315,"patch":[[{"diffs":[[0,", define);\r\n"],[1,"    emitter.on('away', away);\r\n    emitter.on('back', back);\r\n"],[0,"    emitter."]],"start1":2758,"start2":2758,"length1":24,"length2":86}]],"length":26479,"saved":false}
{"ts":1374292063367,"patch":[[{"diffs":[[0,"rom+'.');\r\n}\r\n\r\n"],[1,"function back(from, to) {\r\n    if (db.away[from]) {\r\n    sonia.say((to==settings.botName?from:to), 'Welcome back! '+from);\r\n    for (var i = 0; i < db.away[from].length; i++) {\r\n        sonia.say(from, db.away[from][i]);\r\n    }\r\n    sonia.say((to==settings.botName?from:to), 'You got '+db.away[from].length+' messages while you were away.');\r\n    delete db.away[from];\r\n    } else {\r\n        reply(from, to, 'Sorry, I don\\'t have anything for you, '+from+'.');\r\n    }\r\n}\r\n\r\n"],[0,"function sayWhen"]],"start1":8748,"start2":8748,"length1":32,"length2":506},{"diffs":[[0,"  \r\n"],[-1," else if (message.match(/^aw(?:ay)?/i)) {\r\n            db.away[from]=[];\r\n            sonia.say((to==settings.botName?from:to), 'I\\'ll hold your messages until you get back, '+from+'.');\r\n        } else if (message.match(/^b(?:ack) /i)) {\r\n            var f = message.match(/ (.*)/)[1];\r\n                sonia.whois(from, function (info) {\r\n                if ((info.channels && info.channels.indexOf('@#SonicRadioboom') >= 0 || info.channels.indexOf('~#SonicRadioboom') >= 0 || info.channels.indexOf('%#SonicRadioboom') >= 0) || from == 'linaea') {\r\n                    delete db.away[f];\r\n                    sonia.say((to==settings.botName?from:to), 'Got it!');\r\n                }});"],[0,"\r\n  "]],"start1":10993,"start2":10993,"length1":694,"length2":8}]],"length":26267,"saved":false}
{"ts":1374292078701,"patch":[[{"diffs":[[0,"y[from]) {\r\n"],[1,"    "],[0,"    sonia.sa"]],"start1":8805,"start2":8805,"length1":24,"length2":28},{"diffs":[[0,"! '+from);\r\n"],[1,"    "],[0,"    for (var"]],"start1":8880,"start2":8880,"length1":24,"length2":28},{"diffs":[[0,"i++) {\r\n        "],[1," "],[1,"   "],[0,"sonia.say(from, "]],"start1":8942,"start2":8942,"length1":32,"length2":36},{"diffs":[[0,"from][i]);\r\n"],[1,"    "],[0,"    }\r\n    s"]],"start1":8986,"start2":8986,"length1":24,"length2":28},{"diffs":[[0,"     }\r\n    "],[1," "],[1,"   "],[0,"sonia.say((t"]],"start1":9001,"start2":9001,"length1":24,"length2":28},{"diffs":[[0,"ou were away"],[1,", '+from+'"],[0,".');\r\n"],[1,"    "],[0,"    delete d"]],"start1":9109,"start2":9109,"length1":30,"length2":44}]],"length":26301,"saved":false}
{"ts":1374292087662,"patch":[[{"diffs":[[0,"    "],[-1,"sonia.say((to==settings.botName?"],[1,"reply("],[0,"from"],[-1,":"],[1,", "],[0,"to"],[-1,")"],[0,", 'Y"]],"start1":9013,"start2":9013,"length1":48,"length2":22}]],"length":26275,"saved":false}
{"ts":1374292266128,"patch":[[{"diffs":[[0,"    "],[-1,"sonia.say((to==settings.botName?"],[1,"reply("],[0,"from"],[-1,":"],[1,", "],[0,"to"],[-1,")"],[0,", 'W"]],"start1":8821,"start2":8821,"length1":48,"length2":22},{"diffs":[[0,"back! '+from);\r\n"],[1,"        var timeout = 0;\r\n"],[0,"        for (var"]],"start1":8850,"start2":8850,"length1":32,"length2":58},{"diffs":[[0," {\r\n            "],[1,"setTimeout(function () {"],[0,"sonia.say(from, "]],"start1":8946,"start2":8946,"length1":32,"length2":56},{"diffs":[[0,".away[from][i]);"],[1,"},timeout);\r\n            timeout+=15;"],[0,"\r\n        }\r\n   "]],"start1":9004,"start2":9004,"length1":32,"length2":69}]],"length":26336,"saved":false}
{"ts":1374292285240,"patch":[[{"diffs":[[0,");\r\n"],[-1,"        } else if (message.match(/^b(?:ack)?/i)) {\r\n            if (db.away[from]) {\r\n                sonia.say((to==settings.botName?from:to), 'Welcome back! '+from);\r\n                for (var i = 0; i < db.away[from].length; i++) {\r\n                    sonia.say(from, db.away[from][i]);\r\n                }\r\n                sonia.say((to==settings.botName?from:to), 'You got '+db.away[from].length+' messages while you were away.');\r\n                delete db.away[from];\r\n            }\r\n"],[0,"    "]],"start1":13188,"start2":13188,"length1":498,"length2":8}]],"length":25846,"saved":false}
{"ts":1374292345957,"patch":[[{"diffs":[[0,";\r\n    });\r\n"],[1,"    emitter.on('skip', function (from, to, message, args) {\r\n        opCommand(from, to, message, args, save);\r\n    });\r\n"],[0,"    });\r\n\r\nf"]],"start1":4403,"start2":4403,"length1":24,"length2":145},{"diffs":[[0,");\r\n    }\r\n}\r\n\r\n"],[1,"function skip(from, to, message, args) {\r\n    request('http://radio.ponyvillelive.com:2199/api.php?xm=server.nextsong&f=json&a[username]=Linana&a[password]=yoloswag', function (a,b,c) {reply(from, to, 'Skipped that one.');});\r\n}\r\n\r\n"],[0,"function sayWhen"]],"start1":9412,"start2":9412,"length1":32,"length2":264},{"diffs":[[0,"c) {"],[-1,"});\r\n                    sonia.say((to==settings.botName?"],[1,"reply("],[0,"from"],[-1,":"],[1,", "],[0,"to"],[-1,")"],[0,", 'S"]],"start1":13429,"start2":13429,"length1":73,"length2":22},{"diffs":[[0,"that one.');"],[1,"});\r\n                    "],[0,"\r\n          "]],"start1":13458,"start2":13458,"length1":24,"length2":49}]],"length":26173,"saved":false}
{"ts":1374292347875,"patch":[[{"diffs":[[0,"message, args, s"],[-1,"ave"],[1,"kip"],[0,");\r\n    });\r\n   "]],"start1":4504,"start2":4504,"length1":35,"length2":35}]],"length":26173,"saved":false}
